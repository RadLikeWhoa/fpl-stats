{"version":3,"sources":["serviceWorker.ts","components/Button/Button.tsx","components/Widget/Widget.tsx","components/Spinner/Spinner.tsx","utilities/api.ts","utilities/arrays.ts","utilities/chips.ts","utilities/events.ts","utilities/history.ts","utilities/numbers.ts","utilities/settings.ts","utilities/stats.ts","utilities/strings.ts","components/Modal/Modal.tsx","components/ModalInput/ModalInput.tsx","components/TeamModal/TeamModal.tsx","reducers/loading.ts","reducers/entry.ts","reducers/history.ts","reducers/stats.ts","reducers/bootstrap.ts","reducers/settings.ts","hooks/useMeanLabel.ts","hooks/useMeanValue.ts","components/HistoryWidget/HistoryWidget.tsx","components/TotsPlayer/TotsPlayer.tsx","components/TotsWidget/TotsWidget.tsx","components/Metric/Metric.tsx","components/Player/Player.tsx","components/SiteLink/SiteLink.tsx","components/PlayerStatsWidget/PlayerStatsWidget.tsx","components/FormationWidget/FormationWidget.tsx","components/CaptainWidget/CaptainWidget.tsx","components/ChangeBadge/ChangeBadge.tsx","components/GameweekWidget/GameweekWidget.tsx","components/PositionsWidget/PositionsWidget.tsx","components/SeasonWidget/SeasonWidget.tsx","components/Team/Team.tsx","components/TeamsWidget/TeamsWidget.tsx","components/SwapIcon/SwapIcon.tsx","components/CaptainOpportunityWidget/CaptainOpportunityWidget.tsx","components/WidgetWithModal/WidgetWithModal.tsx","components/BasePlayerWidget/BasePlayerWidget.tsx","components/SelectionWidget/SelectionWidget.tsx","components/DifferenceWidget/DifferenceWidget.tsx","components/OverallRankWidget/OverallRankWidget.tsx","components/PointsWidget/PointsWidget.tsx","components/ValueWidget/ValueWidget.tsx","components/WrongCaptainWidget/WrongCaptainWidget.tsx","components/ContributionWidget/ContributionWidget.tsx","components/MissedPointsShareWidget/MissedPointsShareWidget.tsx","components/NearMissesWidget/NearMissesWidget.tsx","components/StreakWidget/StreakWidget.tsx","components/Checkbox/Checkbox.tsx","components/SegmentedControl/SegmentedControl.tsx","components/SettingsModal/SettingsModal.tsx","components/PlayerOverview/PlayerOverview.tsx","components/FormWidget/FormWidget.tsx","components/PriceChangeWidget/PriceChangeWidget.tsx","components/InjuryWidget/InjuryWidget.tsx","components/ExpectedPointsWidget/ExpectedPointsWidget.tsx","components/PopularityWidget/PopularityWidget.tsx","components/TransfersWidget/TransfersWidget.tsx","components/StatComparison/StatComparison.tsx","components/PlayerComparisonWidget/PlayerComparisonWidget.tsx","components/DoubleDigitHaulsWidget/DoubleDigitHaulsWidget.tsx","components/PlayerGWReturnWidget/PlayerGWReturnWidget.tsx","components/TeamGWReturnWidget/TeamGWReturnWidget.tsx","components/TeamContributionWidget/TeamContributionWidget.tsx","components/PointsImprovementsWidget/PointsImprovementsWidget.tsx","components/BonusPointsWidget/BonusPointsWidget.tsx","components/CaptainPointsWidget/CaptainPointsWidget.tsx","components/RivalsWidget/RivalsWidget.tsx","components/Dashboard/Dashboard.tsx","reducers/milestones.ts","reducers/index.ts","reportWebVitals.ts","index.tsx","store.ts"],"names":["Boolean","window","location","hostname","match","Button","props","className","type","onClick","disabled","label","Widget","id","useSelector","state","settings","classNames","cssClasses","title","onClose","aria-label","children","Spinner","fetchApi","endpoint","a","fetch","encodeURIComponent","response","json","sort","series","comparator","direction","b","head","length","last","reduce","extractor","initialValue","acc","curr","chips","bboost","freehit","wildcard","getPastEvents","events","timestamp","Date","now","filter","event","deadline_time_epoch","getShortName","name","split","pop","filterHistoryData","history","range","current","slice","start","end","thousandsSeparator","value","toString","replace","thousandsShorthand","round","sumNumbers","el","precision","formatted","toFixed","test","validateTeamId","number","Number","isNaN","isInteger","getTotalSelections","statData","data","pick","multiplier","getTotalStarts","getTotalBenched","getTotalPoints","points","getTotalRawPoints","rawPoints","getTotalBenchPoints","getTotalDoubleDigitHauls","getAllPlayers","stats","Object","values","concat","getPlayerAggregate","player","key","getTopStatAggregate","players","aggregates","totals","getStreak","comparison","ignoreBlanks","getPoints","gw","streaks","max","Math","map","index","streak","totalPoints","getSelectionStreak","getStartStreak","getBenchStreak","getNonBlankStreak","getDoubleDigitHaulStreak","getBonusStreak","bonusPoints","bonus","getTeamOfTheSeason","gk","def","mid","fwd","top","rest","xi","element","element_type","bench","emptyAggregates","redCards","yellowCards","goals","assists","cleanSheets","goalsConceded","ownGoals","saves","minutes","penaltiesMissed","penaltiesSaved","timesInDreamteam","bps","captaincies","benchPoints","selections","starts","benched","doubleDigitHauls","selection","nonBlank","doubleDigitHaul","filterStatData","rawStats","bootstrap","forEach","active_chip","entry_history","picks","item","elements","find","position","live","total_points","keys","tots","initialCaps","charAt","toUpperCase","toLowerCase","pluralise","singular","plural","parsedValue","getGWCountLabel","verbose","getPointsLabel","normaliseDiacritics","normalize","Modal","footer","ModalInput","htmlFor","placeholder","onChange","e","target","ref","innerRef","TeamModal","useState","setValue","isLoading","loading","useHistory","recentTeams","useMemo","JSON","parse","localStorage","getItem","close","useCallback","cancel","team","push","useEffect","listener","document","addEventListener","removeEventListener","callbackRef","inputElement","focus","onSubmit","preventDefault","options","option","styles","menu","provided","zIndex","width","createSlice","initialState","reducers","startLoading","finishLoading","actions","fetchEntry","createAsyncThunk","thunkAPI","dispatch","fetchEntryStart","fetchEntrySuccess","entry","undefined","action","payload","setItem","stringify","Array","from","Set","fetchHistory","fetchHistoryStart","fetchHistorySuccess","fetchStatData","arg","fetchStatsStart","Promise","all","fetchGameweekInformation","gameweeks","fetchStatsSuccess","fetchPicks","fetchEvent","fetchBootstrap","fetchBootstrapStart","fetchBootstrapSuccess","latestFetch","fetchDataWithId","setId","meanStrategy","theme","hiddenSections","setMeanStrategy","setTheme","addHiddenSection","removeHiddenSection","section","useMeanLabel","strategy","suffix","useMeanValue","filtered","average","sorted","ceil","median","TITLE","HistoryWidget","useContext","FilteredDataContext","meanLabel","meanValue","pastSeasonsByRank","past","rank","pastSeasonsByPoints","bestRankedSeason","worstRankedSeason","bestPointSeason","worstPointSeason","top1k","season","top10k","top100k","top1m","rankData","season_name","height","margin","right","bottom","left","dataKey","fill","fillOpacity","stroke","reversed","tickFormatter","domain","interval","tickCount","hide","angle","textAnchor","isAnimationActive","formatter","separator","TotsPlayer","teams","element_types","src","code","singular_name_short","alt","web_name","TotsWidget","Fragment","explanations","ppg","ppp","ppw","Metric","metric","Player","extended","short_name","SiteLink","url","href","rel","PlayerStatsWidget","allPlayers","reds","yellows","inDreamteam","mostCaptaincies","topReturner","topBenchGWReturner","topSeasonReturner","topBenchReturner","weeks","idealCaptain","entries","week","returner","renderTopBenchGWReturner","formatFormation","formation","FormationWidget","formations","val","formationData","join","count","information","CaptainWidget","captains","captain","add","size","ChangeBadge","renderer","abs","GameweekWidget","differences","average_entry_score","sortedRanks","gws","bestGW","worstGW","bestGWRank","worstGWRank","diff","PositionsWidget","positions","elementType","plural_name","getAggregateValues","SeasonWidget","rawHistory","totalTransfers","event_transfers","totalHits","event_transfers_cost","largestHit","totalBenched","points_on_bench","tc","findIndex","bbWeek","bbPoints","totalPlays","summary_overall_points","Team","TeamsWidget","counts","positionPlayers","data-position","plural_name_short","SwapIcon","xmlns","viewBox","d","CaptainOpportunityWidget","improvements","improvement","missedPoints","captainData","topData","renderList","list","renderItem","getItemKey","render","WidgetWithModal","showExtended","setShowExtended","filteredData","matchesFilter","isStatData","isElement","query","includes","BasePlayerWidget","SelectionWidget","DifferenceWidget","benchedPercentage","startsPercentage","starters","percentageDiff","benchwarmers","OverallRankWidget","overall_rank","PointsWidget","pointsData","ValueWidget","valueData","bank","WrongCaptainWidget","timesUsed","totalMisses","ContributionWidget","latestPoints","contributions","getPointsShare","MissedPointsShareWidget","NearMissesWidget","totsIds","StreakWidget","showDetailedStats","localeCompare","Checkbox","checked","SegmentedControl","selected","setSelected","meanOptions","SettingsModal","setChecked","setStrategy","useDispatch","sortings","alphabet","charCodeAt","PlayerOverview","sorting","renderPlayerList","FormWidget","form","GAINS_TITLE","DROPS_TITLE","PriceChangeWidget","cost_change_event","cost_change_event_fall","input","InjuryWidget","chance_of_playing_next_round","CURRENT_TITLE","NEXT_TITLE","ExpectedPointsWidget","ep_next","event_points","ep_this","PopularityWidget","selected_by_percent","IN_TITLE","OUT_TITLE","TransfersWidget","transfers_in_event","transfers_out_event","StatComparison","leftValue","stat","rightValue","columnClass","compare","PlayerComparisonWidget","leftSide","setLeftSide","rightSide","setRightSide","playerOptions","leftSideData","rightSideData","leftKey","rightKey","container","DoubleDigitHaulsWidget","POINTS_TITLE","BENCH_TITLE","PlayerGWReturnWidget","TeamGWReturnWidget","teamData","TeamContributionWidget","isValidXi","defenders","p","midfielders","forwards","getFormation","PointsImprovementsWidget","outfieldXi","outfieldBench","subsPerformed","subs","newBench","lowestScore","possibleSubs","sub","proposedXi","xiPlayer","proposedBench","benchPlayer","originalMultiplier","in","out","benchGk","temp","rotatedPlayers","actualCaptain","initialCaptain","subCheck","console","log","actualPoints","idealPoints","actualFormation","idealFormation","idealTotalPoints","totalImprovement","data-category","BonusPointsWidget","CaptainPointsWidget","displayOptions","rivalColors","RivalsWidget","rivalData","setRivalData","display","setDisplay","setIsLoading","addRival","existing","displayValue","factor","rival","sortOptions","React","createContext","Dashboard","setSort","isSettingsOpen","setIsSettingsOpen","setRange","setFilteredData","rawStatsData","useParams","browserHistory","isModalOpen","setIsModalOpen","documentElement","setAttribute","debouncedFiltering","useRef","debounce","filteredStatData","filteredHistoryData","renderSection","isHidden","toggleHiddenSection","Provider","Helmet","content","getComputedStyle","getPropertyValue","summary_overall_rank","total_players","ReactSlider","min","renderThumb","valueNow","pearling","fetchStanding","page","milestones","fetchMilestonesStart","results","standings","fetchMilestonesSuccess","combineReducers","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","store","storage","mostRecentTeamId","preloadedState","configureStore","reducer","rootReducer","middleware","getDefaultMiddleware","subscribe","getState","configureAppStore","path","exact","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.7519c8d6.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.0/8 are considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\ntype Config = {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void\n    onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets see https://github.com/facebook/create-react-app/issues/2374\n            return\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config)\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    )\n                })\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config)\n            }\n        })\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing\n                if (installingWorker == null) {\n                    return\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            )\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration)\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.')\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration)\n                            }\n                        }\n                    }\n                }\n            }\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error)\n        })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { 'Service-Worker': 'script' },\n    })\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type')\n            if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload()\n                    })\n                })\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config)\n            }\n        })\n        .catch(() => {\n            console.log('No internet connection found. App is running in offline mode.')\n        })\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then(registration => {\n                registration.unregister()\n            })\n            .catch(error => {\n                console.error(error.message)\n            })\n    }\n}\n","import React from 'react'\nimport './Button.scss'\n\ntype Props = {\n    label: string\n    type?: 'reset' | 'submit' | 'button'\n    disabled?: boolean\n    onClick?: () => void\n}\n\nconst Button: React.FC<Props> = (props: Props) => (\n    <button className=\"button\" type={props.type || 'button'} onClick={props.onClick} disabled={props.disabled}>\n        {props.label}\n    </button>\n)\n\nexport default Button\n","import React from 'react'\nimport classNames from 'classnames'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../reducers'\nimport { Button } from '../Button'\nimport './Widget.scss'\n\ntype Props = {\n    title?: string\n    children?: React.ReactNode\n    cssClasses?: string\n    onClose?: () => void\n}\n\nconst Widget: React.FC<Props> = (props: Props) => {\n    const id = useSelector((state: RootState) => state.settings.id)\n\n    return (\n        <div\n            className={classNames('widget', props.cssClasses, {\n                'widget--cloaked': !id,\n            })}\n        >\n            {props.title && (\n                <h3 className=\"widget__title\">\n                    {props.title}{' '}\n                    {props.onClose && <Button label=\"X\" onClick={() => props.onClose?.()} aria-label=\"Close\" />}\n                </h3>\n            )}\n            <div className=\"widget__content\">\n                {props.children || <div className=\"widget__empty\">No data available.</div>}\n            </div>\n        </div>\n    )\n}\n\nexport default Widget\n","import React from 'react'\nimport './Spinner.scss'\n\nconst Spinner: React.FC = () => (\n    <div className=\"spinner\">\n        <div className=\"spinner__item\"></div>\n        <div className=\"spinner__item\"></div>\n        <div className=\"spinner__item\"></div>\n        <div className=\"spinner__item\"></div>\n        <div className=\"spinner__item\"></div>\n        <div className=\"spinner__item\"></div>\n        <div className=\"spinner__item\"></div>\n        <div className=\"spinner__item\"></div>\n        <div className=\"spinner__item\"></div>\n    </div>\n)\n\nexport default Spinner\n","export const fetchApi = async (endpoint: string): Promise<any> => {\n    const response = await fetch(\n        `https://corsproxy.io/?${encodeURIComponent(`https://fantasy.premierleague.com/api/${endpoint}`)}`\n    )\n\n    return await response.json()\n}\n","export const sort = <T>(series: T[], comparator: (element: T) => number, direction: 'asc' | 'desc' = 'desc'): T[] => {\n    return series ? [...series].sort((a, b) => (comparator(a) - comparator(b)) * (direction === 'desc' ? -1 : 1)) : []\n}\n\nexport const head = <T>(series: T[]): T | null => {\n    return series?.length ? series[0] : null\n}\n\nexport const last = <T>(series: T[]): T | null => {\n    return series?.length ? series[series.length - 1] : null\n}\n\nexport const reduce = <T>(series: T[], extractor: (element: T) => number, initialValue: number = 0): number => {\n    return series?.reduce((acc, curr) => acc + extractor(curr), initialValue) || 0\n}\n","const chips: { [key: string]: string } = {\n    '3xc': 'TC',\n    bboost: 'BB',\n    freehit: 'FH',\n    wildcard: 'WC',\n}\n\nexport const getChipAbbreviation = (key: string): string | null => chips[key] || null\n","import { Event } from '../types'\n\nexport const getPastEvents = (events: Event[]): Event[] => {\n    const timestamp = Date.now()\n    return events.filter(event => event.deadline_time_epoch * 1000 < timestamp)\n}\n\nexport const getShortName = (event: Event): string => {\n    return event.name.split(' ').pop() || ''\n}\n","import { History, Range } from '../types'\n\nexport const filterHistoryData = async (history: History, range: Range): Promise<History> => {\n    return {\n        ...history,\n        current: history.current?.slice(range.start, range.end + 1) || [],\n    }\n}\n","import { head, reduce, sort } from './arrays'\n\nexport const thousandsSeparator = (value: number | string): string => {\n    return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\nexport const thousandsShorthand = (value: number): string => {\n    return value > 999999 ? `${round(value / 1000000)}M` : value > 999 ? `${round(value / 1000, 0)}K` : `${value}`\n}\n\nexport const sumNumbers = (series: (number | null)[]): number => {\n    return reduce(series, el => el || 0)\n}\n\nexport const average = (series: (number | null)[]): number => {\n    const filtered = series.filter(el => el !== null)\n\n    return filtered.length ? sumNumbers(filtered) / filtered.length : 0\n}\n\nexport const median = (series: (number | null)[]): number => {\n    const filtered = series.filter(el => el !== null) as number[]\n    const sorted = sort(filtered, el => el)\n    const mid = Math.ceil(filtered.length / 2)\n\n    if (sorted.length === 0) {\n        return 0\n    }\n\n    if (sorted.length % 2 === 0) {\n        return (sorted[mid - 1] + sorted[mid]) / 2\n    }\n\n    return sorted[mid - 1]\n}\n\nexport const round = (value: number, precision: number = 1): string => {\n    const formatted = value.toFixed(precision)\n\n    if (/\\.0+$/.test(formatted)) {\n        return head(formatted.split('.')) || ''\n    }\n\n    return formatted\n}\n","export const validateTeamId = (value: string) => {\n    const number = Number(value)\n\n    return value && !Number.isNaN(number) && Number.isInteger(number)\n}\n","import {\n    ElementStats,\n    StatData,\n    Stats,\n    StatDataGameweek,\n    Streak,\n    Picks,\n    LiveEvent,\n    Bootstrap,\n    Range,\n    StatAggregateTotals,\n} from '../types'\nimport { head, reduce, sort } from './arrays'\nimport { sumNumbers } from './numbers'\n\nexport const getTotalSelections = (statData: StatData): number => {\n    return statData.data.filter(pick => pick.multiplier !== null).length\n}\n\nexport const getTotalStarts = (statData: StatData): number => {\n    return statData.data.filter(pick => pick.multiplier && pick.multiplier > 0).length\n}\n\nexport const getTotalBenched = (statData: StatData): number => {\n    return statData.data.filter(pick => pick.multiplier === 0).length\n}\n\nexport const getTotalPoints = (statData: StatData): number => {\n    return reduce(statData.data, el => el.points || 0)\n}\n\nexport const getTotalCaptaincies = (statData: StatData): number => {\n    return statData.data.filter(data => (data.multiplier || 0) > 1).length\n}\n\nexport const getTotalRawPoints = (statData: StatData): number => {\n    return reduce(statData.data, el => el.rawPoints || 0)\n}\n\nexport const getTotalBenchPoints = (statData: StatData): number => {\n    return reduce(statData.data, el => (el.multiplier === 0 ? el.rawPoints || 0 : 0))\n}\n\nexport const getTotalDoubleDigitHauls = (statData: StatData): number => {\n    return statData.data.filter(data => (data.rawPoints || 0) > 9).length\n}\n\nexport const getAllPlayers = (stats: Stats): StatData[] => {\n    return Object.values(stats).reduce((acc, curr) => acc.concat(curr), [])\n}\n\nexport const getPlayerAggregate = (player: StatData, key: keyof ElementStats): number =>\n    player.data.reduce((acc, data) => {\n        if (typeof data.stats?.[key] === 'number') {\n            return ((data.stats?.[key] as number) || 0) + acc\n        }\n\n        if (typeof data.stats?.[key] === 'boolean') {\n            return (+(data.stats?.[key] as boolean) || 0) + acc\n        }\n\n        return acc\n    }, 0)\n\nexport const getTopStatAggregate = (players: StatData[], key: keyof StatAggregateTotals): StatData | null =>\n    head(sort(players, el => el.aggregates.totals[key]))\n\nconst getStreak = (\n    statData: StatData,\n    comparison: (gw: StatDataGameweek) => boolean,\n    ignoreBlanks: boolean = false,\n    getPoints: (event: StatDataGameweek) => number | null = gw => gw.rawPoints\n): Streak[] | null => {\n    const streaks = statData.data.reduce((acc, curr) => {\n        if (comparison(curr)) {\n            if (ignoreBlanks) {\n                return [...acc.slice(0, acc.length - 1), (acc[acc.length - 1] || 0) + 1]\n            }\n\n            if (!acc.length || acc[acc.length - 1] === 0) {\n                return [...acc, 1]\n            }\n\n            return [...acc.slice(0, acc.length - 1), acc[acc.length - 1] + 1]\n        }\n\n        return ignoreBlanks ? [...acc, ...(acc.length && acc[acc.length - 1] === 0 ? [0] : [0, 0])] : [...acc, 0]\n    }, [] as number[])\n\n    const max = Math.max(...streaks)\n\n    if (max === 0) {\n        return null\n    }\n\n    return streaks\n        .map((length, index) => {\n            if (length < 2) {\n                return null\n            }\n\n            const start = sumNumbers(streaks.slice(0, index).map(streak => (streak > 0 ? streak : 1)))\n            const end = start - 1 + length\n\n            const points = (start === end ? statData.data : statData.data.slice(start, end + 1)).map(\n                event => getPoints(event) || 0\n            )\n\n            return {\n                start: statData.data[start].event,\n                end: statData.data[end].event,\n                length,\n                points,\n                totalPoints: sumNumbers(points),\n            }\n        })\n        .filter(el => el !== null) as Streak[]\n}\n\nexport const getSelectionStreak = (statData: StatData): Streak[] | null =>\n    getStreak(statData, gw => gw.multiplier !== null, true)\n\nexport const getStartStreak = (statData: StatData): Streak[] | null =>\n    getStreak(statData, gw => (gw.multiplier || 0) > 0, true)\n\nexport const getBenchStreak = (statData: StatData): Streak[] | null =>\n    getStreak(statData, gw => gw.multiplier === 0, true)\n\nexport const getNonBlankStreak = (statData: StatData): Streak[] | null =>\n    getStreak(statData, gw => (gw.rawPoints || 0) > 3)\n\nexport const getDoubleDigitHaulStreak = (statData: StatData): Streak[] | null =>\n    getStreak(statData, gw => (gw.rawPoints || 0) > 9)\n\nexport const getBonusStreak = (statData: StatData): Streak[] | null =>\n    getStreak(\n        statData,\n        gw => (gw.bonusPoints || 0) > 0,\n        false,\n        gw => gw.stats?.bonus || null\n    )\n\nconst MIN_GK = 1\nconst MAX_GK = 2\n\nconst MIN_DEF = 3\nconst MAX_DEF = 5\n\nconst MIN_MID = 2\nconst MAX_MID = 5\n\nconst MIN_FWD = 1\nconst MAX_FWD = 3\n\nexport const getTeamOfTheSeason = (stats: Stats): { xi: StatData[]; bench: StatData[] } => {\n    const gk = sort(stats[1], el => el.aggregates.totals.points).slice(0, MAX_GK)\n    const def = sort(stats[2], el => el.aggregates.totals.points).slice(0, MAX_DEF)\n    const mid = sort(stats[3], el => el.aggregates.totals.points).slice(0, MAX_MID)\n    const fwd = sort(stats[4], el => el.aggregates.totals.points).slice(0, MAX_FWD)\n\n    const top = gk\n        .slice(0, MIN_GK)\n        .concat(def.slice(0, MIN_DEF))\n        .concat(mid.slice(0, MIN_MID))\n        .concat(fwd.slice(0, MIN_FWD))\n\n    const rest = sort(\n        def.slice(MIN_DEF).concat(mid.slice(MIN_MID)).concat(fwd.slice(MIN_FWD)),\n        el => el.aggregates.totals.points\n    )\n\n    const xi = sort(top.concat(rest.slice(0, 4)), el => el.element.element_type, 'asc')\n    const bench = gk.slice(MIN_GK).concat(sort(rest.slice(4), el => el.aggregates.totals.points, 'desc'))\n\n    return {\n        xi,\n        bench,\n    }\n}\n\nconst emptyAggregates = {\n    totals: {\n        redCards: 0,\n        yellowCards: 0,\n        goals: 0,\n        assists: 0,\n        cleanSheets: 0,\n        goalsConceded: 0,\n        ownGoals: 0,\n        saves: 0,\n        minutes: 0,\n        penaltiesMissed: 0,\n        penaltiesSaved: 0,\n        timesInDreamteam: 0,\n        bps: 0,\n        bonus: 0,\n        captaincies: 0,\n        points: 0,\n        rawPoints: 0,\n        benchPoints: 0,\n        selections: 0,\n        starts: 0,\n        benched: 0,\n        doubleDigitHauls: 0,\n    },\n    streaks: {\n        selection: null,\n        start: null,\n        bench: null,\n        nonBlank: null,\n        doubleDigitHaul: null,\n        bonus: null,\n    },\n}\n\nexport const filterStatData = async (\n    rawStats: {\n        pick: Picks\n        live: LiveEvent\n    }[],\n    bootstrap: Bootstrap,\n    range: Range\n): Promise<{\n    data: Stats\n    chips: {\n        [key: number]: string\n    }\n    tots: {\n        xi: StatData[]\n        bench: StatData[]\n    }\n}> => {\n    const stats: { [key: number]: StatData } = {}\n    const chips: { [key: number]: string } = {}\n\n    rawStats.slice(range.start, range.end + 1).forEach(gw => {\n        if (gw.pick.active_chip) {\n            chips[gw.pick.entry_history.event] = gw.pick.active_chip\n        }\n\n        gw.pick.picks.forEach(item => {\n            if (!stats[item.element]) {\n                stats[item.element] = {\n                    element: bootstrap.elements.find(el => el.id === item.element)!,\n                    data: bootstrap.events.slice(range.start, gw.pick.entry_history.event - 1).map(event => ({\n                        event,\n                        multiplier: null,\n                        points: null,\n                        rawPoints: null,\n                        benchPoints: null,\n                        bonusPoints: null,\n                        stats: null,\n                        position: null,\n                    })),\n                    aggregates: emptyAggregates,\n                }\n            }\n\n            const points = gw.live.elements.find(el => el.id === item.element)?.stats.total_points || null\n            const bonus = gw.live.elements.find(el => el.id === item.element)?.stats.bonus || null\n\n            stats[item.element] = {\n                ...stats[item.element],\n                data: [\n                    ...stats[item.element].data,\n                    {\n                        event: bootstrap.events.find(event => event.id === gw.pick.entry_history.event)!,\n                        multiplier: item.multiplier,\n                        points: points !== null ? points * item.multiplier : points,\n                        rawPoints: points,\n                        benchPoints: item.multiplier === 0 ? points : 0,\n                        bonusPoints: bonus,\n                        stats: gw.live.elements.find(el => el.id === item.element)?.stats || null,\n                        position: item.position,\n                    },\n                ],\n            }\n        })\n\n        Object.keys(stats).forEach(player => {\n            const index = Number(player)\n\n            if (stats[index].data.length < gw.pick.entry_history.event - range.start) {\n                stats[index] = {\n                    ...stats[index],\n                    data: [\n                        ...stats[index].data,\n                        {\n                            event: bootstrap.events.find(event => event.id === gw.pick.entry_history.event)!,\n                            multiplier: null,\n                            points: null,\n                            rawPoints: null,\n                            benchPoints: null,\n                            bonusPoints: null,\n                            stats: null,\n                            position: null,\n                        },\n                    ],\n                }\n            }\n        })\n    })\n\n    Object.keys(stats).forEach(id => {\n        const player = stats[Number(id)]\n\n        stats[Number(id)].aggregates = {\n            totals: {\n                redCards: getPlayerAggregate(player, 'red_cards'),\n                yellowCards: getPlayerAggregate(player, 'yellow_cards'),\n                goals: getPlayerAggregate(player, 'goals_scored'),\n                assists: getPlayerAggregate(player, 'assists'),\n                cleanSheets: getPlayerAggregate(player, 'clean_sheets'),\n                goalsConceded: getPlayerAggregate(player, 'goals_conceded'),\n                ownGoals: getPlayerAggregate(player, 'own_goals'),\n                saves: getPlayerAggregate(player, 'saves'),\n                minutes: getPlayerAggregate(player, 'minutes'),\n                penaltiesMissed: getPlayerAggregate(player, 'penalties_missed'),\n                penaltiesSaved: getPlayerAggregate(player, 'penalties_saved'),\n                timesInDreamteam: getPlayerAggregate(player, 'in_dreamteam'),\n                bps: getPlayerAggregate(player, 'bps'),\n                bonus: getPlayerAggregate(player, 'bonus'),\n                captaincies: getTotalCaptaincies(player),\n                points: getTotalPoints(player),\n                rawPoints: getTotalRawPoints(player),\n                benchPoints: getTotalBenchPoints(player),\n                selections: getTotalSelections(player),\n                starts: getTotalStarts(player),\n                benched: getTotalBenched(player),\n                doubleDigitHauls: getTotalDoubleDigitHauls(player),\n            },\n            streaks: {\n                selection: getSelectionStreak(player),\n                start: getStartStreak(player),\n                bench: getBenchStreak(player),\n                nonBlank: getNonBlankStreak(player),\n                doubleDigitHaul: getDoubleDigitHaulStreak(player),\n                bonus: getBonusStreak(player),\n            },\n        }\n    })\n\n    const data = Object.values(stats).reduce(\n        (acc: Stats, curr) => ({\n            ...acc,\n            [curr.element.element_type]: [...(acc[curr.element.element_type] || []), curr],\n        }),\n        {}\n    )\n\n    return {\n        data,\n        chips,\n        tots: getTeamOfTheSeason(data),\n    }\n}\n","export const initialCaps = (value: string): string => `${value.charAt(0).toUpperCase()}${value.toLowerCase().slice(1)}`\n\nexport const pluralise = (value: number | string, singular: string, plural: string) => {\n    const parsedValue = typeof value === 'number' ? value : Number(value.replace(/,/g, ''))\n\n    return `${value} ${parsedValue === 1 ? singular : plural}`\n}\n\nexport const getGWCountLabel = (value: number | string, verbose: boolean = false): string =>\n    verbose ? pluralise(value, 'Gameweek', 'Gameweeks') : pluralise(value, 'GW', 'GWs')\n\nexport const getPointsLabel = (value: number | string): string => pluralise(value, 'pt', 'pts')\n\nexport const normaliseDiacritics = (value: string): string => value.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n","import React from 'react'\nimport classNames from 'classnames'\nimport { Button } from '../Button'\nimport './Modal.scss'\n\ntype Props = {\n    title: string\n    children?: React.ReactNode\n    onClose?: () => void\n    footer?: React.ReactNode\n    cssClasses?: string\n}\n\nconst Modal: React.FC<Props> = (props: Props) => {\n    return (\n        <div className={classNames('modal', props.cssClasses)}>\n            <div className=\"modal__backdrop\" onClick={() => props.onClose?.()}></div>\n            <div className=\"modal__element\">\n                <h3 className=\"modal__header\">\n                    {props.title}\n                    <Button label=\"X\" onClick={() => props.onClose?.()} aria-label=\"Close\" />\n                </h3>\n                <div className=\"modal__body\">{props.children}</div>\n                {props.footer && <footer className=\"modal__footer\">{props.footer}</footer>}\n            </div>\n        </div>\n    )\n}\n\nexport default Modal\n","import React from 'react'\nimport './ModalInput.scss'\n\ntype Props = {\n    label: string\n    value: string\n    onChange: (value: string) => void\n    placeholder?: string\n    id?: string\n    innerRef?: (element: any) => any\n    type?: 'text' | 'number'\n}\n\nconst ModalInput: React.FC<Props> = (props: Props) => {\n    return (\n        <div className=\"modal-input\">\n            <label htmlFor={props.id}>{props.label}</label>\n            <input\n                className=\"modal-input__element\"\n                id={props.id}\n                type={props.type || 'text'}\n                placeholder={props.placeholder}\n                value={props.value}\n                onChange={e => props.onChange(e.target.value)}\n                ref={props.innerRef}\n            />\n        </div>\n    )\n}\n\nexport default ModalInput\n","import React, { useState, useEffect, useCallback, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport Select from 'react-select'\nimport { Button } from '../Button'\nimport { validateTeamId } from '../../utilities'\nimport { RootState } from '../../reducers'\nimport { Modal } from '../Modal'\nimport { ModalInput } from '../ModalInput'\nimport { OptionType } from '../Dashboard/Dashboard'\nimport './TeamModal.scss'\n\ntype Props = {\n    onClose?: () => void\n}\n\nconst TeamModal: React.FC<Props> = (props: Props) => {\n    const [value, setValue] = useState<string>('')\n\n    const isLoading = useSelector((state: RootState) => state.loading > 0)\n\n    const id = useSelector((state: RootState) => state.settings.id)\n\n    const history = useHistory()\n\n    const recentTeams: string[] = useMemo(() => JSON.parse(localStorage.getItem('recentTeams') || '[]') || [], [])\n\n    const close = useCallback(\n        (cancel: boolean, team?: OptionType) => {\n            if (!cancel) {\n                history.push(`/${team?.value || value}/`)\n            } else if (id) {\n                props.onClose?.()\n            }\n        },\n        [id, value, history, props]\n    )\n\n    useEffect(() => {\n        const listener = (e: KeyboardEvent) => {\n            if (e.key === 'Escape') {\n                close(true)\n            }\n        }\n\n        document.addEventListener('keyup', listener)\n\n        return () => document.removeEventListener('keyup', listener)\n    }, [close])\n\n    const callbackRef = useCallback(inputElement => inputElement?.focus(), [])\n\n    return (\n        <form\n            onSubmit={e => {\n                close(false)\n                e.preventDefault()\n            }}\n        >\n            <Modal\n                title=\"Select Team\"\n                cssClasses=\"team-modal\"\n                onClose={() => close(true)}\n                footer={\n                    recentTeams.length > 0 ? (\n                        <Select\n                            className=\"team-modal__select\"\n                            options={recentTeams.map(team => ({ value: team.split(' — ')[0], label: team }))}\n                            onChange={option => close(false, option as OptionType)}\n                            placeholder=\"Recent Team IDs…\"\n                            styles={{\n                                menu: provided => ({ ...provided, zIndex: 20, width: 'calc(100% - 2rem)' }),\n                            }}\n                        />\n                    ) : null\n                }\n            >\n                <ModalInput\n                    label=\"Team ID\"\n                    placeholder=\"Enter your team ID\"\n                    value={value}\n                    onChange={value => setValue(value)}\n                    type=\"number\"\n                    innerRef={callbackRef}\n                />\n                <Button\n                    label=\"Show Stats\"\n                    type=\"submit\"\n                    disabled={!validateTeamId(value) || value === `${id}` || isLoading}\n                />\n            </Modal>\n        </form>\n    )\n}\n\nexport default TeamModal\n","import { createSlice } from '@reduxjs/toolkit'\n\nconst loading = createSlice({\n    name: 'loading',\n    initialState: 0,\n    reducers: {\n        startLoading(state) {\n            state += 1\n\n            return state\n        },\n        finishLoading(state) {\n            state -= 1\n\n            return state\n        },\n    },\n})\n\nexport const { startLoading, finishLoading } = loading.actions\n\nexport default loading.reducer\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { Entry } from '../types'\nimport { fetchApi } from '../utilities'\nimport { finishLoading, startLoading } from './loading'\n\nexport const fetchEntry = createAsyncThunk('entry/fetch', async (id: number, thunkAPI) => {\n    thunkAPI.dispatch(fetchEntryStart())\n    thunkAPI.dispatch(startLoading())\n\n    const data = await fetchApi(`entry/${id}/`)\n\n    thunkAPI.dispatch(fetchEntrySuccess(data))\n    thunkAPI.dispatch(finishLoading())\n})\n\nconst entry = createSlice({\n    name: 'entry',\n    initialState: {\n        data: undefined,\n    },\n    reducers: {\n        fetchEntryStart(state) {\n            state.data = undefined\n        },\n        fetchEntrySuccess(state, action) {\n            state.data = action.payload\n\n            const recentTeams = JSON.parse(localStorage.getItem('recentTeams') || '[]') || []\n            const entry = action.payload as Entry\n\n            localStorage.setItem(\n                'recentTeams',\n                JSON.stringify(Array.from(new Set([`${entry.id} — ${entry.name}`, ...recentTeams])))\n            )\n        },\n    },\n})\n\nexport const { fetchEntryStart, fetchEntrySuccess } = entry.actions\n\nexport default entry.reducer\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { fetchApi } from '../utilities'\nimport { finishLoading, startLoading } from './loading'\n\nexport const fetchHistory = createAsyncThunk('history/fetch', async (entry: number, thunkAPI) => {\n    thunkAPI.dispatch(fetchHistoryStart())\n    thunkAPI.dispatch(startLoading())\n\n    const data = await fetchApi(`entry/${entry}/history/`)\n\n    thunkAPI.dispatch(fetchHistorySuccess(data))\n    thunkAPI.dispatch(finishLoading())\n})\n\nconst history = createSlice({\n    name: 'history',\n    initialState: {\n        data: undefined,\n    },\n    reducers: {\n        fetchHistoryStart(state) {\n            state.data = undefined\n        },\n        fetchHistorySuccess(state, action) {\n            state.data = action.payload\n        },\n    },\n})\n\nexport const { fetchHistoryStart, fetchHistorySuccess } = history.actions\n\nexport default history.reducer\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { Bootstrap, Picks, LiveEvent } from '../types'\nimport { fetchApi, getPastEvents } from '../utilities'\nimport { finishLoading, startLoading } from './loading'\n\nexport const fetchStatData = createAsyncThunk(\n    'stats/fetch',\n    async (arg: { bootstrap: Bootstrap; entry: number }, thunkAPI) => {\n        thunkAPI.dispatch(fetchStatsStart())\n        thunkAPI.dispatch(startLoading())\n\n        const gameweeks = await Promise.all(\n            getPastEvents(arg.bootstrap.events).map(async event => await fetchGameweekInformation(event.id, arg.entry))\n        )\n\n        thunkAPI.dispatch(fetchStatsSuccess(gameweeks))\n        thunkAPI.dispatch(finishLoading())\n    }\n)\n\nconst stats = createSlice({\n    name: 'stats',\n    initialState: {\n        data: undefined,\n    },\n    reducers: {\n        fetchStatsStart(state) {\n            state.data = undefined\n        },\n        fetchStatsSuccess(state, action) {\n            state.data = action.payload\n        },\n    },\n})\n\nexport const { fetchStatsStart, fetchStatsSuccess } = stats.actions\n\nconst fetchPicks = async (event: number, entry: number): Promise<Picks> => {\n    return await fetchApi(`entry/${entry}/event/${event}/picks/`)\n}\n\nconst fetchEvent = async (event: number): Promise<LiveEvent> => {\n    return await fetchApi(`event/${event}/live/`)\n}\n\nconst fetchGameweekInformation = async (event: number, entry: number): Promise<{ pick: Picks; live: LiveEvent }> => {\n    const [pick, live] = await Promise.all([fetchPicks(event, entry), fetchEvent(event)])\n\n    return {\n        pick,\n        live,\n    }\n}\n\nexport default stats.reducer\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { fetchApi } from '../utilities'\nimport { fetchEntry } from './entry'\nimport { fetchHistory } from './history'\nimport { finishLoading, startLoading } from './loading'\nimport { fetchStatData } from './stats'\n\nexport const fetchBootstrap = createAsyncThunk('bootstrap/fetch', async (id: number, thunkAPI) => {\n    thunkAPI.dispatch(fetchBootstrapStart())\n    thunkAPI.dispatch(startLoading())\n\n    const data = await fetchApi('bootstrap-static/')\n\n    await Promise.all([\n        thunkAPI.dispatch(fetchStatData({ bootstrap: data, entry: id })),\n        thunkAPI.dispatch(fetchHistory(id)),\n        thunkAPI.dispatch(fetchEntry(id)),\n    ])\n\n    thunkAPI.dispatch(finishLoading())\n    thunkAPI.dispatch(fetchBootstrapSuccess(data))\n})\n\nconst bootstrap = createSlice({\n    name: 'bootstrap',\n    initialState: {\n        data: undefined,\n        latestFetch: null,\n    },\n    reducers: {\n        fetchBootstrapStart(state) {\n            state.data = undefined\n        },\n        fetchBootstrapSuccess(state, action) {\n            state.data = action.payload\n            localStorage.setItem('latestFetch', `${Date.now()}`)\n        },\n    },\n})\n\nexport const { fetchBootstrapStart, fetchBootstrapSuccess } = bootstrap.actions\n\nexport default bootstrap.reducer\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { fetchBootstrap } from './bootstrap'\n\nexport type SettingsState = {\n    id: number | undefined\n    meanStrategy: 'average' | 'median'\n    theme: 'light' | 'dark'\n    hiddenSections: string[]\n}\n\nexport const fetchDataWithId = createAsyncThunk('settings/fetch', async (id: number, thunkAPI) => {\n    thunkAPI.dispatch(setId(id))\n    thunkAPI.dispatch(fetchBootstrap(id))\n})\n\nconst initialState: SettingsState = {\n    id: undefined,\n    meanStrategy: 'average',\n    theme: 'light',\n    hiddenSections: [],\n}\n\nconst settings = createSlice({\n    name: 'settings',\n    initialState,\n    reducers: {\n        setId(state, action) {\n            state.id = action.payload\n        },\n        setMeanStrategy(state, action) {\n            state.meanStrategy = action.payload\n        },\n        setTheme(state, action) {\n            state.theme = action.payload\n        },\n        addHiddenSection(state, action) {\n            state.hiddenSections.push(action.payload)\n        },\n        removeHiddenSection(state, action) {\n            state.hiddenSections = state.hiddenSections.filter(section => section !== action.payload)\n        },\n    },\n})\n\nexport const { setId, setMeanStrategy, setTheme, addHiddenSection, removeHiddenSection } = settings.actions\n\nexport default settings.reducer\n","import { useSelector } from 'react-redux'\nimport { RootState } from '../reducers'\n\nconst useMeanLabel: () => (suffix: string) => string = () => {\n    const strategy = useSelector((state: RootState) => state.settings.meanStrategy)\n\n    return (suffix: string) => `${strategy === 'average' ? 'Average' : 'Median'} ${suffix}`\n}\n\nexport default useMeanLabel\n","import { useSelector } from 'react-redux'\nimport { RootState } from '../reducers'\nimport { average, median } from '../utilities'\n\nconst useMeanValue: () => (series: (number | null)[]) => number = () => {\n    const strategy = useSelector((state: RootState) => state.settings.meanStrategy)\n\n    return (series: (number | null)[]) => {\n        if (strategy === 'average') {\n            return average(series)\n        }\n\n        return median(series)\n    }\n}\n\nexport default useMeanValue\n","import React, { useContext } from 'react'\nimport { Area, AreaChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts'\nimport { useSelector } from 'react-redux'\nimport { head, last, round, sort, thousandsSeparator, thousandsShorthand } from '../../utilities'\nimport { Widget } from '../Widget'\nimport { useMeanValue, useMeanLabel } from '../../hooks'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { RootState } from '../../reducers'\nimport './HistoryWidget.scss'\n\nconst TITLE = 'Historical Data'\n\nconst HistoryWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n    const theme = useSelector((state: RootState) => state.settings.theme)\n\n    const meanLabel = useMeanLabel()\n    const meanValue = useMeanValue()\n\n    if (!data) {\n        return <Widget title={TITLE} />\n    }\n\n    const history = data.history\n\n    const pastSeasonsByRank = sort(history.past, el => el.rank, 'asc')\n    const pastSeasonsByPoints = sort(history.past, el => el.total_points)\n\n    const bestRankedSeason = head(pastSeasonsByRank)\n    const worstRankedSeason = last(pastSeasonsByRank)\n\n    const bestPointSeason = head(pastSeasonsByPoints)\n    const worstPointSeason = last(pastSeasonsByPoints)\n\n    const top1k = pastSeasonsByRank.filter(season => season.rank <= 1000).length\n    const top10k = pastSeasonsByRank.filter(season => season.rank <= 10000).length\n    const top100k = pastSeasonsByRank.filter(season => season.rank <= 100000).length\n    const top1m = pastSeasonsByRank.filter(season => season.rank <= 1000000).length\n\n    let rankData = history.past.map(season => ({\n        name: season.season_name,\n        value: season.rank,\n    }))\n\n    const max = (head(sort([...rankData], el => el.value))?.value || 0) * 1.05\n\n    rankData = [...rankData].map(element => ({\n        ...element,\n        max,\n    }))\n\n    return (\n        <Widget title={TITLE} cssClasses=\"history-widget\">\n            {rankData.length > 1 && (\n                <ResponsiveContainer height={100} width=\"100%\">\n                    <AreaChart data={rankData} margin={{ top: 0, right: 0, bottom: 0, left: 0 }}>\n                        <Area type=\"monotone\" dataKey=\"max\" fill=\"#177B47\" fillOpacity=\"0.75\" />\n                        <Area\n                            type=\"monotone\"\n                            dataKey=\"value\"\n                            stroke=\"#177B47\"\n                            fill={theme === 'dark' ? '#3a4556' : '#fff'}\n                            fillOpacity=\"1\"\n                        />\n                        <YAxis\n                            reversed={true}\n                            tickFormatter={value => thousandsShorthand(value)}\n                            domain={[1, max]}\n                            interval=\"preserveStartEnd\"\n                            tickCount={10}\n                            hide={true}\n                        />\n                        <XAxis dataKey=\"name\" angle={-90} textAnchor=\"end\" interval=\"preserveStartEnd\" hide={true} />\n                        <Tooltip\n                            isAnimationActive={false}\n                            formatter={(value, name) =>\n                                name === 'max' ? [undefined, undefined] : [thousandsSeparator(Number(value)), 'Rank']\n                            }\n                            separator=\": \"\n                        />\n                    </AreaChart>\n                </ResponsiveContainer>\n            )}\n            <ul className=\"widget__list\">\n                {bestRankedSeason && (\n                    <li className=\"widget__list__item\">\n                        <span>Best Season Rank</span>\n                        <span>\n                            <b>{thousandsSeparator(bestRankedSeason.rank)}</b> ({bestRankedSeason.season_name})\n                        </span>\n                    </li>\n                )}\n                {worstRankedSeason && (\n                    <li className=\"widget__list__item\">\n                        <span>Worst Season Rank</span>\n                        <span>\n                            <b>{thousandsSeparator(worstRankedSeason.rank)}</b> ({worstRankedSeason.season_name})\n                        </span>\n                    </li>\n                )}\n                {bestPointSeason && (\n                    <li className=\"widget__list__item\">\n                        <span>Best Points Finish</span>\n                        <span>\n                            <b>{thousandsSeparator(bestPointSeason.total_points)}</b> ({bestPointSeason.season_name})\n                        </span>\n                    </li>\n                )}\n                {worstPointSeason && (\n                    <li className=\"widget__list__item\">\n                        <span>Worst Points Finish</span>\n                        <span>\n                            <b>{thousandsSeparator(worstPointSeason.total_points)}</b> ({worstPointSeason.season_name})\n                        </span>\n                    </li>\n                )}\n                <li className=\"widget__list__item\">\n                    <span>{meanLabel('Rank')}</span>\n                    <b>\n                        {thousandsSeparator(Number(round(meanValue(pastSeasonsByRank.map(season => season.rank)), 0)))}\n                    </b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>{meanLabel('Points')}</span>\n                    <b>\n                        {thousandsSeparator(\n                            Number(round(meanValue(pastSeasonsByPoints.map(season => season.total_points)), 0))\n                        )}\n                    </b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Top 1K Finishes</span>\n                    <b>{top1k}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Top 10K Finishes</span>\n                    <b>{top10k}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Top 100K Finishes</span>\n                    <b>{top100k}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Top 1M Finishes</span>\n                    <b>{top1m}</b>\n                </li>\n            </ul>\n        </Widget>\n    )\n}\n\nexport default HistoryWidget\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../reducers'\nimport './TotsPlayer.scss'\n\ntype Props = {\n    id: number\n    points: number\n}\n\nconst TotsPlayer: React.FC<Props> = (props: Props) => {\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    const player = bootstrap?.elements.find(el => el.id === props.id)\n    const team = bootstrap?.teams.find(el => el.id === player?.team)\n    const position = bootstrap?.element_types.find(el => el.id === player?.element_type)\n\n    return (\n        <div className=\"tots-player\">\n            <img\n                src={`https://fantasy.premierleague.com/dist/img/shirts/special/shirt_${team?.code}${\n                    position?.singular_name_short === 'GKP' ? '_1' : ''\n                }-66.png`}\n                alt={player?.web_name}\n                className=\"tots-player__shirt\"\n            />\n            <div className=\"tots-player__detail\">\n                <div className=\"tots-player__name\">\n                    <span>{player?.web_name}</span>\n                </div>\n                <div className=\"tots-player__points\">{props.points}</div>\n            </div>\n        </div>\n    )\n}\n\nexport default TotsPlayer\n","import React, { useContext } from 'react'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { TotsPlayer } from '../TotsPlayer'\nimport { Widget } from '../Widget'\nimport './TotsWidget.scss'\n\nconst TITLE = 'Team of the Season'\n\nconst TotsWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    if (!data || !data.stats.tots.xi.length) {\n        return <Widget title={TITLE} />\n    }\n\n    return (\n        <Widget title={TITLE} cssClasses=\"tots-widget\">\n            <div className=\"tots\">\n                {[...Array(4)].map((el, index) => (\n                    <React.Fragment key={index}>\n                        {data && (\n                            <div className=\"tots__row\">\n                                {data.stats.tots.xi\n                                    .filter(el => el.element.element_type === index + 1)\n                                    .map(player => (\n                                        <TotsPlayer\n                                            key={player.element.id}\n                                            id={player.element.id}\n                                            points={player.aggregates.totals.points}\n                                        />\n                                    ))}\n                            </div>\n                        )}\n                    </React.Fragment>\n                ))}\n                <div className=\"tots__row tots__row--bench\">\n                    {data.stats.tots.bench.map(player => (\n                        <TotsPlayer\n                            key={player.element.id}\n                            id={player.element.id}\n                            points={player.aggregates.totals.points}\n                        />\n                    ))}\n                </div>\n            </div>\n        </Widget>\n    )\n}\n\nexport default TotsWidget\n","import React from 'react'\nimport './Metric.scss'\n\nconst explanations = {\n    ppg: 'Points per Game',\n    ppp: 'Points per Player',\n    ppw: 'Points per Week',\n}\n\ntype Props = {\n    metric: 'ppg' | 'ppp' | 'ppw'\n}\n\nconst Metric: React.FC<Props> = (props: Props) => {\n    return (\n        <abbr className=\"metric\" title={explanations[props.metric]}>\n            {props.metric}\n        </abbr>\n    )\n}\n\nexport default Metric\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport classNames from 'classnames'\nimport { RootState } from '../../reducers'\nimport './Player.scss'\n\ntype Props = {\n    id: number\n    extended?: boolean\n    reversed?: boolean\n    suffix?: string | (() => JSX.Element | null)\n}\n\nconst Player: React.FC<Props> = (props: Props) => {\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    const player = bootstrap?.elements.find(el => el.id === props.id)\n    const team = bootstrap?.teams.find(el => el.id === player?.team)\n    const position = bootstrap?.element_types.find(el => el.id === player?.element_type)\n\n    return (\n        <div\n            className={classNames('player', {\n                'player--condensed': !props.extended,\n                'player--reversed': props.reversed,\n            })}\n        >\n            <img\n                src={`https://fantasy.premierleague.com/dist/img/shirts/special/shirt_${team?.code}${\n                    position?.singular_name_short === 'GKP' ? '_1' : ''\n                }-66.png`}\n                alt={player?.web_name}\n                className=\"player__shirt\"\n            />\n            <div className=\"player__detail\">\n                <div className=\"player__name\">\n                    <span>\n                        {props.suffix && !props.extended ? <b>{player?.web_name}</b> : player?.web_name}\n                        {typeof props.suffix === 'string' ? ` (${props.suffix})` : props.suffix ? props.suffix() : null}\n                    </span>\n                </div>\n                <div className=\"player__info\">\n                    <span className=\"player__team\" title={team?.name}>\n                        {team?.short_name}\n                    </span>\n                    <span className=\"player__position\">{position?.singular_name_short}</span>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Player\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../reducers'\n\ntype Props = {\n    label?: string\n    event?: number\n    target?: 'transfers'\n}\n\nconst SiteLink: React.FC<Props> = (props: Props) => {\n    const id = useSelector((state: RootState) => state.settings.id)\n\n    const baseUrl = `https://fantasy.premierleague.com/entry/${id}/`\n    let url = baseUrl\n\n    if (props.event) {\n        url = `${url}event/${props.event}/`\n    } else if (props.target) {\n        url = `${url}${props.target}/`\n    }\n\n    return (\n        <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n            {props.event ? `GW ${props.event}` : props.label ? props.label : url}\n        </a>\n    )\n}\n\nexport default SiteLink\n","import React, { useContext } from 'react'\nimport { StatData } from '../../types'\nimport {\n    getAllPlayers,\n    getTopStatAggregate,\n    thousandsSeparator,\n    round,\n    sort,\n    head,\n    getPointsLabel,\n} from '../../utilities'\nimport { Metric } from '../Metric'\nimport { Player } from '../Player'\nimport { SiteLink } from '../SiteLink'\nimport { Widget } from '../Widget'\nimport { useMeanValue } from '../../hooks'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\nconst TITLE = 'Player Stats'\n\nconst renderTopBenchGWReturner = (returner: StatData): JSX.Element | null => {\n    const week = head(returner.data)\n\n    if (!week) {\n        return null\n    }\n\n    return (\n        <li className=\"widget__list__item\">\n            <span>Top GW Bench Returner</span>\n            <span>\n                <Player\n                    id={returner.element.id}\n                    suffix={() => (\n                        <>\n                            {' '}\n                            ({getPointsLabel(week.rawPoints || 0)}, <SiteLink event={week.event.id} />)\n                        </>\n                    )}\n                    reversed\n                />\n            </span>\n        </li>\n    )\n}\n\nconst PlayerStatsWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n    const meanValue = useMeanValue()\n\n    if (!data) {\n        return <Widget title={TITLE} />\n    }\n\n    const allPlayers = getAllPlayers(data.stats.data)\n\n    if (!allPlayers.length) {\n        return <Widget title={TITLE} />\n    }\n\n    const reds = getTopStatAggregate(allPlayers, 'redCards')\n    const yellows = getTopStatAggregate(allPlayers, 'yellowCards')\n    const goals = getTopStatAggregate(allPlayers, 'goals')\n    const assists = getTopStatAggregate(allPlayers, 'assists')\n    const cleanSheets = getTopStatAggregate(allPlayers, 'cleanSheets')\n    const goalsConceded = getTopStatAggregate(allPlayers, 'goalsConceded')\n    const ownGoals = getTopStatAggregate(allPlayers, 'ownGoals')\n    const saves = getTopStatAggregate(allPlayers, 'saves')\n    const minutes = getTopStatAggregate(allPlayers, 'minutes')\n    const penaltiesMissed = getTopStatAggregate(allPlayers, 'penaltiesMissed')\n    const penaltiesSaved = getTopStatAggregate(allPlayers, 'penaltiesSaved')\n    const inDreamteam = getTopStatAggregate(allPlayers, 'timesInDreamteam')\n    const bps = getTopStatAggregate(allPlayers, 'bps')\n    const bonus = getTopStatAggregate(allPlayers, 'bonus')\n\n    const mostCaptaincies = head(sort(allPlayers, el => el.aggregates.totals.captaincies))\n\n    const topReturner = head(\n        sort(\n            allPlayers.map(player => ({\n                ...player,\n                data: sort([...player.data], el => el.rawPoints || 0),\n            })),\n            el => head(el.data)?.rawPoints || 0\n        )\n    )\n\n    const topBenchGWReturner = head(\n        sort(\n            allPlayers\n                .map(player => ({\n                    ...player,\n                    data: sort(\n                        player.data.filter(data => data.multiplier === 0),\n                        el => el.rawPoints || 0\n                    ),\n                }))\n                .filter(player => player.data.length),\n            el => head(el.data)?.rawPoints || 0\n        )\n    )\n\n    const topSeasonReturner = head(sort(allPlayers, el => el.aggregates.totals.points))\n    const topBenchReturner = head(sort(allPlayers, el => el.aggregates.totals.benchPoints))\n\n    const weeks = data.history.current.length\n\n    const idealCaptain = head(\n        sort(\n            Object.entries(\n                Array.from(Array(weeks).keys())\n                    .map((el, index) => head(sort(allPlayers, el => el.data[index].rawPoints || 0)))\n                    .reduce(\n                        (acc, curr) =>\n                            curr\n                                ? {\n                                      ...acc,\n                                      [curr.element.id]: (acc[curr.element.id] ? acc[curr.element.id] : 0) + 1,\n                                  }\n                                : acc,\n                        {} as Record<number, number>\n                    )\n            ),\n            el => el[1]\n        )\n    )\n\n    return (\n        <Widget title={TITLE}>\n            <ul className=\"widget__list\">\n                {topReturner && (\n                    <li className=\"widget__list__item\">\n                        <span>Top GW Returner</span>\n                        <span>\n                            <Player\n                                id={topReturner.element.id}\n                                suffix={() => {\n                                    const week = head(topReturner.data)\n\n                                    if (!week) {\n                                        return null\n                                    }\n\n                                    return (\n                                        <>\n                                            {' '}\n                                            ({getPointsLabel(week.points || 0)}, <SiteLink event={week.event.id} />)\n                                        </>\n                                    )\n                                }}\n                                reversed\n                            />\n                        </span>\n                    </li>\n                )}\n                {topSeasonReturner && (\n                    <li className=\"widget__list__item\">\n                        <span>Top Season Returner</span>\n                        {topSeasonReturner.aggregates.totals.starts > 0 && (\n                            <Player\n                                id={topSeasonReturner.element.id}\n                                suffix={() => (\n                                    <>\n                                        {' '}\n                                        ({getPointsLabel(topSeasonReturner.aggregates.totals.points)},{' '}\n                                        {round(\n                                            meanValue(\n                                                topSeasonReturner.data\n                                                    .filter(data => (data.multiplier || 0) > 0)\n                                                    .map(data => data.points)\n                                            )\n                                        )}{' '}\n                                        <Metric metric=\"ppg\" />)\n                                    </>\n                                )}\n                                reversed\n                            />\n                        )}\n                    </li>\n                )}\n                {topBenchGWReturner && renderTopBenchGWReturner(topBenchGWReturner)}\n                {topBenchReturner && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Points While Benched</span>\n                        {topBenchReturner.aggregates.totals.benched > 0 && (\n                            <Player\n                                id={topBenchReturner.element.id}\n                                suffix={() => (\n                                    <>\n                                        {' '}\n                                        ({getPointsLabel(topBenchReturner.aggregates.totals.benchPoints)},{' '}\n                                        {round(\n                                            meanValue(\n                                                topBenchReturner.data\n                                                    .filter(data => data.multiplier === 0)\n                                                    .map(data => data.rawPoints)\n                                            )\n                                        )}{' '}\n                                        <Metric metric=\"ppg\" />)\n                                    </>\n                                )}\n                                reversed\n                            />\n                        )}\n                    </li>\n                )}\n                {goals && goals.aggregates.totals.goals > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Top Scorer</span>\n                        <Player id={goals.element.id} suffix={`${goals.aggregates.totals.goals}`} reversed />\n                    </li>\n                )}\n                {assists && assists.aggregates.totals.assists > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Assists</span>\n                        <Player id={assists.element.id} suffix={`${assists.aggregates.totals.assists}`} reversed />\n                    </li>\n                )}\n                {ownGoals && ownGoals.aggregates.totals.ownGoals > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Own Goals</span>\n                        <Player id={ownGoals.element.id} suffix={`${ownGoals.aggregates.totals.ownGoals}`} reversed />\n                    </li>\n                )}\n                {goalsConceded && goalsConceded.aggregates.totals.goalsConceded > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Goals Conceded</span>\n                        <Player\n                            id={goalsConceded.element.id}\n                            suffix={`${goalsConceded.aggregates.totals.goalsConceded}`}\n                            reversed\n                        />\n                    </li>\n                )}\n                {cleanSheets && cleanSheets.aggregates.totals.cleanSheets > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Clean Sheets</span>\n                        <Player\n                            id={cleanSheets.element.id}\n                            suffix={`${cleanSheets.aggregates.totals.cleanSheets}`}\n                            reversed\n                        />\n                    </li>\n                )}\n                {saves && saves.aggregates.totals.saves > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Saves</span>\n                        <Player id={saves.element.id} suffix={`${saves.aggregates.totals.saves}`} reversed />\n                    </li>\n                )}\n                {penaltiesMissed && penaltiesMissed.aggregates.totals.penaltiesMissed > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Penalties Missed</span>\n                        <Player\n                            id={penaltiesMissed.element.id}\n                            suffix={`${penaltiesMissed.aggregates.totals.penaltiesMissed}`}\n                            reversed\n                        />\n                    </li>\n                )}\n                {penaltiesSaved && penaltiesSaved.aggregates.totals.penaltiesSaved > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Penalties Saved</span>\n                        <Player\n                            id={penaltiesSaved.element.id}\n                            suffix={`${penaltiesSaved.aggregates.totals.penaltiesSaved}`}\n                            reversed\n                        />\n                    </li>\n                )}\n                {minutes && minutes.aggregates.totals.minutes > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Minutes</span>\n                        <Player\n                            id={minutes.element.id}\n                            suffix={`${thousandsSeparator(minutes.aggregates.totals.minutes as number)}`}\n                            reversed\n                        />\n                    </li>\n                )}\n                {reds && reds.aggregates.totals.redCards > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Red Cards</span>\n                        <Player id={reds.element.id} suffix={`${reds.aggregates.totals.redCards}`} reversed />\n                    </li>\n                )}\n                {yellows && yellows.aggregates.totals.yellowCards > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Yellow Cards</span>\n                        <Player id={yellows.element.id} suffix={`${yellows.aggregates.totals.yellowCards}`} reversed />\n                    </li>\n                )}\n                {bonus && bonus.aggregates.totals.bonus > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Bonus Points</span>\n                        <Player id={bonus.element.id} suffix={`${bonus.aggregates.totals.bonus}`} reversed />\n                    </li>\n                )}\n                {bps && bps.aggregates.totals.bps > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Highest Total BPS</span>\n                        <Player\n                            id={bps.element.id}\n                            suffix={`${thousandsSeparator(bps.aggregates.totals.bps)}`}\n                            reversed\n                        />\n                    </li>\n                )}\n                {inDreamteam && inDreamteam.aggregates.totals.timesInDreamteam > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Times in Dreamteam</span>\n                        <Player\n                            id={inDreamteam.element.id}\n                            suffix={`${inDreamteam.aggregates.totals.timesInDreamteam}`}\n                            reversed\n                        />\n                    </li>\n                )}\n                {mostCaptaincies && mostCaptaincies.aggregates.totals.captaincies > 0 && (\n                    <li className=\"widget__list__item\">\n                        <span>Most Captaincies</span>\n                        <Player\n                            id={mostCaptaincies.element.id}\n                            suffix={`${mostCaptaincies.aggregates.totals.captaincies}`}\n                            reversed\n                        />\n                    </li>\n                )}\n                {idealCaptain && (\n                    <li className=\"widget__list__item\">\n                        <span>Ideal Captain</span>\n                        <Player id={Number(idealCaptain[0])} suffix={`${idealCaptain[1]}`} reversed />\n                    </li>\n                )}\n            </ul>\n        </Widget>\n    )\n}\n\nexport default PlayerStatsWidget\n","import React, { useContext } from 'react'\nimport { Widget } from '../Widget'\nimport { thousandsSeparator, sumNumbers, round, sort, getPointsLabel, getGWCountLabel } from '../../utilities'\nimport { Metric } from '../Metric'\nimport { useMeanValue } from '../../hooks'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\ntype FormationInformation = {\n    count: number\n    points: (number | null)[]\n}\n\nconst TITLE = 'Formations'\n\nexport const formatFormation = (formation: string) =>\n    sumNumbers(formation.split('-').map(position => Number(position))) > 10 ? 'Bench Boost' : formation\n\nconst FormationWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const meanValue = useMeanValue()\n\n    if (!data) {\n        return <Widget title={TITLE} />\n    }\n\n    const history = data.history\n    const stats = data.stats.data\n\n    const weeks = history.current.length\n\n    const formations = Object.values(stats)\n        .map(position => {\n            const selections = position.map(player => player.data.map(data => data.multiplier))\n\n            return Array.from(Array(weeks).keys()).map(\n                (el, index) => selections.map(player => (player[index] || 0) > 0).filter(val => !!val).length\n            )\n        })\n        .slice(1)\n\n    const formationData = Array.from(Array(weeks).keys())\n        .map((el, index) => formations.map(entries => entries[index]).join('-'))\n        .reduce(\n            (acc, formation, index) => ({\n                ...acc,\n                [formation]: {\n                    count: (acc[formation] ? acc[formation].count : 0) + 1,\n                    points: [\n                        ...(acc[formation] ? acc[formation].points : ([] as number[])),\n                        history.current[index].points,\n                    ],\n                },\n            }),\n            {} as Record<string, FormationInformation>\n        )\n\n    return (\n        <Widget title={TITLE}>\n            {Object.entries(formationData).length > 0 && (\n                <ul className=\"widget__list\">\n                    {sort(Object.entries(formationData), el => el[1].count).map(([formation, information]) => {\n                        return (\n                            <li className=\"widget__list__item\" key={formation}>\n                                <span>{formatFormation(formation)}</span>\n                                <div>\n                                    <div>\n                                        <b>{getGWCountLabel(information.count)}</b>\n                                    </div>\n                                    <div className=\"muted\">\n                                        {getPointsLabel(thousandsSeparator(sumNumbers(information.points)))},{' '}\n                                        {round(meanValue(information.points))} <Metric metric=\"ppg\" />\n                                    </div>\n                                </div>\n                            </li>\n                        )\n                    })}\n                </ul>\n            )}\n        </Widget>\n    )\n}\n\nexport default FormationWidget\n","import React, { useContext } from 'react'\nimport {\n    thousandsSeparator,\n    sumNumbers,\n    round,\n    sort,\n    getPointsLabel,\n    getGWCountLabel,\n    pluralise,\n} from '../../utilities'\nimport { Player } from '../Player'\nimport { Widget } from '../Widget'\nimport { Metric } from '../Metric'\nimport { useMeanValue } from '../../hooks'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\nconst TITLE = 'Captains'\n\nconst CaptainWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const meanValue = useMeanValue()\n\n    if (!data) {\n        return <Widget title={TITLE} />\n    }\n\n    const stats = data.stats.data\n\n    const captains = sort(\n        Object.values(stats)\n            .map(position => {\n                return position\n                    .map(player => ({\n                        player,\n                        data: player.data.filter(data => (data.multiplier || 0) > 1),\n                    }))\n                    .filter(player => player.data.length > 0)\n            })\n            .reduce((acc, curr) => acc.concat(curr), []),\n        el => el.data.length\n    )\n\n    const teams = captains.reduce((acc, captain) => {\n        acc.add(captain.player.element.team)\n        return acc\n    }, new Set())\n\n    return (\n        <Widget title={TITLE}>\n            {captains.length > 0 && (\n                <>\n                    <div className=\"widget__detail\">\n                        Selected a total of <b>{pluralise(captains.length, 'captain', 'captains')}</b> accross{' '}\n                        <b>{pluralise(teams.size, 'team', 'teams')}</b>.\n                    </div>\n                    <ul className=\"widget__list\">\n                        {captains.map(captain => {\n                            const points = captain.data.map(data => data.points)\n\n                            return (\n                                <li className=\"widget__list__item\" key={captain.player.element.id}>\n                                    <Player id={captain.player.element.id} />\n                                    <div>\n                                        <div>\n                                            <b>{getGWCountLabel(captain.data.length)}</b>\n                                        </div>\n                                        <div className=\"muted\">\n                                            {getPointsLabel(thousandsSeparator(sumNumbers(points)))},{' '}\n                                            {round(meanValue(points))} <Metric metric=\"ppg\" />\n                                        </div>\n                                    </div>\n                                </li>\n                            )\n                        })}\n                    </ul>\n                </>\n            )}\n        </Widget>\n    )\n}\n\nexport default CaptainWidget\n","import React from 'react'\nimport classNames from 'classnames'\nimport { getPointsLabel, round, thousandsSeparator } from '../../utilities'\nimport './ChangeBadge.scss'\n\ntype Props = {\n    value: number\n    renderer?: (input: number) => string\n}\n\nconst ChangeBadge: React.FC<Props> = (props: Props) => {\n    return (\n        <div\n            className={classNames('change-badge', {\n                'change-badge--negative': props.value < 0,\n                'change-badge--neutral': props.value === 0,\n            })}\n        >\n            {props.value > 0 ? '+' : props.value < 0 ? '-' : '='}{' '}\n            {props.renderer\n                ? props.renderer(props.value)\n                : getPointsLabel(thousandsSeparator(round(Math.abs(props.value))))}\n        </div>\n    )\n}\n\nexport default ChangeBadge\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useMeanLabel, useMeanValue } from '../../hooks'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { head, last, round, sort, thousandsSeparator, getPointsLabel } from '../../utilities'\nimport { SiteLink } from '../SiteLink'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { ChangeBadge } from '../ChangeBadge'\n\nconst TITLE = 'Gameweeks'\n\nconst GameweekWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    const meanLabel = useMeanLabel()\n    const meanValue = useMeanValue()\n\n    if (!data || !bootstrap || !data.history.current.length) {\n        return <Widget title={TITLE} />\n    }\n\n    const history = data.history\n\n    const differences = history.current.map(\n        week => week.points - (bootstrap.events.find(el => el.id === week.event)?.average_entry_score || 0)\n    )\n    const sortedRanks = sort(history.current, el => el.rank, 'asc')\n\n    const gws = sort(history.current, el => el.points)\n\n    const bestGW = head(gws)\n    const worstGW = last(gws)\n\n    const bestGWRank = head(sortedRanks)\n    const worstGWRank = last(sortedRanks)\n\n    return (\n        <Widget title={TITLE}>\n            <ul className=\"widget__list\">\n                <li className=\"widget__list__item\">\n                    <span>{meanLabel('Difference to GW Average')}</span>\n                    <ChangeBadge value={meanValue(differences)} />\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Times Above GW Average</span>\n                    <b>{differences.filter(diff => diff >= 0).length}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Times Below GW Average</span>\n                    <b>{differences.filter(diff => diff < 0).length}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>{meanLabel('GW Rank')}</span>\n                    <b>{thousandsSeparator(Number(round(meanValue(history.current.map(week => week.rank)))))}</b>\n                </li>\n                {bestGW && (\n                    <li className=\"widget__list__item\">\n                        <span>Best Gameweek</span>\n                        <span>\n                            <b>{getPointsLabel(bestGW.points)}</b> (\n                            <SiteLink event={bestGW.event} />)\n                        </span>\n                    </li>\n                )}\n                {worstGW && (\n                    <li className=\"widget__list__item\">\n                        <span>Worst Gameweek</span>\n                        <span>\n                            <b>{getPointsLabel(worstGW.points)}</b> (\n                            <SiteLink event={worstGW.event} />)\n                        </span>\n                    </li>\n                )}\n                {bestGWRank && (\n                    <li className=\"widget__list__item\">\n                        <span>Best GW Rank</span>\n                        <span>\n                            <b>{thousandsSeparator(bestGWRank.rank)}</b> (\n                            <SiteLink event={bestGWRank.event} />)\n                        </span>\n                    </li>\n                )}\n                {worstGWRank && (\n                    <li className=\"widget__list__item\">\n                        <span>Worst GW Rank</span>\n                        <span>\n                            <b>{thousandsSeparator(worstGWRank.rank)}</b> (\n                            <SiteLink event={worstGWRank.event} />)\n                        </span>\n                    </li>\n                )}\n            </ul>\n        </Widget>\n    )\n}\n\nexport default GameweekWidget\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useMeanValue } from '../../hooks'\nimport { RootState } from '../../reducers'\nimport { thousandsSeparator, sumNumbers, round, reduce, getPointsLabel, pluralise } from '../../utilities'\nimport { Widget } from '../Widget'\nimport { Metric } from '../Metric'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\nconst TITLE = 'Positions'\n\nconst PositionsWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    const meanValue = useMeanValue()\n\n    if (!data || !bootstrap) {\n        return <Widget title={TITLE} />\n    }\n\n    const stats = data.stats.data\n\n    const positions: Record<string, number> = Object.entries(stats).reduce(\n        (acc, [elementType, elements]) => ({\n            ...acc,\n            [elementType]: elements.length,\n        }),\n        {}\n    )\n\n    return (\n        <Widget title={TITLE}>\n            {Object.entries(positions).length > 0 && (\n                <ul className=\"widget__list\">\n                    <li className=\"widget__list__item\">\n                        <span>Total</span>\n                        <b>\n                            {pluralise(\n                                reduce(Object.values(positions), el => el),\n                                'Player',\n                                'Players'\n                            )}\n                        </b>\n                    </li>\n                    {Object.entries(positions).map(([elementType, elements]) => {\n                        const totalPoints = stats[Number(elementType)].map(player => player.aggregates.totals.points)\n\n                        return (\n                            <li className=\"widget__list__item\" key={elementType}>\n                                <span>\n                                    {bootstrap.element_types.find(el => el.id === Number(elementType))?.plural_name}\n                                </span>\n                                <div>\n                                    <div>\n                                        <b>{pluralise(elements, 'Player', 'Players')}</b>\n                                    </div>\n                                    <div className=\"muted\">\n                                        {getPointsLabel(thousandsSeparator(sumNumbers(totalPoints)))},{' '}\n                                        {round(meanValue(totalPoints))} <Metric metric=\"ppp\" />\n                                    </div>\n                                </div>\n                            </li>\n                        )\n                    })}\n                </ul>\n            )}\n        </Widget>\n    )\n}\n\nexport default PositionsWidget\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport {\n    getAllPlayers,\n    head,\n    thousandsSeparator,\n    sumNumbers,\n    reduce,\n    round,\n    getPointsLabel,\n    last,\n    sort,\n} from '../../utilities'\nimport { SiteLink } from '../SiteLink'\nimport { StatData } from '../../types'\nimport { StatAggregateTotals } from '../../types'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\nconst TITLE = 'Season'\n\nconst getAggregateValues = (players: StatData[], key: keyof StatAggregateTotals): number =>\n    sumNumbers(players.map(player => player.aggregates.totals[key]))\n\nconst SeasonWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const rawHistory = useSelector((state: RootState) => state.history.data)\n    const entry = useSelector((state: RootState) => state.entry.data)\n\n    if (!data || !entry || !data.history.current.length) {\n        return <Widget title={TITLE} />\n    }\n\n    const history = data.history\n\n    const allPlayers = getAllPlayers(data.stats.data)\n\n    const reds = getAggregateValues(allPlayers, 'redCards')\n    const yellows = getAggregateValues(allPlayers, 'yellowCards')\n    const goals = getAggregateValues(allPlayers, 'goals')\n    const assists = getAggregateValues(allPlayers, 'assists')\n    const cleanSheets = getAggregateValues(allPlayers, 'cleanSheets')\n    const goalsConceded = getAggregateValues(allPlayers, 'goalsConceded')\n    const ownGoals = getAggregateValues(allPlayers, 'ownGoals')\n    const saves = getAggregateValues(allPlayers, 'saves')\n    const minutes = getAggregateValues(allPlayers, 'minutes')\n    const penaltiesMissed = getAggregateValues(allPlayers, 'penaltiesMissed')\n    const penaltiesSaved = getAggregateValues(allPlayers, 'penaltiesSaved')\n    const inDreamteam = getAggregateValues(allPlayers, 'timesInDreamteam')\n    const bps = getAggregateValues(allPlayers, 'bps')\n    const bonus = getAggregateValues(allPlayers, 'bonus')\n\n    const totalTransfers = reduce(history.current, el => el.event_transfers)\n    const totalHits = reduce(history.current, el => el.event_transfers_cost / 4)\n    const largestHit = head(sort(history.current, el => el.event_transfers_cost))\n    const totalBenched = reduce(history.current, el => el.points_on_bench)\n\n    const tc = allPlayers\n        .find(player => [...player.data].findIndex(data => data.multiplier === 3) !== -1)\n        ?.data.find(data => data.multiplier === 3)\n\n    const bbWeek = head(Object.entries(data.stats.chips).find(([gw, chip]) => chip === 'bboost') || [])\n\n    const bbPoints = bbWeek\n        ? sumNumbers(\n              allPlayers\n                  .filter(player => ([...player.data][Number(bbWeek) - 1]?.position || 0) > 11)\n                  .map(player => [...player.data][Number(bbWeek) - 1]?.points || 0)\n          )\n        : null\n\n    const doubleDigitHauls = reduce(\n        allPlayers.map(player => [...player.data].filter(data => (data.points || 0) > 9).length),\n        el => el\n    )\n\n    const totalPlays = reduce(\n        allPlayers.map(player => player.data.filter(data => data.multiplier !== null && data.multiplier > 0).length),\n        el => el\n    )\n\n    const totalPoints =\n        (last(history.current)?.total_points || 0) -\n        (rawHistory?.current?.find(event => event.event === (head(history.current)?.event || 1) - 1)?.total_points || 0)\n\n    return (\n        <Widget title={TITLE}>\n            <ul className=\"widget__list\">\n                <li className=\"widget__list__item\">\n                    <span>Total Transfers Made</span>\n                    <span>\n                        <SiteLink target=\"transfers\" label={`${totalTransfers}`} />\n                    </span>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Hits Taken</span>\n                    <span>\n                        <b>{totalHits}</b> ({getPointsLabel(totalHits * -4)},{' '}\n                        {entry.summary_overall_points > 0 ? round(((totalHits * 4) / totalPoints) * 100) : 0}\n                        %)\n                    </span>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Largest Hit</span>\n                    <b>{getPointsLabel(largestHit?.event_transfers_cost || 0)}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Points</span>\n                    <b>{getPointsLabel(thousandsSeparator(totalPoints))}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Points on Bench</span>\n                    <b>{getPointsLabel(thousandsSeparator(totalBenched))}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Double Digit Hauls</span>\n                    <span>\n                        <b>{doubleDigitHauls}</b>\n                        {totalPlays > 0 && ` (${round((doubleDigitHauls / totalPlays) * 100)}%)`}\n                    </span>\n                </li>\n                {tc !== undefined && (\n                    <li className=\"widget__list__item\">\n                        <span>Triple Captain Points Gained</span>\n                        <span>\n                            <b>{getPointsLabel((tc.points || 0) / 3)}</b> (\n                            <SiteLink event={tc.event.id} />)\n                        </span>\n                    </li>\n                )}\n                {bbPoints !== null && (\n                    <li className=\"widget__list__item\">\n                        <span>Bench Boost Points Gained</span>\n                        <span>\n                            <b>{getPointsLabel(bbPoints)}</b> (\n                            <SiteLink event={Number(bbWeek)} />)\n                        </span>\n                    </li>\n                )}\n                <li className=\"widget__list__item\">\n                    <span>Total Goals Scored</span>\n                    <b>{goals}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Assists</span>\n                    <b>{assists}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Own Goals</span>\n                    <b>{ownGoals}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Goals Conceded</span>\n                    <b>{goalsConceded}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Clean Sheets</span>\n                    <b>{cleanSheets}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Saves</span>\n                    <b>{saves}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Penalties Missed</span>\n                    <b>{penaltiesMissed}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Penalties Saved</span>\n                    <b>{penaltiesSaved}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Minutes Played</span>\n                    <b>{thousandsSeparator(minutes)}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Red Cards</span>\n                    <b>{reds}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Yellow Cards</span>\n                    <b>{yellows}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Bonus Points</span>\n                    <b>{thousandsSeparator(bonus)}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total BPS</span>\n                    <b>{thousandsSeparator(bps)}</b>\n                </li>\n                <li className=\"widget__list__item\">\n                    <span>Total Times in Dreamteam</span>\n                    <b>{inDreamteam}</b>\n                </li>\n            </ul>\n        </Widget>\n    )\n}\n\nexport default SeasonWidget\n","import React from 'react'\nimport { Team as TeamType } from '../../types'\nimport './Team.scss'\n\ntype Props = {\n    team: TeamType\n}\n\nconst Team: React.FC<Props> = (props: Props) => (\n    <div className=\"team\">\n        <img\n            src={`https://fantasy.premierleague.com/dist/img/shirts/special/shirt_${props.team.code}-66.png`}\n            alt={props.team.short_name}\n            className=\"player__shirt\"\n        />\n        <span className=\"team__name\">{props.team.name}</span>\n    </div>\n)\n\nexport default Team\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../reducers'\nimport { Team } from '../Team'\nimport { Widget } from '../Widget'\nimport { getAllPlayers, getPointsLabel, round, sort, sumNumbers } from '../../utilities'\nimport { Metric } from '../Metric'\nimport { useMeanValue } from '../../hooks'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport './TeamsWidget.scss'\n\nconst TITLE = 'Teams'\n\nconst TeamsWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    const meanValue = useMeanValue()\n\n    if (!data || !bootstrap) {\n        return <Widget title={TITLE} />\n    }\n\n    const stats = data.stats.data\n\n    const counts = Object.values(stats)\n        .reduce((acc: number[], curr) => [...acc, ...curr.map(el => el.element.team)], [])\n        .reduce((acc: { [key: number]: number }, curr) => ({ ...acc, [curr]: (acc[Number(curr)] || 0) + 1 }), {})\n\n    const teams = sort(bootstrap.teams, el => counts[el.id] || 0)\n\n    const allPlayers = getAllPlayers(stats)\n\n    return (\n        <Widget title={TITLE} cssClasses=\"teams-widget\">\n            {teams.length > 0 && (\n                <ul className=\"widget__list\">\n                    {teams.map(team => {\n                        const players = allPlayers.filter(player => player.element.team === team.id)\n                        const points = players.map(player => player.aggregates.totals.points)\n\n                        return (\n                            <li className=\"teams-widget__item\" key={team.id}>\n                                <div className=\"teams-widget__header\">\n                                    <Team team={team} />\n                                    <div>\n                                        <div>\n                                            <b>{counts[team.id] || 0}</b>\n                                        </div>\n                                        <div className=\"muted\">\n                                            {getPointsLabel(sumNumbers(points))},{' '}\n                                            {players.length > 0 ? round(meanValue(points)) : 0} <Metric metric=\"ppp\" />\n                                        </div>\n                                    </div>\n                                </div>\n                                <div>\n                                    {Object.entries(stats).map(([position, players]) => {\n                                        const positionPlayers = players.filter(\n                                            player => player.element.team === team.id\n                                        )\n\n                                        if (!positionPlayers.length) {\n                                            return null\n                                        }\n\n                                        return (\n                                            <div\n                                                className=\"teams-widget__position\"\n                                                data-position={\n                                                    bootstrap.element_types.find(el => el.id === Number(position))\n                                                        ?.plural_name_short\n                                                }\n                                                key={position}\n                                            >\n                                                {sort(\n                                                    positionPlayers.filter(player => player.element.team === team.id),\n                                                    el => el.aggregates.totals.points\n                                                ).map(player => (\n                                                    <div key={player.element.id}>\n                                                        {player.element.web_name} (\n                                                        {getPointsLabel(player.aggregates.totals.points)})\n                                                    </div>\n                                                ))}\n                                            </div>\n                                        )\n                                    })}\n                                </div>\n                            </li>\n                        )\n                    })}\n                </ul>\n            )}\n        </Widget>\n    )\n}\n\nexport default TeamsWidget\n","import React from 'react'\n\nconst SwapIcon: React.FC = () => {\n    return (\n        <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"12\"\n            height=\"12\"\n            viewBox=\"0 0 24 24\"\n            fill=\"#aaa\"\n            className=\"swap-icon\"\n        >\n            <path d=\"M21 12l-18 12v-24z\" />\n        </svg>\n    )\n}\n\nexport default SwapIcon\n","import React, { useContext } from 'react'\nimport { getAllPlayers, getPointsLabel, head, sort } from '../../utilities'\nimport { Player } from '../Player'\nimport { Widget } from '../Widget'\nimport { SwapIcon } from '../SwapIcon'\nimport { SiteLink } from '../SiteLink'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { getGWCountLabel } from '../../utilities/strings'\nimport './CaptainOpportunityWidget.scss'\n\nconst TITLE = 'Missed Captaincies'\n\nconst CaptainOpportunityWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    if (!data) {\n        return <Widget title={TITLE} />\n    }\n\n    const stats = data.stats.data\n    const history = data.history\n\n    const allPlayers = getAllPlayers(stats)\n\n    const improvements = history.current\n        .map((el, index) => ({\n            event: el.event,\n            top: head(sort(allPlayers, el => el.data[index].rawPoints || 0)),\n            captain: allPlayers.find(player => (player.data[index].multiplier || 0) > 1),\n        }))\n        .filter(\n            (improvement, index) =>\n                improvement.top &&\n                improvement.captain &&\n                improvement.captain.data[index].rawPoints !== improvement.top.data[index].rawPoints\n        )\n\n    const missedPoints = improvements.reduce((acc, improvement) => {\n        const captainData = improvement.captain?.data.find(el => el.event.id === improvement.event)\n        const topData = improvement.top?.data.find(el => el.event.id === improvement.event)\n\n        return acc + ((topData?.rawPoints || 0) - (captainData?.rawPoints || 0))\n    }, 0)\n\n    return (\n        <Widget title={TITLE} cssClasses=\"captain-opportunity-widget\">\n            {improvements.length > 0 && (\n                <>\n                    <div className=\"widget__detail\">\n                        Missed a total of <b>{getPointsLabel(missedPoints)}</b> accross{' '}\n                        <b>{getGWCountLabel(improvements.length, true)}</b>.\n                    </div>\n                    <ul className=\"widget__list\">\n                        {improvements.map(improvement => {\n                            const captainData = improvement.captain?.data.find(el => el.event.id === improvement.event)\n                            const topData = improvement.top?.data.find(el => el.event.id === improvement.event)\n\n                            return (\n                                <li className=\"widget__list__item\" key={captainData?.event.id}>\n                                    <div className=\"captain-opportunity-widget__group\">\n                                        <Player id={improvement.captain?.element.id || 0} />\n                                        <SwapIcon />\n                                        <Player id={improvement.top?.element.id || 0} />\n                                    </div>\n                                    <div className=\"captain-opportunity-widget__swap-info\">\n                                        <b>{getPointsLabel((captainData?.rawPoints || 0) * 2)}</b>\n                                        <SwapIcon />\n                                        <b>{getPointsLabel((topData?.rawPoints || 0) * 2)} </b>\n                                        <div>\n                                            <SiteLink event={captainData?.event.id} />\n                                        </div>\n                                    </div>\n                                </li>\n                            )\n                        })}\n                    </ul>\n                </>\n            )}\n        </Widget>\n    )\n}\n\nexport default CaptainOpportunityWidget\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Widget } from '../Widget'\nimport { ModalInput } from '../ModalInput'\nimport { Button } from '../Button'\nimport './WidgetWithModal.scss'\n\ntype Props<T> = {\n    data: T[]\n    title: string\n    max: number\n    matchesFilter: (item: T, query: string) => boolean\n    renderItem: (list: T) => JSX.Element | null\n    getItemKey: (item: T) => string | undefined\n}\n\nconst renderList = <T,>(\n    list: T[],\n    renderItem: (item: T) => JSX.Element | null,\n    getItemKey: (item: T) => string | undefined\n): JSX.Element => {\n    return (\n        <ul className=\"widget__list\">\n            {list.map(item => {\n                const render = renderItem(item)\n\n                if (!render) {\n                    return null\n                }\n\n                return (\n                    <li className=\"widget__list__item\" key={getItemKey(item)}>\n                        {render}\n                    </li>\n                )\n            })}\n        </ul>\n    )\n}\n\nconst WidgetWithModal = <T,>(props: Props<T>): React.ReactElement<Props<T>> | null => {\n    const [value, setValue] = useState<string>('')\n    const [showExtended, setShowExtended] = useState<boolean>(false)\n\n    const callbackRef = useCallback(inputElement => inputElement?.focus(), [])\n\n    const close = useCallback(() => {\n        setShowExtended(false)\n        setValue('')\n    }, [setShowExtended, setValue])\n\n    useEffect(() => {\n        const listener = (e: KeyboardEvent) => {\n            if (e.key === 'Escape') {\n                close()\n            }\n        }\n\n        document.addEventListener('keyup', listener)\n\n        return () => document.removeEventListener('keyup', listener)\n    }, [close])\n\n    const topData = props.data.slice(0, props.max)\n    const filteredData = value ? props.data.filter(item => props.matchesFilter(item, value)) : props.data\n\n    return (\n        <>\n            <Widget title={props.title} cssClasses=\"widget-with-modal\">\n                {topData.length > 0 && (\n                    <>\n                        {renderList(topData, props.renderItem, props.getItemKey)}\n                        {props.data.length > props.max && (\n                            <Button label=\"Show all\" onClick={() => setShowExtended(true)} />\n                        )}\n                    </>\n                )}\n            </Widget>\n            {showExtended && (\n                <div className=\"modal modal--list-widget\">\n                    <div className=\"modal__backdrop\" onClick={() => close()}></div>\n                    <Widget title={props.title} onClose={() => close()}>\n                        <ModalInput\n                            label=\"Name\"\n                            placeholder=\"Filter by name\"\n                            id=\"query\"\n                            value={value}\n                            onChange={value => setValue(value)}\n                            innerRef={callbackRef}\n                        />\n                        <div className=\"widget__scroller\">\n                            {filteredData.length > 0 ? (\n                                renderList(filteredData, props.renderItem, props.getItemKey)\n                            ) : (\n                                <div className=\"widget__empty\">No data available.</div>\n                            )}\n                        </div>\n                    </Widget>\n                </div>\n            )}\n        </>\n    )\n}\n\nexport default WidgetWithModal\n","import React from 'react'\nimport { Element, StatData } from '../../types'\nimport { normaliseDiacritics } from '../../utilities'\nimport { WidgetWithModal } from '../WidgetWithModal'\n\ntype PlayerLike = StatData | Element\n\ntype Props<T extends PlayerLike> = {\n    title: string\n    max: number\n    players: T[]\n    renderItem: (player: T) => JSX.Element | null\n    cssClasses?: string\n}\n\nconst isStatData = (element: PlayerLike): element is StatData => (element as StatData).element !== undefined\n\nconst isElement = (element: PlayerLike): element is Element => (element as Element).id !== undefined\n\nconst getItemKey = <T extends PlayerLike>(player: T): string | undefined => {\n    if (isStatData(player)) {\n        if (player.data.length > 1) {\n            return `${player.element.id}`\n        } else {\n            return `${player.element.id}-${player.data[0].event.id}`\n        }\n    } else if (isElement(player)) {\n        return `${player.id}`\n    }\n\n    return undefined\n}\n\nconst matchesFilter = <T extends PlayerLike>(item: T, query: string): boolean => {\n    return normaliseDiacritics(isStatData(item) ? item.element.web_name : isElement(item) ? item.web_name : '')\n        .toLowerCase()\n        .includes(normaliseDiacritics(query).toLowerCase())\n}\n\nconst BasePlayerWidget = <T extends PlayerLike>(props: Props<T>): React.ReactElement<Props<T>> | null => {\n    return (\n        <WidgetWithModal\n            title={props.title}\n            max={props.max}\n            data={props.players}\n            renderItem={props.renderItem}\n            getItemKey={getItemKey}\n            matchesFilter={matchesFilter}\n        />\n    )\n}\n\nexport default BasePlayerWidget\n","import React, { useContext } from 'react'\nimport { Widget } from '../Widget'\nimport { getAllPlayers, getGWCountLabel, sort } from '../../utilities'\nimport { Player } from '../Player'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\nconst MAX_ITEMS = 10\n\ntype Props = {\n    title: string\n    metric: 'selections' | 'starts' | 'benched'\n}\n\nconst SelectionWidget: React.FC<Props> = (props: Props) => {\n    const data = useContext(FilteredDataContext)\n\n    if (!data) {\n        return <Widget title={props.title} />\n    }\n\n    const stats = data.stats.data\n\n    const elements = sort(\n        getAllPlayers(stats).filter(el => el.aggregates.totals[props.metric] > 0),\n        el => el.aggregates.totals[props.metric]\n    )\n\n    return (\n        <BasePlayerWidget\n            title={props.title}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.element.id} />\n                    <b>{getGWCountLabel(element.aggregates.totals[props.metric])}</b>\n                </>\n            )}\n        />\n    )\n}\n\nexport default SelectionWidget\n","import React, { useContext } from 'react'\nimport { Widget } from '../Widget'\nimport { getAllPlayers, getGWCountLabel, round } from '../../utilities'\nimport { Player } from '../Player'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\ntype Props = {\n    title: string\n    top?: boolean\n}\n\nconst MAX_ITEMS = 5\n\nconst DifferenceWidget: React.FC<Props> = (props: Props) => {\n    const data = useContext(FilteredDataContext)\n\n    if (!data) {\n        return <Widget title={props.title} />\n    }\n\n    const stats = data.stats.data\n\n    const elements = getAllPlayers(stats).map(element => {\n        const selections = element.aggregates.totals.selections\n        const starts = element.aggregates.totals.starts\n        const benched = element.aggregates.totals.benched\n\n        return {\n            ...element,\n            benched,\n            benchedPercentage: (benched / selections) * 100,\n            starts,\n            startsPercentage: (starts / selections) * 100,\n        }\n    })\n\n    const starters = [...elements]\n        .sort((a, b) => {\n            const percentageDiff = b.startsPercentage - a.startsPercentage\n            return percentageDiff === 0 ? b.starts - a.starts : percentageDiff\n        })\n        .filter(el => el.starts > 0)\n\n    const benchwarmers = [...elements]\n        .sort((a, b) => {\n            const percentageDiff = b.benchedPercentage - a.benchedPercentage\n            return percentageDiff === 0 ? b.benched - a.benched : percentageDiff\n        })\n        .filter(el => el.benched > 0)\n\n    return (\n        <BasePlayerWidget\n            title={props.title}\n            players={props.top ? starters : benchwarmers}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.element.id} />\n                    <div>\n                        <div>\n                            <b>\n                                {round(\n                                    ((props.top\n                                        ? element.aggregates.totals.starts\n                                        : element.aggregates.totals.benched) /\n                                        element.aggregates.totals.selections) *\n                                        100\n                                )}\n                                %\n                            </b>\n                        </div>\n                        <div className=\"muted\">\n                            {getGWCountLabel(\n                                props.top ? element.aggregates.totals.starts : element.aggregates.totals.benched\n                            )}\n                        </div>\n                    </div>\n                </>\n            )}\n        />\n    )\n}\n\nexport default DifferenceWidget\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { AreaChart, Area, XAxis, YAxis, ResponsiveContainer, Tooltip } from 'recharts'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { getShortName, head, sort, thousandsSeparator, thousandsShorthand } from '../../utilities'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\nconst TITLE = 'Overall Rank Evolution'\n\nconst OverallRankWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n    const theme = useSelector((state: RootState) => state.settings.theme)\n\n    if (!data || !bootstrap || !data.history.current.length) {\n        return <Widget title={TITLE} />\n    }\n\n    const history = data.history\n\n    let rankData = history.current.map(entry => {\n        const event = bootstrap.events.find(event => event.id === entry.event)\n\n        return {\n            name: `GW ${event ? getShortName(event) : entry.event}`,\n            value: entry.overall_rank,\n        }\n    })\n\n    const max = (head(sort([...rankData], el => el.value))?.value || 0) * 1.05\n\n    rankData = [...rankData].map(element => ({\n        ...element,\n        max,\n    }))\n\n    return (\n        <Widget title={TITLE}>\n            <div className=\"chart chart--reversed\">\n                <ResponsiveContainer height={200} width=\"100%\">\n                    <AreaChart data={rankData} margin={{ top: 0, right: 0, bottom: 0, left: 0 }}>\n                        <Area type=\"monotone\" dataKey=\"max\" fill=\"#177B47\" fillOpacity=\"0.75\" />\n                        <Area\n                            type=\"monotone\"\n                            dataKey=\"value\"\n                            stroke=\"#177B47\"\n                            fill={theme === 'dark' ? '#3a4556' : '#fff'}\n                            fillOpacity=\"1\"\n                        />\n                        <YAxis\n                            reversed={true}\n                            tickFormatter={value => thousandsShorthand(value)}\n                            domain={[1, max]}\n                            interval=\"preserveStartEnd\"\n                            tickCount={10}\n                            hide={true}\n                        />\n                        <XAxis dataKey=\"name\" angle={-90} textAnchor=\"end\" interval=\"preserveStartEnd\" hide={true} />\n                        <Tooltip\n                            isAnimationActive={false}\n                            formatter={(value, name) =>\n                                name === 'max' ? [undefined, undefined] : [thousandsSeparator(Number(value)), 'Rank']\n                            }\n                            separator=\": \"\n                        />\n                    </AreaChart>\n                </ResponsiveContainer>\n            </div>\n        </Widget>\n    )\n}\n\nexport default OverallRankWidget\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { AreaChart, Area, XAxis, YAxis, ResponsiveContainer, Tooltip } from 'recharts'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { getShortName, initialCaps } from '../../utilities'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\nconst TITLE = 'Gameweek Points'\n\nconst PointsWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!data || !bootstrap || !data.history.current.length) {\n        return <Widget title={TITLE} />\n    }\n\n    const history = data.history\n\n    const pointsData = history.current.map(entry => {\n        const event = bootstrap.events.find(event => event.id === entry.event)\n\n        return {\n            name: `GW ${event ? getShortName(event) : entry.event}`,\n            points: entry.points,\n            bench: entry.points_on_bench,\n        }\n    })\n\n    return (\n        <Widget title={TITLE}>\n            <div className=\"chart\">\n                <ResponsiveContainer height={200} width=\"100%\">\n                    <AreaChart data={pointsData} margin={{ top: 0, right: 0, bottom: 0, left: 0 }}>\n                        <Area type=\"monotone\" dataKey=\"points\" stroke=\"#177B47\" fill=\"#177B47\" fillOpacity=\"0.75\" />\n                        <Area type=\"monotone\" dataKey=\"bench\" stroke=\"#00FF87\" fill=\"#00FF87\" fillOpacity=\"0.75\" />\n                        <YAxis interval=\"preserveStartEnd\" hide={true} />\n                        <XAxis dataKey=\"name\" angle={-90} textAnchor=\"end\" interval=\"preserveStartEnd\" hide={true} />\n                        <Tooltip\n                            isAnimationActive={false}\n                            formatter={(value, name) => [value, initialCaps(name)]}\n                            separator=\": \"\n                        />\n                    </AreaChart>\n                </ResponsiveContainer>\n            </div>\n        </Widget>\n    )\n}\n\nexport default PointsWidget\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { AreaChart, Area, XAxis, YAxis, ResponsiveContainer, Tooltip } from 'recharts'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { getShortName, initialCaps } from '../../utilities'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\nconst TITLE = 'Team Value Evolution'\n\nconst ValueWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!data || !bootstrap || !data.history.current.length) {\n        return <Widget title={TITLE} />\n    }\n\n    const history = data.history\n\n    const valueData = history.current.map(entry => {\n        const event = bootstrap.events.find(event => event.id === entry.event)\n\n        return {\n            name: `GW ${event ? getShortName(event) : entry.event}`,\n            value: entry.value + entry.bank,\n        }\n    })\n\n    return (\n        <Widget title={TITLE}>\n            <div className=\"chart\">\n                <ResponsiveContainer height={200} width=\"100%\">\n                    <AreaChart data={valueData} margin={{ top: 0, right: 0, bottom: 0, left: 0 }}>\n                        <Area type=\"monotone\" dataKey=\"value\" stroke=\"#177B47\" fill=\"#177B47\" fillOpacity=\"0.75\" />\n                        <YAxis\n                            tickFormatter={value => `£${value / 10}`}\n                            domain={['auto', 'auto']}\n                            interval=\"preserveStartEnd\"\n                            hide={true}\n                        />\n                        <XAxis dataKey=\"name\" angle={-90} textAnchor=\"end\" interval=\"preserveStartEnd\" hide={true} />\n                        <Tooltip\n                            isAnimationActive={false}\n                            formatter={(value, name) => [`£${Number(value) / 10}`, initialCaps(name)]}\n                            separator=\": \"\n                        />\n                    </AreaChart>\n                </ResponsiveContainer>\n            </div>\n        </Widget>\n    )\n}\n\nexport default ValueWidget\n","import React, { useContext } from 'react'\nimport { getAllPlayers, getGWCountLabel, head, round, sort } from '../../utilities'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { Player } from '../Player'\nimport { Widget } from '../Widget'\n\nconst TITLE = 'Wrong Captains'\n\nconst WrongCaptainWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    if (!data) {\n        return <Widget title={TITLE} />\n    }\n\n    const stats = data.stats.data\n    const history = data.history\n\n    const allPlayers = getAllPlayers(stats)\n    const weeks = history.current.length\n\n    const improvements = Array.from(Array(weeks).keys())\n        .map((el, index) => ({\n            top: head(sort(allPlayers, el => el.data[index].rawPoints || 0)),\n            captain: allPlayers.find(player => (player.data[index].multiplier || 0) > 1),\n        }))\n        .reduce(\n            (acc, curr, index) =>\n                curr.captain && curr.top\n                    ? {\n                          ...acc,\n                          [curr.captain.element.id]:\n                              (acc[curr.captain.element.id] ? acc[curr.captain.element.id] : 0) +\n                              ((curr.captain.data[index].rawPoints || 0) < (curr.top.data[index].rawPoints || 0)\n                                  ? 1\n                                  : 0),\n                      }\n                    : acc,\n            {} as Record<number, number>\n        )\n\n    const timesUsed = allPlayers.reduce((acc, curr) => {\n        return {\n            ...acc,\n            [curr.element.id]: curr.aggregates.totals.captaincies,\n        }\n    }, {} as Record<number, number>)\n\n    const totalMisses = Object.values(improvements).reduce((acc, curr) => acc + curr, 0)\n\n    return (\n        <Widget title={TITLE}>\n            {Object.entries(improvements).length > 0 && (\n                <>\n                    <div className=\"widget__detail\">\n                        Selected the wrong captain in <b>{getGWCountLabel(totalMisses, true)}</b> (\n                        {round((totalMisses / weeks) * 100)}%).\n                    </div>\n                    <ul className=\"widget__list\">\n                        {sort(Object.entries(improvements), el => el[1]).map(([player, count]) => (\n                            <li className=\"widget__list__item\" key={player}>\n                                <Player id={Number(player)} />\n                                <div>\n                                    <div>\n                                        <b>\n                                            {count} / {getGWCountLabel(timesUsed[Number(player)])}\n                                        </b>\n                                    </div>\n                                    <div className=\"muted\">{round((count / timesUsed[Number(player)]) * 100, 1)}%</div>\n                                </div>\n                            </li>\n                        ))}\n                    </ul>\n                </>\n            )}\n        </Widget>\n    )\n}\n\nexport default WrongCaptainWidget\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../reducers'\nimport { getAllPlayers, getPointsLabel, head, last, round, sort } from '../../utilities'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { Player } from '../Player'\nimport { Widget } from '../Widget'\n\nconst MAX_ITEMS = 5\nconst TITLE = 'Total Points Contribution by Player'\n\nconst ContributionWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const entry = useSelector((state: RootState) => state.entry.data)\n    const rawHistory = useSelector((state: RootState) => state.history.data)\n\n    if (!entry || !data || !rawHistory) {\n        return <Widget title={TITLE} />\n    }\n\n    const history = data.history\n    const stats = data.stats.data\n\n    const latestPoints = last(history.current)?.total_points || 0\n    const totalPoints =\n        history.current.length > 1\n            ? latestPoints -\n              (rawHistory?.current?.find(event => event.event === (head(history.current)?.event || 1))?.total_points ||\n                  0)\n            : latestPoints\n\n    const contributions = sort(getAllPlayers(stats), el => el.aggregates.totals.points)\n\n    return (\n        <BasePlayerWidget\n            title={TITLE}\n            players={contributions}\n            max={MAX_ITEMS}\n            renderItem={player => (\n                <>\n                    <Player id={player.element.id} />\n                    <div>\n                        <div>\n                            <b>{round((player.aggregates.totals.points / totalPoints) * 100)}%</b>\n                        </div>\n                        <div className=\"muted\">{getPointsLabel(player.aggregates.totals.points)}</div>\n                    </div>\n                </>\n            )}\n        />\n    )\n}\n\nexport default ContributionWidget\n","import React, { useContext } from 'react'\nimport { Widget } from '../Widget'\nimport { getAllPlayers, getPointsLabel, round, sort } from '../../utilities'\nimport { Player } from '../Player'\nimport { getGWCountLabel } from '../../utilities/strings'\nimport { StatData } from '../../types'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\ntype Props = {\n    title: string\n    top?: boolean\n}\n\nconst MAX_ITEMS = 5\n\nconst getPointsShare = (player: StatData): number =>\n    100 - (player.aggregates.totals.rawPoints / player.element.total_points) * 100\n\nconst MissedPointsShareWidget: React.FC<Props> = (props: Props) => {\n    const data = useContext(FilteredDataContext)\n\n    if (!data) {\n        return <Widget title={props.title} />\n    }\n\n    const stats = data.stats.data\n    const history = data.history\n\n    const elements = sort(\n        getAllPlayers(stats).filter(player => player.aggregates.totals.points > 0),\n        el => getPointsShare(el),\n        props.top ? 'desc' : 'asc'\n    )\n\n    return (\n        <BasePlayerWidget\n            title={props.title}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.element.id} />\n                    <div>\n                        <div>\n                            <b>{element.element.total_points > 0 && `${round(getPointsShare(element))}%`}</b>\n                        </div>\n                        <div className=\"muted\">\n                            {getPointsLabel(element.element.total_points - element.aggregates.totals.rawPoints)} in{' '}\n                            {getGWCountLabel(history.current.length - element.aggregates.totals.selections)}\n                        </div>\n                    </div>\n                </>\n            )}\n        />\n    )\n}\n\nexport default MissedPointsShareWidget\n","import React, { useContext } from 'react'\nimport { getAllPlayers, getPointsLabel, sort, thousandsSeparator } from '../../utilities'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { Player } from '../Player'\nimport { Widget } from '../Widget'\n\nconst MAX_ITEMS = 15\nconst TITLE = 'Other Players'\n\nconst NearMissesWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    if (!data) {\n        return <Widget title={TITLE} />\n    }\n\n    const totsIds = data.stats.tots.xi.concat(data.stats.tots.bench).map(player => player.element.id)\n    const players = sort(\n        getAllPlayers(data.stats.data).filter(player => !totsIds.includes(player.element.id)),\n        el => el.aggregates.totals.points\n    )\n\n    return (\n        <BasePlayerWidget\n            title={TITLE}\n            players={players}\n            max={MAX_ITEMS}\n            renderItem={player => (\n                <>\n                    <Player id={player.element.id} />\n                    <b>{getPointsLabel(thousandsSeparator(player.aggregates.totals.points))}</b>\n                </>\n            )}\n        />\n    )\n}\n\nexport default NearMissesWidget\n","import React, { useContext } from 'react'\nimport { useMeanValue } from '../../hooks'\nimport { StatAggregateStreaks, Streak, Element } from '../../types'\nimport { getAllPlayers, getGWCountLabel, getPointsLabel, normaliseDiacritics, round } from '../../utilities'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { Metric } from '../Metric'\nimport { Player } from '../Player'\nimport { SiteLink } from '../SiteLink'\nimport { Widget } from '../Widget'\nimport { WidgetWithModal } from '../WidgetWithModal'\n\nconst MAX_ITEMS = 5\n\ntype Props = {\n    title: string\n    metric: keyof StatAggregateStreaks\n    showDetailedStats?: boolean\n}\n\ntype PlayerStreak = Streak & {\n    player: Element\n}\n\nconst getItemKey = (streak: PlayerStreak) => `${streak.player.id}-${streak.start.id}`\n\nconst matchesFilter = (streak: PlayerStreak, query: string) =>\n    streak.player.web_name.toLowerCase().includes(normaliseDiacritics(query).toLowerCase())\n\nconst StreakWidget: React.FC<Props> = (props: Props) => {\n    const data = useContext(FilteredDataContext)\n\n    const meanValue = useMeanValue()\n\n    if (!data) {\n        return <Widget title={props.title} />\n    }\n\n    const stats = data.stats.data\n\n    const streaks = getAllPlayers(stats)\n        .reduce(\n            (acc, player) => [\n                ...acc,\n                ...(player.aggregates.streaks[props.metric] || [])?.map(streak => ({\n                    ...streak,\n                    player: player.element,\n                })),\n            ],\n            [] as PlayerStreak[]\n        )\n        .sort((a, b) => {\n            if (a.length !== b.length) {\n                return b.length - a.length\n            }\n\n            if (props.showDetailedStats && a.totalPoints !== b.totalPoints) {\n                return b.totalPoints - a.totalPoints\n            }\n\n            return a.player.web_name.localeCompare(b.player.web_name)\n        })\n\n    return (\n        <WidgetWithModal\n            title={props.title}\n            max={MAX_ITEMS}\n            data={streaks}\n            renderItem={streak => {\n                return (\n                    <>\n                        <Player id={streak.player.id} />\n                        <div>\n                            <div className=\"duration\">\n                                <SiteLink event={streak.start.id} />\n                                {streak.start.id !== streak.end.id && (\n                                    <>\n                                        {' '}\n                                        - <SiteLink event={streak.end.id} />\n                                    </>\n                                )}\n                            </div>\n                            <div className=\"muted\">\n                                {props.showDetailedStats ? (\n                                    <>\n                                        {getGWCountLabel(streak.length)}, {getPointsLabel(streak.totalPoints || 0)},{' '}\n                                        {round(meanValue(streak.points || []))} <Metric metric=\"ppg\" />\n                                    </>\n                                ) : (\n                                    <div className=\"muted\">{getGWCountLabel(streak.length)}</div>\n                                )}\n                            </div>\n                        </div>\n                    </>\n                )\n            }}\n            getItemKey={getItemKey}\n            matchesFilter={matchesFilter}\n        />\n    )\n}\n\nexport default StreakWidget\n","import React, { ChangeEvent } from 'react'\nimport classNames from 'classnames'\nimport './Checkbox.scss'\n\ntype Props = {\n    label: string\n    checked: boolean\n    onChange: (event: ChangeEvent<HTMLInputElement>) => void\n    reversed?: boolean\n}\n\nconst Checkbox: React.FC<Props> = (props: Props) => (\n    <div className={classNames('checkbox', { 'checkbox--reversed': props.reversed })}>\n        <label className=\"checkbox__label\">\n            <input type=\"checkbox\" className=\"checkbox__element\" checked={props.checked} onChange={props.onChange} />\n            <div className=\"checkbox__visual\"></div>\n            {props.label}\n        </label>\n    </div>\n)\n\nexport default Checkbox\n","import React from 'react'\nimport classNames from 'classnames'\nimport { Button } from '../Button'\nimport './SegmentedControl.scss'\n\ntype SegmentedOption = {\n    label: string\n    value: string\n}\n\ntype Props = {\n    label: string\n    options: SegmentedOption[]\n    selected: string\n    setSelected: (value: string) => void\n}\n\nconst SegmentedControl: React.FC<Props> = (props: Props) => {\n    return (\n        <div className=\"segmented-control\">\n            <label>{props.label}</label>\n            {props.options.length > 0 && (\n                <div className=\"segmented-control__options\">\n                    {props.options.map(option => (\n                        <div\n                            className={classNames('segmented-control__option', {\n                                'segmented-control__option--selected': props.selected === option.value,\n                            })}\n                        >\n                            <Button label={option.label} onClick={() => props.setSelected(option.value)} />\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default SegmentedControl\n","import React, { useEffect, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Checkbox } from '../Checkbox'\nimport { RootState } from '../../reducers'\nimport { setMeanStrategy, setTheme } from '../../reducers/settings'\nimport { SegmentedControl } from '../SegmentedControl'\nimport { Modal } from '../Modal'\nimport './SettingsModal.scss'\n\ntype Props = {\n    onClose?: () => void\n}\n\nconst meanOptions = [\n    { label: 'Average', value: 'average' },\n    { label: 'Median', value: 'median' },\n]\n\nconst SettingsModal: React.FC<Props> = (props: Props) => {\n    const settings = useSelector((state: RootState) => state.settings)\n    const [checked, setChecked] = useState<boolean>(settings.theme === 'dark')\n    const [strategy, setStrategy] = useState<string>(settings.meanStrategy)\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        const listener = (e: KeyboardEvent) => {\n            if (e.key === 'Escape') {\n                props.onClose?.()\n            }\n        }\n\n        document.addEventListener('keyup', listener)\n\n        return () => document.removeEventListener('keyup', listener)\n    }, [props])\n\n    useEffect(() => {\n        if ((checked && settings.theme === 'light') || (!checked && settings.theme === 'dark')) {\n            dispatch(setTheme(checked ? 'dark' : 'light'))\n        }\n    }, [checked, dispatch, settings.theme])\n\n    useEffect(() => {\n        if (strategy !== settings.meanStrategy) {\n            dispatch(setMeanStrategy(strategy))\n        }\n    }, [dispatch, settings.meanStrategy, strategy])\n\n    return (\n        <Modal title=\"Settings\" onClose={() => props.onClose?.()} cssClasses=\"modal--settings\">\n            <SegmentedControl\n                label=\"Display values as\"\n                options={meanOptions}\n                selected={strategy}\n                setSelected={value => setStrategy(value)}\n            />\n            <Checkbox label=\"Use dark mode\" checked={checked} onChange={e => setChecked(e.target.checked)} reversed />\n        </Modal>\n    )\n}\n\nexport default SettingsModal\n","import classNames from 'classnames'\nimport React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { ValueType } from 'react-select'\nimport { useMeanValue } from '../../hooks'\nimport { RootState } from '../../reducers'\nimport { Bootstrap, StatData, Stats } from '../../types'\nimport { getChipAbbreviation, round, sort } from '../../utilities'\nimport { FilteredDataContext, OptionType } from '../Dashboard/Dashboard'\nimport { Metric } from '../Metric'\nimport { Player } from '../Player'\nimport './PlayerOverview.scss'\n\ntype Props = {\n    sort: ValueType<OptionType>\n}\n\nconst sortings: { [key: string]: (statData: StatData) => number } = {\n    points: el => el.aggregates.totals.points,\n    selection: el => el.aggregates.totals.selections,\n    start: el => el.aggregates.totals.starts,\n    bench: el => el.aggregates.totals.benched,\n    alphabet: (statData: StatData): number => {\n        return statData.element.web_name.toLowerCase().charCodeAt(0) * -1\n    },\n}\n\nconst renderPlayerList = (\n    stats: Stats,\n    bootstrap: Bootstrap,\n    sorting: OptionType,\n    meanValue: (series: (number | null)[]) => number\n): JSX.Element[] =>\n    Object.entries(stats).map(([elementType, statData]) => (\n        <div key={elementType}>\n            <li className=\"player-overview__category\">\n                <span>{bootstrap?.element_types.find(el => el.id === Number(elementType))?.plural_name_short}</span>\n                <span>{statData.length}</span>\n            </li>\n            {sort(\n                statData.filter(element => element.data.filter(pick => pick.multiplier !== null).length),\n                el => sortings[sorting.value](el)\n            ).map(element => (\n                <li key={element.element.id} className=\"player-overview__item\">\n                    <div className=\"player-overview__player\">\n                        <Player id={element.element.id} extended />\n                    </div>\n                    <div className=\"player-overview__stats\">\n                        {element.data.map(item => (\n                            <span\n                                key={item.event.id}\n                                className={classNames('player-overview__stat', {\n                                    'player-overview__stat--benched': item.multiplier === 0,\n                                    'player-overview__stat--captain': item.multiplier === 2,\n                                    'player-overview__stat--triple': item.multiplier === 3,\n                                    'player-overview__stat--started': item.multiplier,\n                                })}\n                            />\n                        ))}\n                    </div>\n                    <div className=\"player-overview__totals\">\n                        <span className=\"player-overview__stat\">\n                            <div>\n                                <b>{element.aggregates.totals.selections}</b>{' '}\n                                <span className=\"muted\">\n                                    (\n                                    {element.data.length\n                                        ? round((element.aggregates.totals.selections / element.data.length) * 100)\n                                        : 0}\n                                    %)\n                                </span>\n                            </div>\n                        </span>\n                        <span className=\"player-overview__stat\">\n                            <div>\n                                <b>{element.aggregates.totals.starts}</b>{' '}\n                                <span className=\"muted\">\n                                    (\n                                    {element.data.length\n                                        ? round((element.aggregates.totals.starts / element.data.length) * 100)\n                                        : 0}\n                                    %)\n                                </span>\n                            </div>\n                        </span>\n                        <span className=\"player-overview__stat\">\n                            <div>\n                                <b>{element.aggregates.totals.benched}</b>{' '}\n                                <span className=\"muted\">\n                                    (\n                                    {element.data.length\n                                        ? round((element.aggregates.totals.benched / element.data.length) * 100)\n                                        : 0}\n                                    %)\n                                </span>\n                            </div>\n                        </span>\n                        <span className=\"player-overview__stat\">\n                            <div>\n                                <b>{element.aggregates.totals.points}</b>{' '}\n                                <span className=\"muted\">\n                                    (\n                                    {round(\n                                        meanValue(\n                                            element.data\n                                                .filter(data => (data.multiplier || 0) > 0)\n                                                .map(data => data.points)\n                                        )\n                                    )}{' '}\n                                    <Metric metric=\"ppg\" />)\n                                </span>\n                            </div>\n                        </span>\n                    </div>\n                </li>\n            ))}\n        </div>\n    ))\n\nexport const PlayerOverview: React.FC<Props> = (props: Props) => {\n    const id = useSelector((state: RootState) => state.settings.id)\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n    const data = useContext(FilteredDataContext)\n\n    const meanValue = useMeanValue()\n\n    return (\n        <div\n            className={classNames('player-overview', {\n                'player-overview--cloaked': !id,\n            })}\n        >\n            <div className=\"player-overview__container\">\n                {data && bootstrap && Object.keys(data.stats.data).length > 0 ? (\n                    <>\n                        <header className=\"player-overview__header\">\n                            <span className=\"player-overview__heading\">Player</span>\n                            {data?.history.current?.map(event => (\n                                <span className=\"player-overview__stat\" key={event.event}>\n                                    GW {event.event}\n                                    {data?.stats.chips[event.event] && (\n                                        <div>{getChipAbbreviation(data.stats.chips[event.event])}</div>\n                                    )}\n                                </span>\n                            ))}\n                            <div className=\"player-overview__totals\">\n                                <span className=\"player-overview__stat\">Selected</span>\n                                <span className=\"player-overview__stat\">Starting</span>\n                                <span className=\"player-overview__stat\">Benched</span>\n                                <span className=\"player-overview__stat\">Points</span>\n                            </div>\n                        </header>\n                        <ul className=\"player-overview__list\">\n                            {renderPlayerList(data.stats.data, bootstrap, props.sort as OptionType, meanValue)}\n                        </ul>\n                    </>\n                ) : (\n                    <div className=\"player-overview__empty\">No data available.</div>\n                )}\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { getPointsLabel, last, sort } from '../../utilities'\nimport { Player } from '../Player'\n\nconst TITLE = 'Form Breakdown'\nconst MAX_ITEMS = 15\n\nconst FormWidget: React.FC = () => {\n    const stats = useSelector((state: RootState) => state.stats.data)\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!stats || !bootstrap) {\n        return <Widget title={TITLE} />\n    }\n\n    const picks = last(stats)?.pick.picks.map(el => el.element)\n    const elements = sort(\n        bootstrap.elements.filter(el => picks?.includes(el.id)),\n        el => Number(el.form)\n    )\n\n    return (\n        <BasePlayerWidget\n            title={TITLE}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.id} />\n                    <div>\n                        <b>{getPointsLabel(element.form)}</b>\n                    </div>\n                </>\n            )}\n        />\n    )\n}\n\nexport default FormWidget\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { last, sort } from '../../utilities'\nimport { Player } from '../Player'\nimport { ChangeBadge } from '../ChangeBadge'\n\nconst GAINS_TITLE = 'Price Gains'\nconst DROPS_TITLE = 'Price Drops'\n\nconst MAX_ITEMS = 5\n\ntype Props = {\n    type: 'gains' | 'drops'\n}\n\nconst PriceChangeWidget: React.FC<Props> = (props: Props) => {\n    const stats = useSelector((state: RootState) => state.stats.data)\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!stats || !bootstrap) {\n        return <Widget title={props.type === 'gains' ? GAINS_TITLE : DROPS_TITLE} />\n    }\n\n    const picks = last(stats)?.pick.picks.map(el => el.element)\n    const elements = sort(\n        bootstrap.elements.filter(\n            el =>\n                picks?.includes(el.id) &&\n                ((props.type === 'gains' && el.cost_change_event > 0) ||\n                    (props.type === 'drops' && el.cost_change_event_fall > 0))\n        ),\n        el => Number(props.type === 'gains' ? el.cost_change_event : el.cost_change_event_fall)\n    )\n\n    return (\n        <BasePlayerWidget\n            title={props.type === 'gains' ? GAINS_TITLE : DROPS_TITLE}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.id} />\n                    <div>\n                        <ChangeBadge\n                            value={\n                                props.type === 'gains' ? element.cost_change_event : element.cost_change_event_fall * -1\n                            }\n                            renderer={input => `£ ${Math.abs(input) / 10}`}\n                        />\n                    </div>\n                </>\n            )}\n        />\n    )\n}\n\nexport default PriceChangeWidget\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { last, sort } from '../../utilities'\nimport { Player } from '../Player'\n\nconst TITLE = 'Players in Doubt'\nconst MAX_ITEMS = 5\n\nconst InjuryWidget: React.FC = () => {\n    const stats = useSelector((state: RootState) => state.stats.data)\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!stats || !bootstrap) {\n        return <Widget title={TITLE} />\n    }\n\n    const picks = last(stats)?.pick.picks.map(el => el.element)\n    const elements = sort(\n        bootstrap.elements.filter(\n            el =>\n                picks?.includes(el.id) &&\n                el.chance_of_playing_next_round !== null &&\n                el.chance_of_playing_next_round !== 100\n        ),\n        el => Number(el.chance_of_playing_next_round),\n        'asc'\n    )\n\n    return (\n        <BasePlayerWidget\n            title={TITLE}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.id} />\n                    <div>\n                        <b>{element.chance_of_playing_next_round} %</b>\n                    </div>\n                </>\n            )}\n        />\n    )\n}\n\nexport default InjuryWidget\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { getPointsLabel, last, sort } from '../../utilities'\nimport { Player } from '../Player'\nimport { ChangeBadge } from '../ChangeBadge'\nimport './ExpectedPointsWidget.scss'\n\nconst CURRENT_TITLE = 'Expected Points – This GW'\nconst NEXT_TITLE = 'Expected Points – Next GW'\n\nconst MAX_ITEMS = 15\n\ntype Props = {\n    gw: 'current' | 'next'\n}\n\nconst ExpectedPointsWidget: React.FC<Props> = (props: Props) => {\n    const stats = useSelector((state: RootState) => state.stats.data)\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!stats || !bootstrap) {\n        return <Widget title={props.gw === 'current' ? CURRENT_TITLE : NEXT_TITLE} />\n    }\n\n    const picks = last(stats)?.pick.picks.map(el => el.element)\n    const elements = sort(\n        bootstrap.elements.filter(el => picks?.includes(el.id)),\n        el =>\n            Number(\n                props.gw === 'next'\n                    ? el.ep_next\n                    : el.event_points !== null\n                    ? el.event_points - Number(el.ep_this)\n                    : el.ep_this\n            )\n    )\n\n    return (\n        <BasePlayerWidget\n            title={props.gw === 'current' ? CURRENT_TITLE : NEXT_TITLE}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.id} />\n                    <div className=\"expected-points-widget__data\">\n                        <b>{getPointsLabel(props.gw === 'current' ? element.ep_this : element.ep_next)}</b>\n                        {props.gw === 'current' && element.event_points !== null && (\n                            <>\n                                <ChangeBadge value={element.event_points - Number(element.ep_this)} />\n                            </>\n                        )}\n                    </div>\n                </>\n            )}\n        />\n    )\n}\n\nexport default ExpectedPointsWidget\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { last, sort } from '../../utilities'\nimport { Player } from '../Player'\n\nconst TITLE = 'Popularity Breakdown'\nconst MAX_ITEMS = 5\n\nconst PopularityWidget: React.FC = () => {\n    const stats = useSelector((state: RootState) => state.stats.data)\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!stats || !bootstrap) {\n        return <Widget title={TITLE} />\n    }\n\n    const picks = last(stats)?.pick.picks.map(el => el.element)\n    const elements = sort(\n        bootstrap.elements.filter(el => picks?.includes(el.id)),\n        el => Number(el.selected_by_percent)\n    )\n\n    return (\n        <BasePlayerWidget\n            title={TITLE}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.id} />\n                    <div>\n                        <b>{element.selected_by_percent} %</b>\n                    </div>\n                </>\n            )}\n        />\n    )\n}\n\nexport default PopularityWidget\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { last, sort } from '../../utilities'\nimport { Player } from '../Player'\nimport { thousandsSeparator } from '../../utilities/numbers'\n\nconst IN_TITLE = 'Transfers IN'\nconst OUT_TITLE = 'Transfers OUT'\n\nconst MAX_ITEMS = 5\n\ntype Props = {\n    type: 'in' | 'out'\n}\n\nconst TransfersWidget: React.FC<Props> = (props: Props) => {\n    const stats = useSelector((state: RootState) => state.stats.data)\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!stats || !bootstrap) {\n        return <Widget title={props.type === 'in' ? IN_TITLE : OUT_TITLE} />\n    }\n\n    const picks = last(stats)?.pick.picks.map(el => el.element)\n    const elements = sort(\n        bootstrap.elements.filter(el => picks?.includes(el.id)),\n        el => Number(props.type === 'in' ? el.transfers_in_event : el.transfers_out_event)\n    )\n\n    return (\n        <BasePlayerWidget\n            title={props.type === 'in' ? IN_TITLE : OUT_TITLE}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.id} />\n                    <b>\n                        {thousandsSeparator(\n                            props.type === 'in' ? element.transfers_in_event : element.transfers_out_event\n                        )}\n                    </b>\n                </>\n            )}\n        />\n    )\n}\n\nexport default TransfersWidget\n","import React from 'react'\nimport classNames from 'classnames'\nimport { StatAggregateTotals, StatData } from '../../types'\nimport './StatComparison.scss'\n\ninterface Props {\n    left: StatData\n    right: StatData\n    label: string\n    columnClass?: string\n    stat: keyof StatAggregateTotals\n    compare: (left: number, right: number) => boolean\n}\n\nconst StatComparison: React.FC<Props> = (props: Props) => {\n    const leftValue = props.left.aggregates.totals[props.stat]\n    const rightValue = props.right.aggregates.totals[props.stat]\n\n    return (\n        <li className=\"stat-comparison\">\n            <div className={classNames('stat-comparison__label', props.columnClass)}>{props.label}</div>\n            <div\n                className={classNames('stat-comparison__left', props.columnClass, {\n                    'stat-comparison__left--highlight': props.compare(leftValue, rightValue),\n                })}\n            >\n                <span>{leftValue}</span>\n            </div>\n            <div\n                className={classNames('stat-comparison__right', props.columnClass, {\n                    'stat-comparison__right--highlight': props.compare(rightValue, leftValue),\n                })}\n            >\n                <span>{rightValue}</span>\n            </div>\n        </li>\n    )\n}\n\nexport default StatComparison\n","import React, { useContext, useState } from 'react'\nimport { Area, AreaChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts'\nimport Select, { ValueType } from 'react-select'\nimport { useSelector } from 'react-redux'\nimport { getPointsLabel, getAllPlayers } from '../../utilities'\nimport { Widget } from '../Widget'\nimport { FilteredDataContext, OptionType } from '../Dashboard/Dashboard'\nimport { RootState } from '../../reducers'\nimport { StatComparison } from '../StatComparison'\nimport './PlayerComparisonWidget.scss'\n\nconst TITLE = 'Player Comparison'\n\nconst PlayerComparisonWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    const [leftSide, setLeftSide] = useState<ValueType<OptionType>>()\n    const [rightSide, setRightSide] = useState<ValueType<OptionType>>()\n\n    if (!data || !bootstrap) {\n        return <Widget title={TITLE} />\n    }\n\n    const allPlayers = getAllPlayers(data.stats.data)\n\n    const playerOptions = allPlayers\n        .sort((a, b) => a.element.web_name.localeCompare(b.element.web_name))\n        .map(player => ({\n            value: `${player.element.id}`,\n            label: `${player.element.web_name} (${\n                bootstrap.element_types.find(type => type.id === player.element.element_type)?.singular_name_short\n            }, ${bootstrap.teams.find(team => team.id === player.element.team)?.short_name})`,\n        }))\n\n    const leftSideData = leftSide\n        ? allPlayers.find(el => el.element.id === Number((leftSide as OptionType).value))\n        : null\n\n    const rightSideData = rightSide\n        ? allPlayers.find(el => el.element.id === Number((rightSide as OptionType).value))\n        : null\n\n    const leftKey = leftSideData?.element.web_name || 'valueLeft'\n    const rightKey = rightSideData?.element.web_name || 'valueRight'\n\n    const pointsData = data.history.current.map(gw => {\n        return {\n            name: `GW ${gw.event}`,\n            [leftKey]: leftSideData?.data.find(d => d.event.id === gw.event)?.rawPoints || 0,\n            [rightKey]: rightSideData?.data.find(d => d.event.id === gw.event)?.rawPoints || 0,\n        }\n    })\n\n    return (\n        <Widget title={TITLE} cssClasses=\"player-comparison-widget\">\n            <div className=\"player-comparison-widget__selection\">\n                <div className=\"player-comparison-widget__column\" />\n                <div className=\"player-comparison-widget__column\">\n                    <Select\n                        options={playerOptions}\n                        className=\"player-comparison-widget__select\"\n                        value={leftSide}\n                        onChange={option => setLeftSide(option)}\n                        styles={{\n                            container: provided => ({ ...provided, width: '100%' }),\n                            menu: provided => ({ ...provided, zIndex: 20 }),\n                        }}\n                    />\n                </div>\n                <div className=\"player-comparison-widget__column\">\n                    <Select\n                        options={playerOptions}\n                        className=\"player-comparison-widget__select\"\n                        value={rightSide}\n                        onChange={option => setRightSide(option)}\n                        styles={{\n                            container: provided => ({ ...provided, width: '100%' }),\n                            menu: provided => ({ ...provided, zIndex: 20 }),\n                        }}\n                    />\n                </div>\n            </div>\n            {leftSideData && rightSideData && (\n                <>\n                    <ul className=\"comparison-list\">\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Goals Scored\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"goals\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Assists\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"assists\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Yellow Cards\"\n                            compare={(a, b) => a < b || a === b}\n                            stat=\"yellowCards\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Red Cards\"\n                            compare={(a, b) => a < b || a === b}\n                            stat=\"redCards\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Clean Sheets\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"cleanSheets\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Goals Conceded\"\n                            compare={(a, b) => a < b || a === b}\n                            stat=\"goalsConceded\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Own Goals\"\n                            compare={(a, b) => a < b || a === b}\n                            stat=\"ownGoals\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Saves\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"saves\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Minutes\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"minutes\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Penalties Missed\"\n                            compare={(a, b) => a < b || a === b}\n                            stat=\"penaltiesMissed\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Penalties Saved\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"penaltiesSaved\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Times in Dreamteam\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"timesInDreamteam\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"BPS\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"bps\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Bonus Points\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"bonus\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Captaincies\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"captaincies\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Points\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"points\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Points on Bench\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"benchPoints\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Selections\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"selections\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Starts\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"starts\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                        <StatComparison\n                            left={leftSideData}\n                            right={rightSideData}\n                            label=\"Times on Bench\"\n                            compare={(a, b) => a > b || a === b}\n                            stat=\"benched\"\n                            columnClass=\"player-comparison-widget__column\"\n                        />\n                    </ul>\n                    {pointsData && (\n                        <div className=\"player-comparison-widget__chart\">\n                            <ResponsiveContainer height={200} width=\"100%\">\n                                <AreaChart data={pointsData} margin={{ top: 0, right: 0, bottom: 0, left: 0 }}>\n                                    <Area\n                                        type=\"monotone\"\n                                        dataKey={leftKey}\n                                        stroke=\"#177B47\"\n                                        fill=\"#177B47\"\n                                        fillOpacity=\"0.75\"\n                                    />\n                                    <Area\n                                        type=\"monotone\"\n                                        dataKey={rightKey}\n                                        stroke=\"#00FF87\"\n                                        fill=\"#00FF87\"\n                                        fillOpacity=\"0.75\"\n                                    />\n                                    <YAxis\n                                        tickFormatter={value => getPointsLabel(value)}\n                                        domain={['auto', 'auto']}\n                                        interval=\"preserveStartEnd\"\n                                        hide={true}\n                                    />\n                                    <XAxis\n                                        dataKey=\"name\"\n                                        angle={-90}\n                                        textAnchor=\"end\"\n                                        interval=\"preserveStartEnd\"\n                                        hide={true}\n                                    />\n                                    <Tooltip\n                                        isAnimationActive={false}\n                                        formatter={(value, name) => [getPointsLabel(Number(value)), name]}\n                                        separator=\": \"\n                                    />\n                                </AreaChart>\n                            </ResponsiveContainer>\n                        </div>\n                    )}\n                </>\n            )}\n        </Widget>\n    )\n}\n\nexport default PlayerComparisonWidget\n","import React, { useContext } from 'react'\nimport { Widget } from '../Widget'\nimport { getAllPlayers, getGWCountLabel, sort } from '../../utilities'\nimport { Player } from '../Player'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\nconst TITLE = 'Double Digit Hauls'\nconst MAX_ITEMS = 10\n\nconst DoubleDigitHaulsWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    if (!data) {\n        return <Widget title={TITLE} />\n    }\n\n    const stats = data.stats.data\n\n    const elements = sort(\n        getAllPlayers(stats).filter(el => el.aggregates.totals.doubleDigitHauls > 0),\n        el => el.aggregates.totals.doubleDigitHauls\n    )\n\n    return (\n        <BasePlayerWidget\n            title={TITLE}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.element.id} />\n                    <b>{getGWCountLabel(element.aggregates.totals.doubleDigitHauls)}</b>\n                </>\n            )}\n        />\n    )\n}\n\nexport default DoubleDigitHaulsWidget\n","import React, { useContext } from 'react'\nimport { Widget } from '../Widget'\nimport { getAllPlayers, getPointsLabel, sort } from '../../utilities'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { StatData } from '../../types'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { Player } from '../Player'\nimport { SiteLink } from '../SiteLink'\n\nconst POINTS_TITLE = 'Top GW Points'\nconst BENCH_TITLE = 'Top GW Bench Points'\nconst MAX_ITEMS = 10\n\ntype Props = {\n    stat: 'rawPoints' | 'benchPoints'\n}\n\nconst PlayerGWReturnWidget: React.FC<Props> = (props: Props) => {\n    const data = useContext(FilteredDataContext)\n\n    if (!data) {\n        return <Widget title={props.stat === 'rawPoints' ? POINTS_TITLE : BENCH_TITLE} />\n    }\n\n    const stats = data.stats.data\n\n    const elements = sort(\n        getAllPlayers(stats).reduce(\n            (acc, curr) => [\n                ...acc,\n                ...curr.data\n                    .filter(item => (props.stat === 'rawPoints' ? (item.multiplier || 0) > 0 : item.multiplier === 0))\n                    .map(item => ({\n                        ...curr,\n                        data: [item],\n                    })),\n            ],\n            [] as StatData[]\n        ),\n        el => el.data[0][props.stat] || 0\n    )\n\n    return (\n        <BasePlayerWidget\n            title={props.stat === 'rawPoints' ? POINTS_TITLE : BENCH_TITLE}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => (\n                <>\n                    <Player id={element.element.id} />\n                    <div>\n                        <b>{getPointsLabel(element.data[0][props.stat] || 0)}</b>\n                        <div>\n                            <SiteLink event={element.data[0].event.id} />\n                        </div>\n                    </div>\n                </>\n            )}\n        />\n    )\n}\n\nexport default PlayerGWReturnWidget\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Widget } from '../Widget'\nimport { getAllPlayers, getPointsLabel, round, sort } from '../../utilities'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { SiteLink } from '../SiteLink'\nimport { RootState } from '../../reducers'\nimport { Team } from '../Team'\nimport { Metric } from '../Metric'\nimport { CurrentHistory, Team as TeamType } from '../../types'\nimport { WidgetWithModal } from '../WidgetWithModal'\n\nconst TITLE = 'Top GW Teams'\nconst MAX_ITEMS = 10\n\ntype TeamData = {\n    team: TeamType\n    event: CurrentHistory\n    points: number | null\n    players: number\n}\n\nconst renderItem = (item: TeamData): JSX.Element => {\n    return (\n        <>\n            <Team team={item.team} />\n            <div>\n                <b>{getPointsLabel(item.points || 0)}</b>\n                <div>\n                    <SiteLink event={item.event.event} />, {round((item.points || 0) / item.players)}{' '}\n                    <Metric metric=\"ppp\" />\n                </div>\n            </div>\n        </>\n    )\n}\n\nconst getItemKey = (item: TeamData): string => {\n    return `${item.team.id}-${item.event.event}`\n}\n\nconst matchesFilter = (item: TeamData, query: string): boolean => {\n    return item.team.name.toLowerCase().includes(query.toLowerCase())\n}\n\nconst TeamGWReturnWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!data || !bootstrap) {\n        return <Widget title={TITLE} />\n    }\n\n    const stats = data.stats.data\n    const allPlayers = getAllPlayers(stats)\n\n    const teamData = sort(\n        data.history.current\n            .map(event => {\n                return bootstrap.teams\n                    .map(team => {\n                        let players = 0\n\n                        return {\n                            team,\n                            event,\n                            points: allPlayers\n                                .filter(player => player.element.team === team.id)\n                                .reduce((acc: number | null, curr) => {\n                                    const points = curr.data.find(item => item.event.id === event.event)?.rawPoints\n\n                                    if (points !== undefined && points !== null) {\n                                        players += 1\n                                        return (acc || 0) + points\n                                    }\n\n                                    return acc\n                                }, null),\n                            players,\n                        }\n                    })\n                    .filter(team => team.points !== null)\n            })\n            .reduce((acc, curr) => [...acc, ...curr]),\n        el => el.points || 0\n    )\n\n    return (\n        <WidgetWithModal\n            title={TITLE}\n            max={MAX_ITEMS}\n            data={teamData}\n            renderItem={renderItem}\n            getItemKey={getItemKey}\n            matchesFilter={matchesFilter}\n        />\n    )\n}\n\nexport default TeamGWReturnWidget\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../reducers'\nimport { Team as TeamType } from '../../types'\nimport { getAllPlayers, getPointsLabel, head, last, round, sort } from '../../utilities'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { Team } from '../Team'\nimport { Widget } from '../Widget'\nimport { WidgetWithModal } from '../WidgetWithModal'\n\nconst MAX_ITEMS = 5\nconst TITLE = 'Total Points Contribution by Team'\n\ntype TeamContribution = {\n    team: TeamType\n    points: number\n}\n\nconst getItemKey = (item: TeamContribution): string => {\n    return `${item.team.id}`\n}\n\nconst matchesFilter = (item: TeamContribution, query: string): boolean => {\n    return item.team.name.toLowerCase().includes(query.toLowerCase())\n}\n\nconst TeamContributionWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const entry = useSelector((state: RootState) => state.entry.data)\n    const rawHistory = useSelector((state: RootState) => state.history.data)\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!entry || !data || !rawHistory || !bootstrap) {\n        return <Widget title={TITLE} />\n    }\n\n    const history = data.history\n    const stats = data.stats.data\n\n    const latestPoints = last(history.current)?.total_points || 0\n    const totalPoints =\n        history.current.length > 1\n            ? latestPoints -\n              (rawHistory?.current?.find(event => event.event === (head(history.current)?.event || 1))?.total_points ||\n                  0)\n            : latestPoints\n\n    const contributions = sort(\n        Object.entries(\n            getAllPlayers(stats).reduce(\n                (acc, player) => ({\n                    ...acc,\n                    [player.element.team]: (acc[player.element.team] || 0) + player.aggregates.totals.points,\n                }),\n                {} as Record<number, number>\n            )\n        ).reduce((acc, curr) => {\n            const team = bootstrap.teams.find(team => team.id === Number(curr[0]))\n\n            if (!team) {\n                return acc\n            }\n\n            return [\n                ...acc,\n                {\n                    team,\n                    points: curr[1],\n                },\n            ]\n        }, [] as TeamContribution[]),\n        el => el.points\n    )\n\n    return (\n        <WidgetWithModal\n            title={TITLE}\n            data={contributions}\n            max={MAX_ITEMS}\n            renderItem={team => (\n                <>\n                    <Team team={team.team} />\n                    <div>\n                        <div>\n                            <b>{round((team.points / totalPoints) * 100)}%</b>\n                        </div>\n                        <div className=\"muted\">{getPointsLabel(team.points)}</div>\n                    </div>\n                </>\n            )}\n            getItemKey={getItemKey}\n            matchesFilter={matchesFilter}\n        />\n    )\n}\n\nexport default TeamContributionWidget\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../reducers'\nimport { getAllPlayers, sort, head, last, reduce, getPointsLabel, thousandsSeparator, round } from '../../utilities'\nimport { Widget } from '../Widget'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { StatData } from '../../types'\nimport { ChangeBadge } from '../ChangeBadge'\nimport { SiteLink } from '../SiteLink'\nimport { Player } from '../Player'\nimport { SwapIcon } from '../SwapIcon'\nimport { formatFormation } from '../FormationWidget/FormationWidget'\nimport { Metric } from '../Metric'\nimport './PointsImprovementsWidget.scss'\n\nconst TITLE = 'Points Improvements'\n\nconst isValidXi = (players: StatData[]) => {\n    const defenders = players.filter(p => p.element.element_type === 2).length >= 3\n    const midfielders = players.filter(p => p.element.element_type === 3).length >= 2\n    const forwards = players.filter(p => p.element.element_type === 4).length >= 1\n\n    return defenders && midfielders && forwards\n}\n\nconst getFormation = (positions: string[], players: StatData[]) => {\n    return positions\n        .slice(1)\n        .map(\n            position =>\n                players.filter(\n                    player => player.element.element_type === Number(position) && (player.data[0]?.multiplier || 0) > 0\n                ).length\n        )\n        .join('-')\n}\n\nconst PointsImprovementsWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!data || !bootstrap) {\n        return <Widget title={TITLE} />\n    }\n\n    const allPlayers = getAllPlayers(data.stats.data)\n\n    const weeks = data.history.current.map(event => {\n        const players = allPlayers\n            .filter(player => player.data?.find(el => el.event.id === event.event)?.multiplier !== null)\n            .map(player => ({ ...player, data: [player.data?.find(el => el.event.id === event.event)!] }))\n\n        let outfieldXi: StatData[] = players\n            .filter(player => (player.data[0]?.multiplier || 0) > 0 && player.element.element_type !== 1)\n            .map(player => JSON.parse(JSON.stringify(player)))\n\n        let outfieldBench: StatData[] = players\n            .filter(player => (player.data[0]?.multiplier || 0) === 0 && player.element.element_type !== 1)\n            .map(player => JSON.parse(JSON.stringify(player)))\n\n        let subsPerformed = 0\n        let subs: { in: StatData; out: StatData }[] = []\n\n        do {\n            subsPerformed = 0\n\n            let newBench = outfieldBench\n\n            for (let player of outfieldBench) {\n                const lowestScore =\n                    last(\n                        sort(\n                            outfieldXi.filter(el => el.data[0].rawPoints !== null),\n                            el => el.data[0]?.rawPoints || 0\n                        )\n                    )?.data[0]?.rawPoints || 0\n\n                if ((player.data[0]?.rawPoints || 0) <= lowestScore) {\n                    continue\n                }\n\n                const possibleSubs = outfieldXi.filter(player => player.data[0]?.rawPoints === lowestScore)\n\n                for (let sub of possibleSubs) {\n                    const proposedXi = [\n                        ...outfieldXi.filter(xiPlayer => xiPlayer.element.id !== sub.element.id),\n                        player,\n                    ]\n\n                    const proposedBench = [\n                        ...newBench.filter(benchPlayer => benchPlayer.element.id !== player.element.id),\n                        sub,\n                    ]\n\n                    if (isValidXi(proposedXi)) {\n                        outfieldXi = proposedXi\n                        newBench = proposedBench\n                        subsPerformed += 1\n\n                        const originalMultiplier = player.data[0]?.multiplier\n\n                        player.data[0].multiplier = sub.data[0].multiplier\n                        sub.data[0].multiplier = originalMultiplier\n\n                        subs = [...subs, { in: player, out: sub }]\n\n                        break\n                    }\n                }\n            }\n\n            outfieldBench = newBench\n        } while (subsPerformed > 0)\n\n        let gk: StatData = JSON.parse(\n            JSON.stringify(\n                players.find(player => (player.data[0]?.multiplier || 0) > 0 && player.element.element_type === 1)\n            )\n        )\n\n        let benchGk: StatData = JSON.parse(\n            JSON.stringify(\n                players.find(player => (player.data[0]?.multiplier || 0) === 0 && player.element.element_type === 1) ||\n                    players.find(player => player.element.element_type === 1)\n            )\n        )\n\n        if ((benchGk.data[0]?.rawPoints || 0) > (gk.data[0]?.rawPoints || 0)) {\n            const temp = gk\n            const originalMultiplier = gk.data[0]?.multiplier\n\n            gk = benchGk\n            benchGk = temp\n\n            gk.data[0].multiplier = benchGk.data[0].multiplier\n            benchGk.data[0].multiplier = originalMultiplier\n\n            subs = [{ in: gk, out: benchGk }, ...subs]\n        }\n\n        const rotatedPlayers = [gk, benchGk, ...outfieldXi].filter(player => player.data[0]?.multiplier !== 0)\n\n        const actualCaptain = players.find(player => (player.data[0]?.multiplier || 0) > 1)\n        const initialCaptain = rotatedPlayers.find(player => (player.data[0]?.multiplier || 0) > 1)\n        const idealCaptain = head(sort(rotatedPlayers, el => el.data[0]?.rawPoints || 0))\n\n        subs = subs.filter(sub => subs.filter(subCheck => subCheck.out.element.id === sub.in.element.id).length === 0)\n\n        if (event.event === 29) {\n            console.log(\n                event.event,\n                rotatedPlayers,\n                rotatedPlayers.map(p => p.data[0].rawPoints)\n            )\n        }\n\n        return {\n            event,\n            actualPoints: event.points,\n            idealPoints:\n                reduce(rotatedPlayers, player => (player.data[0].rawPoints || 0) * (player.data[0].multiplier || 0)) +\n                ((idealCaptain?.data[0]?.rawPoints || 0) - (initialCaptain?.data[0]?.rawPoints || 0)),\n            actualFormation: getFormation(Object.keys(data.stats.data), players),\n            idealFormation: getFormation(Object.keys(data.stats.data), rotatedPlayers),\n            actualCaptain,\n            idealCaptain,\n            subs,\n        }\n    })\n\n    const totalHits = reduce(data.history.current, el => el.event_transfers_cost)\n\n    const idealTotalPoints = reduce(weeks, week => week.idealPoints) - totalHits\n    const totalImprovement = reduce(weeks, week => week.idealPoints - week.actualPoints)\n\n    return (\n        <Widget cssClasses=\"point-improvements-widget\" title={TITLE}>\n            <div className=\"widget__detail\">\n                With optimised rotation and captain picks, you would have improved by{' '}\n                <b>{getPointsLabel(thousandsSeparator(totalImprovement))}</b> (\n                {round(totalImprovement / data.history.current.length, 1)} <Metric metric=\"ppw\" />\n                ), resulting in a total of <b>{getPointsLabel(thousandsSeparator(idealTotalPoints))}</b>.\n            </div>\n            <ul className=\"widget__list\">\n                {weeks.map(week => (\n                    <li className=\"widget__list__item\" key={week.event.event}>\n                        <div className=\"point-improvements-widget__detail\">\n                            <SiteLink event={week.event.event} />\n                            <div className=\"point-improvements-widget__swap\">\n                                <span>{getPointsLabel(week.actualPoints)}</span>\n                                <SwapIcon />\n                                <span>{getPointsLabel(week.idealPoints)}</span>\n                                <ChangeBadge value={week.idealPoints - week.actualPoints} />\n                            </div>\n                        </div>\n                        {(week.idealCaptain?.data[0].rawPoints || 0) > (week.actualCaptain?.data[0].rawPoints || 0) && (\n                            <div className=\"point-improvements-widget__category\" data-category=\"Captaincy\">\n                                <div className=\"point-improvements-widget__swap\">\n                                    {week.actualCaptain && <Player id={week.actualCaptain.element.id} />}\n                                    <SwapIcon />\n                                    {week.idealCaptain && <Player id={week.idealCaptain.element.id} />}\n                                </div>\n                            </div>\n                        )}\n                        {week.subs.length > 0 && (\n                            <div className=\"point-improvements-widget__category\" data-category=\"Substitutes\">\n                                {week.actualFormation !== week.idealFormation && (\n                                    <div className=\"point-improvements-widget__swap point-improvements-widget__formation\">\n                                        {formatFormation(week.actualFormation)}\n                                        <SwapIcon />\n                                        {formatFormation(week.idealFormation)}\n                                    </div>\n                                )}\n                                {week.subs.map(sub => (\n                                    <div\n                                        className=\"point-improvements-widget__swap\"\n                                        key={`${sub.out.element.id}-${sub.in.element.id}`}\n                                    >\n                                        <Player id={sub.out.element.id} />\n                                        <SwapIcon />\n                                        <Player id={sub.in.element.id} />\n                                    </div>\n                                ))}\n                            </div>\n                        )}\n                    </li>\n                ))}\n            </ul>\n        </Widget>\n    )\n}\n\nexport default PointsImprovementsWidget\n","import React, { useContext } from 'react'\nimport { Widget } from '../Widget'\nimport { getAllPlayers, getPointsLabel, round, sort } from '../../utilities'\nimport { Player } from '../Player'\nimport { BasePlayerWidget } from '../BasePlayerWidget'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { Metric } from '../Metric'\nimport { getGWCountLabel } from '../../utilities/strings'\n\nconst TITLE = 'Bonus Points'\nconst MAX_ITEMS = 10\n\nconst BonusPointsWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    if (!data) {\n        return <Widget title={TITLE} />\n    }\n\n    const stats = data.stats.data\n\n    const elements = sort(getAllPlayers(stats), el => el.aggregates.totals.bonus)\n\n    return (\n        <BasePlayerWidget\n            title={TITLE}\n            players={elements}\n            max={MAX_ITEMS}\n            renderItem={element => {\n                const count = element.data.filter(gw => (gw.bonusPoints || 0) > 0).length\n\n                return (\n                    <>\n                        <Player id={element.element.id} />\n                        <div>\n                            <b>{getPointsLabel(element.aggregates.totals.bonus)}</b> ({getGWCountLabel(count)},{' '}\n                            {round(element.aggregates.totals.bonus / count)} <Metric metric=\"ppg\" />)\n                        </div>\n                    </>\n                )\n            }}\n        />\n    )\n}\n\nexport default BonusPointsWidget\n","import React, { useContext } from 'react'\nimport { useSelector } from 'react-redux'\nimport { AreaChart, Area, XAxis, YAxis, ResponsiveContainer, Tooltip } from 'recharts'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { getAllPlayers, getShortName, initialCaps } from '../../utilities'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\n\nconst TITLE = 'Captain Points'\n\nconst CaptainPointsWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!data || !bootstrap || !data.history.current.length) {\n        return <Widget title={TITLE} />\n    }\n\n    const history = data.history\n    const players = getAllPlayers(data.stats.data)\n\n    const pointsData = history.current.map((entry, index) => {\n        const captain = players.find(player => (player.data?.[index]?.multiplier || 0) > 1)\n        const event = bootstrap.events.find(event => event.id === entry.event)\n\n        return {\n            name: `GW ${event ? getShortName(event) : entry.event}`,\n            points: captain?.data[index].points || 0,\n        }\n    })\n\n    return (\n        <Widget title={TITLE}>\n            <div className=\"chart\">\n                <ResponsiveContainer height={200} width=\"100%\">\n                    <AreaChart data={pointsData} margin={{ top: 0, right: 0, bottom: 0, left: 0 }}>\n                        <Area type=\"monotone\" dataKey=\"points\" stroke=\"#177B47\" fill=\"#177B47\" fillOpacity=\"0.75\" />\n                        <YAxis interval=\"preserveStartEnd\" hide={true} />\n                        <XAxis dataKey=\"name\" angle={-90} textAnchor=\"end\" interval=\"preserveStartEnd\" hide={true} />\n                        <Tooltip\n                            isAnimationActive={false}\n                            formatter={(value, name) => [value, initialCaps(name)]}\n                            separator=\": \"\n                        />\n                    </AreaChart>\n                </ResponsiveContainer>\n            </div>\n        </Widget>\n    )\n}\n\nexport default CaptainPointsWidget\n","import React, { useContext, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Area, AreaChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts'\nimport Select, { ValueType } from 'react-select'\nimport classNames from 'classnames'\nimport { Widget } from '../Widget'\nimport { FilteredDataContext } from '../Dashboard/Dashboard'\nimport { RootState } from '../../reducers'\nimport { ModalInput } from '../ModalInput'\nimport { Button } from '../Button'\nimport { fetchApi, getPointsLabel } from '../../utilities'\nimport { CurrentHistory, History } from '../../types'\nimport { Spinner } from '../Spinner'\nimport './RivalsWidget.scss'\n\nconst TITLE = 'Rivals'\n\ntype OptionType = {\n    value: keyof CurrentHistory\n    label: string\n}\n\nconst displayOptions: OptionType[] = [\n    { value: 'points', label: 'GW Points' },\n    { value: 'total_points', label: 'Total Points' },\n]\n\nconst rivalColors = ['#7B1D17', '#17327B']\n\nconst RivalsWidget: React.FC = () => {\n    const data = useContext(FilteredDataContext)\n    const entry = useSelector((state: RootState) => state.entry.data)\n\n    const [value, setValue] = useState<string>('')\n    const [rivalData, setRivalData] = useState<Record<string, History>>({})\n    const [display, setDisplay] = useState<ValueType<OptionType>>(displayOptions[0])\n    const [isLoading, setIsLoading] = useState<boolean>(false)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    if (!data || !bootstrap) {\n        return <Widget title={TITLE} />\n    }\n\n    const addRival = async () => {\n        setIsLoading(true)\n\n        const [history, entry] = await Promise.all([fetchApi(`entry/${value}/history/`), fetchApi(`entry/${value}/`)])\n\n        setRivalData(existing => ({\n            ...existing,\n            [entry.name]: history,\n        }))\n\n        setValue('')\n        setIsLoading(false)\n    }\n\n    const removeRival = (rival: string) => {\n        setRivalData(existing => {\n            return Object.keys(existing).reduce((acc, key) => {\n                if (key !== rival) {\n                    acc[key] = existing[key]\n                }\n\n                return acc\n            }, {} as Record<string, History>)\n        })\n    }\n\n    const displayValue = (display as OptionType).value\n\n    const pointsData = data.history.current.map(gw => {\n        const factor = displayValue === 'value' || displayValue === 'bank' ? 0.1 : 1\n\n        let response: Record<string, string | number> = {\n            name: `GW ${gw.event}`,\n        }\n\n        if (entry) {\n            response[`${entry.name}`] = gw[displayValue] * factor\n        }\n\n        Object.entries(rivalData).forEach(([name, history]) => {\n            response[name] = (history.current.find(week => week.event === gw.event)?.[displayValue] || 0) * factor\n        })\n\n        return response\n    })\n\n    return (\n        <Widget title={TITLE} cssClasses=\"rivals-widget\">\n            <div className=\"rivals-widget__selection\">\n                <ModalInput\n                    label=\"Rival Team ID\"\n                    id=\"rival\"\n                    value={value}\n                    type=\"number\"\n                    onChange={value => setValue(value)}\n                />\n                <Button label=\"Add Rival\" disabled={Object.keys(rivalData).length === 2} onClick={() => addRival()} />\n            </div>\n            {Object.keys(rivalData).length > 0 && (\n                <div className=\"rivals-widget__rivals\">\n                    {Object.keys(rivalData).map(name => (\n                        <Button key={name} label={`${name} ×`} onClick={() => removeRival(name)} />\n                    ))}\n                </div>\n            )}\n            <div className=\"rivals-widget__metric\">\n                <Select\n                    options={displayOptions}\n                    className=\"player-comparison-widget__select\"\n                    value={display}\n                    onChange={option => setDisplay(option)}\n                    styles={{\n                        container: provided => ({ ...provided, width: '100%' }),\n                        menu: provided => ({ ...provided, zIndex: 20 }),\n                    }}\n                />\n            </div>\n            {Object.keys(rivalData).length > 0 && entry && pointsData && (\n                <div className=\"rivals-widget__chart\">\n                    <ResponsiveContainer height={200} width=\"100%\">\n                        <AreaChart data={pointsData} margin={{ top: 0, right: 0, bottom: 0, left: 0 }}>\n                            <Area\n                                type=\"monotone\"\n                                dataKey={entry.name}\n                                stroke=\"#177B47\"\n                                fill=\"#177B47\"\n                                fillOpacity=\"0.75\"\n                            />\n                            {Object.keys(rivalData).map((key, index) => (\n                                <Area\n                                    type=\"monotone\"\n                                    dataKey={key}\n                                    stroke={rivalColors[index]}\n                                    fill={rivalColors[index]}\n                                    fillOpacity=\"0.75\"\n                                />\n                            ))}\n                            <YAxis\n                                reversed={(display as OptionType).value === 'overall_rank'}\n                                tickFormatter={value => getPointsLabel(value)}\n                                domain={['auto', 'auto']}\n                                interval=\"preserveStartEnd\"\n                                hide={true}\n                            />\n                            <XAxis\n                                dataKey=\"name\"\n                                angle={-90}\n                                textAnchor=\"end\"\n                                interval=\"preserveStartEnd\"\n                                hide={true}\n                            />\n                            <Tooltip\n                                isAnimationActive={false}\n                                formatter={(value, name) => [getPointsLabel(Number(value)), name]}\n                                separator=\": \"\n                            />\n                        </AreaChart>\n                    </ResponsiveContainer>\n                </div>\n            )}\n            <div\n                className={classNames('rivals-widget__loading', {\n                    'rivals-widget__loading--hidden': !isLoading,\n                })}\n            >\n                <Spinner />\n            </div>\n        </Widget>\n    )\n}\n\nexport default RivalsWidget\n","import React, { useState, useEffect, useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport classNames from 'classnames'\nimport Select, { ValueType } from 'react-select'\nimport { useParams, useHistory } from 'react-router-dom'\nimport debounce from 'lodash/debounce'\nimport ReactSlider from 'react-slider'\nimport { Helmet } from 'react-helmet'\nimport { StatData, Stats, History, Range } from '../../types'\nimport { RootState } from '../../reducers'\nimport { Widget } from '../Widget'\nimport { Spinner } from '../Spinner'\nimport {\n    thousandsSeparator,\n    validateTeamId,\n    getPointsLabel,\n    last,\n    filterStatData,\n    filterHistoryData,\n    head,\n    getPastEvents,\n    round,\n} from '../../utilities'\nimport { TeamModal } from '../TeamModal'\nimport { addHiddenSection, fetchDataWithId, removeHiddenSection } from '../../reducers/settings'\nimport { Button } from '../Button'\nimport { HistoryWidget } from '../HistoryWidget'\nimport { TotsWidget } from '../TotsWidget'\nimport { PlayerStatsWidget } from '../PlayerStatsWidget'\nimport { FormationWidget } from '../FormationWidget'\nimport { CaptainWidget } from '../CaptainWidget'\nimport { GameweekWidget } from '../GameweekWidget'\nimport { PositionsWidget } from '../PositionsWidget'\nimport { SeasonWidget } from '../SeasonWidget'\nimport { TeamsWidget } from '../TeamsWidget'\nimport { CaptainOpportunityWidget } from '../CaptainOpportunityWidget'\nimport { SelectionWidget } from '../SelectionWidget'\nimport { DifferenceWidget } from '../DifferenceWidget'\nimport { OverallRankWidget } from '../OverallRankWidget'\nimport { PointsWidget } from '../PointsWidget'\nimport { ValueWidget } from '../ValueWidget'\nimport { SiteLink } from '../SiteLink'\nimport { WrongCaptainWidget } from '../WrongCaptainWidget'\nimport { ContributionWidget } from '../ContributionWidget'\nimport { MissedPointsShareWidget } from '../MissedPointsShareWidget'\nimport { NearMissesWidget } from '../NearMissesWidget'\nimport { StreakWidget } from '../StreakWidget'\nimport { SettingsModal } from '../SettingsModal'\nimport { PlayerOverview } from '../PlayerOverview/PlayerOverview'\nimport { FormWidget } from '../FormWidget'\nimport { PriceChangeWidget } from '../PriceChangeWidget'\nimport { InjuryWidget } from '../InjuryWidget'\nimport { ExpectedPointsWidget } from '../ExpectedPointsWidget'\nimport { PopularityWidget } from '../PopularityWidget'\nimport { TransfersWidget } from '../TransfersWidget'\nimport { PlayerComparisonWidget } from '../PlayerComparisonWidget'\nimport { DoubleDigitHaulsWidget } from '../DoubleDigitHaulsWidget'\nimport { PlayerGWReturnWidget } from '../PlayerGWReturnWidget'\nimport { TeamGWReturnWidget } from '../TeamGWReturnWidget'\nimport { TeamContributionWidget } from '../TeamContributionWidget'\nimport { PointsImprovementsWidget } from '../PointsImprovementsWidget'\nimport { BonusPointsWidget } from '../BonusPointsWidget'\nimport { CaptainPointsWidget } from '../CaptainPointsWidget'\nimport { RivalsWidget } from '../RivalsWidget'\nimport './Dashboard.scss'\n\nexport type OptionType = {\n    value: string\n    label: string\n}\n\ntype DashboardParams = {\n    team?: string\n}\n\nexport type FilteredData = {\n    history: History\n    stats: {\n        data: Stats\n        chips: {\n            [key: number]: string\n        }\n        tots: {\n            xi: StatData[]\n            bench: StatData[]\n        }\n    }\n}\n\nconst sortOptions = [\n    { value: 'points', label: 'Total Points' },\n    { value: 'selection', label: 'Most Selected' },\n    { value: 'start', label: 'Most Started' },\n    { value: 'bench', label: 'Most Benched' },\n    { value: 'alphabet', label: 'Alphabetically' },\n]\n\nexport const FilteredDataContext = React.createContext<FilteredData | undefined>(undefined)\n\nconst Dashboard: React.FC = () => {\n    const [sort, setSort] = useState<ValueType<OptionType>>(sortOptions[0])\n    const [isSettingsOpen, setIsSettingsOpen] = useState<boolean>(false)\n    const [range, setRange] = useState<Range>({ start: 0, end: 37 })\n    const [filteredData, setFilteredData] = useState<FilteredData | undefined>(undefined)\n\n    const isLoading = useSelector((state: RootState) => state.loading > 0)\n\n    const bootstrap = useSelector((state: RootState) => state.bootstrap.data)\n\n    const rawStatsData = useSelector((state: RootState) => state.stats.data)\n\n    const id = useSelector((state: RootState) => state.settings.id)\n    const theme = useSelector((state: RootState) => state.settings.theme)\n    const hiddenSections = useSelector((state: RootState) => state.settings.hiddenSections)\n\n    const entry = useSelector((state: RootState) => state.entry.data)\n\n    const rawHistory = useSelector((state: RootState) => state.history.data)\n\n    const { team } = useParams<DashboardParams>()\n    const browserHistory = useHistory()\n\n    const [isModalOpen, setIsModalOpen] = useState(!team)\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        document.documentElement.setAttribute('data-theme', theme)\n    }, [theme])\n\n    useEffect(() => {\n        if (id && !team) {\n            browserHistory.push(`/${id}/`)\n        } else if (team && validateTeamId(team)) {\n            setIsModalOpen(false)\n\n            if (Number(team) !== entry?.id && !isLoading) {\n                dispatch(fetchDataWithId(Number(team)))\n            }\n        } else {\n            browserHistory.push('/')\n        }\n    }, [team, browserHistory, dispatch, id, isLoading, entry])\n\n    useEffect(() => {\n        setIsModalOpen(!team)\n    }, [team])\n\n    useEffect(() => {\n        setIsModalOpen(!entry?.name)\n    }, [entry])\n\n    const debouncedFiltering = useRef(\n        debounce(async (rawStatsData, rawHistory, bootstrap, range) => {\n            const [filteredStatData, filteredHistoryData] = await Promise.all([\n                filterStatData(rawStatsData, bootstrap, range),\n                filterHistoryData(rawHistory, range),\n            ])\n\n            setFilteredData({\n                stats: filteredStatData,\n                history: filteredHistoryData,\n            })\n        }, 300)\n    ).current\n\n    useEffect(() => {\n        if (!rawStatsData || !bootstrap || !rawHistory) {\n            return\n        }\n\n        debouncedFiltering(rawStatsData, rawHistory, bootstrap, range)\n    }, [rawStatsData, bootstrap, rawHistory, range, debouncedFiltering, dispatch])\n\n    const totalPoints = filteredData\n        ? (last(filteredData.history.current)?.total_points || 0) -\n          (rawHistory?.current?.find(event => event.event === (head(filteredData.history.current)?.event || 1) - 1)\n              ?.total_points || 0)\n        : 0\n\n    const toggleHiddenSection = (section: string) => {\n        if (hiddenSections.includes(section)) {\n            dispatch(removeHiddenSection(section))\n        } else {\n            dispatch(addHiddenSection(section))\n        }\n    }\n\n    const isSectionHidden = (section: string) => hiddenSections.includes(section)\n\n    const renderSection = (title: string, children: JSX.Element) => {\n        const id = title.toLowerCase().replace(/ /g, '-')\n        const isHidden = isSectionHidden(id)\n\n        return (\n            <>\n                <h2 className=\"dashboard__section\">\n                    <div className=\"dashboard__section__toggle\">\n                        <button\n                            type=\"button\"\n                            title={isHidden ? `Expand \"${title}\"` : `Collapse \"${title}\"`}\n                            onClick={() => toggleHiddenSection(id)}\n                        ></button>\n                        {isHidden ? (\n                            <>\n                                <div className=\"toggle-icon\"></div>\n                                <div className=\"toggle-icon\"></div>\n                            </>\n                        ) : (\n                            <div className=\"toggle-icon\"></div>\n                        )}\n                    </div>\n                    <span>{title}</span>\n                </h2>\n                {!isHidden && children}\n            </>\n        )\n    }\n\n    return (\n        <FilteredDataContext.Provider value={filteredData}>\n            <Helmet>\n                <meta\n                    name=\"theme-color\"\n                    content={getComputedStyle(document.documentElement).getPropertyValue('--body-background-color')}\n                />\n            </Helmet>\n            <div className=\"dashboard\">\n                {isModalOpen && <TeamModal onClose={() => setIsModalOpen(false)} />}\n                {isSettingsOpen && <SettingsModal onClose={() => setIsSettingsOpen(false)} />}\n                <div\n                    className={classNames('dashboard__loading', {\n                        'dashboard__loading--hidden': !isLoading,\n                    })}\n                >\n                    <Spinner />\n                </div>\n                <div className=\"dashboard__content\">\n                    {entry && (\n                        <header className=\"dashboard__entry\">\n                            <Widget>\n                                <h1 className=\"dashboard__title\">\n                                    <SiteLink label={entry.name} />\n                                    <div className=\"small muted\">\n                                        {getPointsLabel(thousandsSeparator(totalPoints))}\n                                        {entry.summary_overall_rank && bootstrap && (\n                                            <>\n                                                {' '}\n                                                — Rank {thousandsSeparator(entry.summary_overall_rank)} (Top{' '}\n                                                {round((entry.summary_overall_rank / bootstrap.total_players) * 100)}%)\n                                            </>\n                                        )}\n                                    </div>\n                                </h1>\n                                <div>\n                                    <Button onClick={() => setIsSettingsOpen(true)} label=\"Settings\" />\n                                    {id !== undefined && (\n                                        <Button\n                                            onClick={() => setIsModalOpen(true)}\n                                            label=\"Change Team\"\n                                            disabled={isLoading}\n                                        />\n                                    )}\n                                </div>\n                            </Widget>\n                        </header>\n                    )}\n                    {renderSection(\n                        'Overview',\n                        <div className=\"dashboard__widgets\">\n                            <FormWidget />\n                            <ExpectedPointsWidget gw=\"current\" />\n                            <ExpectedPointsWidget gw=\"next\" />\n                            <InjuryWidget />\n                            <PriceChangeWidget type=\"gains\" />\n                            <PriceChangeWidget type=\"drops\" />\n                            <PopularityWidget />\n                            <TransfersWidget type=\"in\" />\n                            <TransfersWidget type=\"out\" />\n                        </div>\n                    )}\n                    {renderSection(\n                        'Season',\n                        <>\n                            <div className=\"dashboard__widgets dashboard__widgets--split\">\n                                <TotsWidget />\n                                <NearMissesWidget />\n                            </div>\n                            {bootstrap && getPastEvents(bootstrap.events).length > 1 && (\n                                <div className=\"dashboard__graphs\">\n                                    <OverallRankWidget />\n                                    <PointsWidget />\n                                    <ValueWidget />\n                                </div>\n                            )}\n                            <div className=\"dashboard__widgets\">\n                                <PlayerStatsWidget />\n                                <SeasonWidget />\n                                <HistoryWidget />\n                                <GameweekWidget />\n                            </div>\n                        </>\n                    )}\n                    {renderSection(\n                        'Rivals',\n                        <div className=\"dashboard__widgets dashboard__widgets--single\">\n                            <RivalsWidget />\n                        </div>\n                    )}\n                    {renderSection(\n                        'Improvements',\n                        <div className=\"dashboard__widgets dashboard__widgets--single\">\n                            <PointsImprovementsWidget />\n                        </div>\n                    )}\n                    {renderSection(\n                        'Players',\n                        <>\n                            <div className=\"dashboard__meta\">\n                                <label className=\"dashboard__meta__label\">Sort by</label>\n                                <Select\n                                    options={sortOptions}\n                                    value={sort}\n                                    onChange={option => setSort(option)}\n                                    styles={{\n                                        container: provided => ({ ...provided, width: '100%' }),\n                                        menu: provided => ({ ...provided, zIndex: 20 }),\n                                    }}\n                                />\n                                <div className=\"dashboard__legend\">\n                                    <div className=\"dashboard__color\">\n                                        <div className=\"dashboard__color__indicator dashboard__color__indicator--started\"></div>\n                                        Started\n                                    </div>\n                                    <div className=\"dashboard__color\">\n                                        <div className=\"dashboard__color__indicator dashboard__color__indicator--benched\"></div>\n                                        Benched\n                                    </div>\n                                    <div className=\"dashboard__color\">\n                                        <div className=\"dashboard__color__indicator dashboard__color__indicator--captain\"></div>\n                                        Captain\n                                    </div>\n                                    <div className=\"dashboard__color\">\n                                        <div className=\"dashboard__color__indicator dashboard__color__indicator--triple\"></div>\n                                        TC\n                                    </div>\n                                    <div className=\"dashboard__color\">\n                                        <div className=\"dashboard__color__indicator\"></div>\n                                        Not Selected\n                                    </div>\n                                </div>\n                            </div>\n                            <PlayerOverview sort={sort} />\n                            <div className=\"dashboard__widgets dashboard__widgets--single\">\n                                <PlayerComparisonWidget />\n                            </div>\n                            <div className=\"dashboard__widgets\">\n                                <PositionsWidget />\n                                <FormationWidget />\n                                <SelectionWidget title=\"Frequent Selections\" metric=\"selections\" />\n                                <SelectionWidget title=\"Frequent Starters\" metric=\"starts\" />\n                                <SelectionWidget title=\"Frequent Bench Players\" metric=\"benched\" />\n                                <DifferenceWidget title=\"Consistent Starters\" top />\n                                <DifferenceWidget title=\"Consistent Bench Players\" />\n                            </div>\n                        </>\n                    )}\n                    {renderSection(\n                        'Returns',\n                        <div className=\"dashboard__widgets\">\n                            <PlayerGWReturnWidget stat=\"rawPoints\" />\n                            <PlayerGWReturnWidget stat=\"benchPoints\" />\n                            <BonusPointsWidget />\n                            <DoubleDigitHaulsWidget />\n                            <TeamGWReturnWidget />\n                        </div>\n                    )}\n                    {renderSection(\n                        'Teams',\n                        <div className=\"dashboard__widgets dashboard__widgets--single\">\n                            <TeamsWidget />\n                        </div>\n                    )}\n                    {renderSection(\n                        'Captains',\n                        <>\n                            <div className=\"dashboard__graphs\">\n                                <CaptainPointsWidget />\n                            </div>\n                            <div className=\"dashboard__widgets\">\n                                <CaptainWidget />\n                                <CaptainOpportunityWidget />\n                                <WrongCaptainWidget />\n                            </div>\n                        </>\n                    )}\n                    {renderSection(\n                        'Streaks',\n                        <div className=\"dashboard__widgets\">\n                            <StreakWidget title=\"Non-Blank Streaks\" metric=\"nonBlank\" showDetailedStats />\n                            <StreakWidget\n                                title=\"Double-Digit Haul Streaks\"\n                                metric=\"doubleDigitHaul\"\n                                showDetailedStats\n                            />\n                            <StreakWidget title=\"Bonus Streaks\" metric=\"bonus\" showDetailedStats />\n                            <StreakWidget title=\"Selection Streaks\" metric=\"selection\" showDetailedStats />\n                            <StreakWidget title=\"Start Streaks\" metric=\"start\" showDetailedStats />\n                            <StreakWidget title=\"Bench Appearance Streaks\" metric=\"bench\" />\n                        </div>\n                    )}\n                    {renderSection(\n                        'Contributions',\n                        <div className=\"dashboard__widgets\">\n                            <ContributionWidget />\n                            <TeamContributionWidget />\n                            {(range.end - range.start + 1 === rawHistory?.current?.length ||\n                                range.end - range.start === 37) && (\n                                <>\n                                    <MissedPointsShareWidget title=\"Most Points Scored Outside of Team\" top />\n                                    <MissedPointsShareWidget title=\"Fewest Points Scored Outside of Team\" />\n                                </>\n                            )}\n                        </div>\n                    )}\n                    <div className=\"dashboard__legal\">\n                        <p>\n                            FPL Stats uses data from the official Premier League Fantasy API. This site is not\n                            affiliated with the Premier League.\n                        </p>\n                    </div>\n                </div>\n                {bootstrap && getPastEvents(bootstrap.events).length > 1 && (\n                    <div className=\"dashboard__slider-wrapper\">\n                        <ReactSlider\n                            className=\"dashboard__slider\"\n                            value={[range.start, range.end]}\n                            min={(head(getPastEvents(bootstrap.events))?.id || 1) - 1}\n                            max={(last(getPastEvents(bootstrap.events))?.id || 38) - 1}\n                            onChange={([start, end]) => setRange({ start, end })}\n                            renderThumb={(props, state) => <div {...props}>GW {state.valueNow + 1}</div>}\n                            pearling\n                        />\n                    </div>\n                )}\n            </div>\n        </FilteredDataContext.Provider>\n    )\n}\n\nexport default Dashboard\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { Standings } from '../types'\nimport { fetchApi, head, last } from '../utilities'\nimport { finishLoading, startLoading } from './loading'\n\nconst OVERALL_ID = 314\n\nconst fetchStanding = async (page: number): Promise<Standings> => {\n    return await fetchApi(`leagues-classic/${OVERALL_ID}/standings?page_standings=${page}`)\n}\n\nexport const fetchMilestones = createAsyncThunk('milestones/fetch', async (arg: undefined, thunkAPI) => {\n    thunkAPI.dispatch(fetchMilestonesStart())\n    thunkAPI.dispatch(startLoading())\n\n    const results = await Promise.all([\n        fetchStanding(1),\n        fetchStanding(20),\n        fetchStanding(200),\n        fetchStanding(2000),\n        fetchStanding(20000),\n    ])\n\n    const data = results.map((standings, index) =>\n        index === 0 ? head(standings.standings.results) : last(standings.standings.results)\n    )\n\n    thunkAPI.dispatch(fetchMilestonesSuccess(data))\n    thunkAPI.dispatch(finishLoading())\n})\n\nconst milestones = createSlice({\n    name: 'milestones',\n    initialState: {\n        data: undefined,\n    },\n    reducers: {\n        fetchMilestonesStart(state) {\n            state.data = undefined\n        },\n        fetchMilestonesSuccess(state, action) {\n            state.data = action.payload\n        },\n    },\n})\n\nexport const { fetchMilestonesStart, fetchMilestonesSuccess } = milestones.actions\n\nexport default milestones.reducer\n","import { combineReducers } from 'redux'\nimport { Bootstrap, History, Entry, Picks, LiveEvent, StandingsPlayer } from '../types'\nimport bootstrap from './bootstrap'\nimport stats from './stats'\nimport settings, { SettingsState } from './settings'\nimport entry from './entry'\nimport history from './history'\nimport loading from './loading'\nimport milestones from './milestones'\n\nexport type RootState = {\n    loading: number\n    bootstrap: {\n        data: Bootstrap | undefined\n    }\n    stats: {\n        data:\n            | {\n                  pick: Picks\n                  live: LiveEvent\n              }[]\n            | undefined\n    }\n    settings: SettingsState\n    history: {\n        data: History | undefined\n    }\n    entry: {\n        data: Entry | undefined\n    }\n    milestones: {\n        data: StandingsPlayer[] | undefined\n    }\n}\n\nexport default combineReducers({\n    loading,\n    bootstrap,\n    stats,\n    settings,\n    history,\n    entry,\n    milestones,\n})\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n            getCLS(onPerfEntry)\n            getFID(onPerfEntry)\n            getFCP(onPerfEntry)\n            getLCP(onPerfEntry)\n            getTTFB(onPerfEntry)\n        })\n    }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { HashRouter, Route, Switch } from 'react-router-dom'\nimport * as serviceWorker from './serviceWorker'\nimport { Dashboard } from './components/Dashboard'\nimport configureAppStore from './store'\nimport reportWebVitals from './reportWebVitals'\nimport './index.scss'\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={configureAppStore()}>\n            <HashRouter>\n                <Switch>\n                    <Route path=\"/:team/\">\n                        <Dashboard />\n                    </Route>\n                    <Route path=\"/\" exact>\n                        <Dashboard />\n                    </Route>\n                </Switch>\n            </HashRouter>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\nserviceWorker.unregister()\n\nreportWebVitals()\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\nimport rootReducer from './reducers'\n\nconst STORAGE_VERSION = '2.1'\n\nconst isStale = () => localStorage.getItem('storageVersion') !== STORAGE_VERSION\n\nexport default function configureAppStore() {\n    const storage = localStorage.getItem('applicationSettings')\n    const recentTeams = localStorage.getItem('recentTeams')\n\n    const mostRecentTeamId = recentTeams ? JSON.parse(recentTeams)?.[0].split(' — ')?.[0] : undefined\n    const preloadedState = storage !== null && !isStale() ? JSON.parse(storage) : {}\n\n    const store = configureStore({\n        reducer: rootReducer,\n        middleware: [...getDefaultMiddleware()],\n        preloadedState: {\n            settings: {\n                theme: 'light',\n                meanStrategy: 'average',\n                hiddenSections: [],\n                id: mostRecentTeamId ? Number(mostRecentTeamId) : undefined,\n                range: {\n                    start: 0,\n                    end: 38,\n                },\n                ...preloadedState,\n            },\n        },\n    })\n\n    store.subscribe(() => {\n        const state = store.getState().settings\n\n        localStorage.setItem('storageVersion', STORAGE_VERSION)\n        localStorage.setItem(\n            'applicationSettings',\n            JSON.stringify({\n                theme: state.theme,\n                meanStrategy: state.meanStrategy,\n                hiddenSections: state.hiddenSections,\n            })\n        )\n    })\n\n    return store\n}\n"],"sourceRoot":""}