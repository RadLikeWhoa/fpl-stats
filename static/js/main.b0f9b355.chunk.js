(this["webpackJsonpfpl-stats"]=this["webpackJsonpfpl-stats"]||[]).push([[0],{184:function(e,t,a){e.exports=a(394)},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},392:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(16),l=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(15),s=a(13),o=a(6),u=a(9),m=a(4),d=a(11),p=a.n(d),f=a(20),_=a(17),E=Object(_.b)({name:"bootstrap",initialState:{loading:!0,data:void 0},reducers:{fetchBootstrapStart:function(e){e.loading=!0},fetchBootstrapSuccess:function(e,t){e.data=t.payload,e.loading=!1}}}),v=E.actions,b=v.fetchBootstrapStart,g=v.fetchBootstrapSuccess,h=E.reducer,y=(a(194),function(e){var t=Object(m.c)((function(e){return e.bootstrap.data})),a=null===t||void 0===t?void 0:t.elements.find((function(t){return t.id===e.id})),n=null===t||void 0===t?void 0:t.teams.find((function(e){return e.id===(null===a||void 0===a?void 0:a.team)})),c=null===t||void 0===t?void 0:t.element_types.find((function(e){return e.id===(null===a||void 0===a?void 0:a.element_type)}));return r.a.createElement("div",{className:"player ".concat(e.condensed?"player--condensed":"")},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(null===n||void 0===n?void 0:n.code).concat("GKP"===(null===c||void 0===c?void 0:c.singular_name_short)?"_1":"","-66.png"),alt:null===a||void 0===a?void 0:a.web_name,className:"player__shirt"}),r.a.createElement("div",{className:"player__detail"},r.a.createElement("div",{className:"player__name"},r.a.createElement("span",null,null===a||void 0===a?void 0:a.web_name,"string"===typeof e.suffix?" (".concat(e.suffix,")"):e.suffix?e.suffix():null)),r.a.createElement("div",{className:"player__info"},r.a.createElement("span",{className:"player__team",title:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.short_name),r.a.createElement("span",{className:"player__position"},null===c||void 0===c?void 0:c.singular_name_short))))}),j=(a(195),a(196),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}))}),N=a(5),O=a.n(N),w=function(e){return r.a.createElement("div",{className:O()("widget",{"widget--cloaked":e.cloaked})},r.a.createElement("h2",{className:"widget__title"},e.title),r.a.createElement("div",{className:"widget__content"},e.loading&&r.a.createElement("div",{className:"widget__loading"},r.a.createElement(j,null)),e.children))},k=(a(197),function(e){return r.a.createElement("div",{className:"team"},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(e.team.code,"-66.png"),alt:e.team.short_name,className:"player__shirt"}),r.a.createElement("span",{className:"team__name"},e.team.name))}),S=function(e){var t=Number(e);return e&&!Number.isNaN(t)&&Number.isInteger(t)},x=function(e){return e.data.filter((function(e){return null!==e.multiplier})).length},P=function(e){return e.data.filter((function(e){return e.multiplier&&e.multiplier>0})).length},B=function(e){return e.data.filter((function(e){return 0===e.multiplier})).length},C=function(e){return e.data.reduce((function(e,t){return e+(t.points||0)}),0)},M=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},T=function(e){return e.reduce((function(e,t){return e+t}),0)},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc";return"asc"===t?Object(o.a)(e).sort((function(e,t){return e-t})):Object(o.a)(e).sort((function(e,t){return t-e}))},A=function(e){var t=Date.now();return e.filter((function(e){return 1e3*e.deadline_time_epoch<t}))},G=function(e){return e.name.split(" ").pop()||""},W={"3xc":"TC",bboost:"BB",freehit:"FH",wildcard:"WC"},I=Object(_.b)({name:"settings",initialState:{id:localStorage.getItem("id")||void 0,meanStrategy:localStorage.getItem("meanStrategy")||"average"},reducers:{setId:function(e,t){e.id=t.payload,e.id?localStorage.setItem("id",e.id):localStorage.removeItem("id")},setMeanStrategy:function(e,t){e.meanStrategy=t.payload,localStorage.setItem("meanStrategy",e.meanStrategy)}}}),R=I.actions,D=R.setId,K=(R.setMeanStrategy,I.reducer),H=(a(198),function(e){return r.a.createElement("button",{className:"button",type:e.type||"button",onClick:e.onClick,disabled:e.disabled},e.label)}),L=function(e){var t=r.a.useRef(null);return r.a.useEffect((function(){var a=function(a){a.target instanceof Node&&t.current&&!t.current.contains(a.target)&&e()};return t.current?document.addEventListener("click",a):document.removeEventListener("click",a),function(){return document.removeEventListener("click",a)}}),[t,e]),t},U=function(){var e=Object(m.c)((function(e){return e.settings.meanStrategy}));return function(t){return"".concat("average"===e?"Average":"Median"," ").concat(t)}},J=function(){var e=Object(m.c)((function(e){return e.settings.meanStrategy}));return function(t){return"average"===e?function(e){return T(e)/e.length}(t):function(e){var t=F(e),a=Math.ceil(e.length/2);return t.length%2===0?(t[a]+t[a+1])/2:t[a-1]}(t)}},Y=(a(199),function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(m.c)((function(e){return e.settings.id})),o=Object(m.b)(),u=Object(n.useCallback)((function(t){if(t){if(!s)return}else o(D(Number(c)));e.onClose&&e.onClose()}),[o,e,c,s]),d=L((function(){return u(!0)}));return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&u(!0)};return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[u]),r.a.createElement("form",{onSubmit:function(e){u(!1),e.preventDefault()}},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal__element",ref:d},r.a.createElement("header",{className:"modal__header"},"Enter Your Team ID"),r.a.createElement("div",{className:"modal__body"},r.a.createElement("input",{className:"modal__input",type:"text",placeholder:"e.g. 4654486",value:c,onChange:function(e){return l(e.target.value)}})),r.a.createElement("footer",{className:"modal__footer"},r.a.createElement(H,{label:"Show Stats",type:"submit",disabled:!S(c)})))))}),z=Object(_.b)({name:"stats",initialState:{loading:!0,data:void 0,chips:void 0},reducers:{buildDataStart:function(e){e.loading=!0,e.data=void 0,e.chips=void 0},buildDataSuccess:function(e,t){e.data=t.payload.data,e.chips=t.payload.chips,e.loading=!1}}}),V=z.actions,$=V.buildDataStart,q=V.buildDataSuccess,Q=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(a,"/event/").concat(t,"/picks/"))));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),X=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/event/".concat(t,"/live/"))));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,r,c,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Q(t,a),X(t)]);case 2:return n=e.sent,r=Object(i.a)(n,2),c=r[0],l=r[1],e.abrupt("return",{pick:c,live:l});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=z.reducer,te=Object(_.b)({name:"history",initialState:{loading:!0,data:void 0},reducers:{fetchHistoryStart:function(e){e.loading=!0,e.data=void 0},fetchHistorySuccess:function(e,t){e.data=t.payload,e.loading=!1}}}),ae=te.actions,ne=ae.fetchHistoryStart,re=ae.fetchHistorySuccess,ce=te.reducer,le=a(10),ie=a(155),se=a(92),oe=a.n(se),ue=function(){var e=Object(m.c)((function(e){return e.settings.id})),t=Object(m.c)((function(e){return e.history.data})),a=Object(m.c)((function(e){return e.history.loading})),n=U(),c=J();if(!t)return r.a.createElement(w,{title:"Historical Data",loading:a,cloaked:!e});var l=Object(o.a)(t.past).sort((function(e,t){return e.rank-t.rank})),i=Object(o.a)(t.past).sort((function(e,t){return t.total_points-e.total_points})),s=l[0],u=l[l.length-1],d=i[0],p=i[i.length-1],f=l.filter((function(e){return e.rank<=1e3})).length,_=l.filter((function(e){return e.rank<=1e4})).length,E=l.filter((function(e){return e.rank<=1e5})).length,v=l.filter((function(e){return e.rank<=1e6})).length;return r.a.createElement(w,{title:"Historical Data",loading:a,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Season Rank"),r.a.createElement("span",null,M(s.rank)," (",s.season_name,")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Points Finish"),r.a.createElement("span",null,M(d.total_points)," (",d.season_name,")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Season Rank"),r.a.createElement("span",null,M(u.rank)," (",u.season_name,")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Points Finish"),r.a.createElement("span",null,M(p.total_points)," (",p.season_name,")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,n("Rank")),r.a.createElement("span",null,M(Math.round(c(l.map((function(e){return e.rank}))))))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,n("Points")),r.a.createElement("span",null,M(Math.round(c(i.map((function(e){return e.total_points}))))))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 1K Finishes"),r.a.createElement("span",null,f)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 10K Finishes"),r.a.createElement("span",null,_)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 100K Finishes"),r.a.createElement("span",null,E)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 1M Finishes"),r.a.createElement("span",null,v))))},me=(a(390),function(e){var t=Object(m.c)((function(e){return e.bootstrap.data})),a=null===t||void 0===t?void 0:t.elements.find((function(t){return t.id===e.id})),n=null===t||void 0===t?void 0:t.teams.find((function(e){return e.id===(null===a||void 0===a?void 0:a.team)})),c=null===t||void 0===t?void 0:t.element_types.find((function(e){return e.id===(null===a||void 0===a?void 0:a.element_type)}));return r.a.createElement("div",{className:"tots-player"},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(null===n||void 0===n?void 0:n.code).concat("GKP"===(null===c||void 0===c?void 0:c.singular_name_short)?"_1":"","-66.png"),alt:null===a||void 0===a?void 0:a.web_name,className:"tots-player__shirt"}),r.a.createElement("div",{className:"tots-player__detail"},r.a.createElement("div",{className:"tots-player__name"},r.a.createElement("span",null,null===a||void 0===a?void 0:a.web_name)),r.a.createElement("div",{className:"tots-player__points"},e.points)))}),de=(a(391),function(){var e=Object(m.c)((function(e){return e.settings.id})),t=Object(m.c)((function(e){return e.stats.data})),a=Object(m.c)((function(e){return e.stats.loading}));if(!t)return r.a.createElement(w,{title:"Team of the Season",loading:a,cloaked:!e});var n=Object(o.a)(t[1]).sort((function(e,t){return C(t)-C(e)})).slice(0,2),c=Object(o.a)(t[2]).sort((function(e,t){return C(t)-C(e)})).slice(0,5),l=Object(o.a)(t[3]).sort((function(e,t){return C(t)-C(e)})).slice(0,5),i=Object(o.a)(t[4]).sort((function(e,t){return C(t)-C(e)})).slice(0,3),s=[].concat(Object(o.a)(n.slice(0,1)),Object(o.a)(c.slice(0,3)),Object(o.a)(l.slice(0,2)),Object(o.a)(i.slice(0,1))),u=[].concat(Object(o.a)(c.slice(3)),Object(o.a)(l.slice(2)),Object(o.a)(i.slice(1))).sort((function(e,t){return C(t)-C(e)})),d=[].concat(Object(o.a)(s),Object(o.a)(u.slice(0,4))).sort((function(e,t){return e.element.element_type-t.element.element_type})),p=[].concat(Object(o.a)(n.slice(1)),Object(o.a)(u.slice(4))).sort((function(e,t){return e.element.element_type-t.element.element_type}));return r.a.createElement(w,{title:"Team of the Season",loading:a,cloaked:!e},r.a.createElement("div",{className:"tots"},r.a.createElement("div",{className:"tots__row"},d.filter((function(e){return 1===e.element.element_type})).map((function(e){return r.a.createElement(me,{id:e.element.id,points:C(e)})}))),r.a.createElement("div",{className:"tots__row"},d.filter((function(e){return 2===e.element.element_type})).map((function(e){return r.a.createElement(me,{id:e.element.id,points:C(e)})}))),r.a.createElement("div",{className:"tots__row"},d.filter((function(e){return 3===e.element.element_type})).map((function(e){return r.a.createElement(me,{id:e.element.id,points:C(e)})}))),r.a.createElement("div",{className:"tots__row"},d.filter((function(e){return 4===e.element.element_type})).map((function(e){return r.a.createElement(me,{id:e.element.id,points:C(e)})}))),r.a.createElement("div",{className:"tots__row tots__row--bench"},p.map((function(e){return r.a.createElement(me,{id:e.element.id,points:C(e)})})))))}),pe=function(){var e=Object(m.c)((function(e){return e.stats.data})),t=Object(m.c)((function(e){return e.stats.loading})),a=Object(m.c)((function(e){return e.settings.id})),n=Object(m.c)((function(e){return e.history.data})),c=Object(m.c)((function(e){return e.history.loading}));if(!n||!e)return r.a.createElement(w,{title:"Stats",loading:c||t,cloaked:!a});var l=function(e){return Object.values(e).reduce((function(e,t){return e.concat(t)}),[])}(e),i=function(e){return l.map((function(t){return Object(s.a)({player:t},e,t.data.reduce((function(t,a){var n,r,c,l;return"number"===typeof(null===(n=a.stats)||void 0===n?void 0:n[e])?((null===(c=a.stats)||void 0===c?void 0:c[e])||0)+t:"boolean"===typeof(null===(r=a.stats)||void 0===r?void 0:r[e])?(+(null===(l=a.stats)||void 0===l?void 0:l[e])||0)+t:t}),0))})).sort((function(t,a){return a[e]-t[e]}))[0]},d=i("red_cards"),p=i("yellow_cards"),f=i("goals_scored"),_=i("assists"),E=i("clean_sheets"),v=i("goals_conceded"),b=i("own_goals"),g=i("saves"),h=i("minutes"),j=i("penalties_missed"),N=i("penalties_saved"),O=i("in_dreamteam"),k=i("bps"),S=i("bonus"),x=n.current.reduce((function(e,t){return e+t.event_transfers}),0),P=n.current.reduce((function(e,t){return e+t.event_transfers_cost/4}),0),B=n.current.reduce((function(e,t){return e+t.points_on_bench}),0),C=l.map((function(e){return{player:e,captaincies:e.data.filter((function(e){return e.multiplier&&e.multiplier>1})).length}})).sort((function(e,t){return t.captaincies-e.captaincies}))[0],T=l.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{data:Object(o.a)(e.data).sort((function(e,t){return(t.points||0)-(e.points||0)}))})})).sort((function(e,t){return(t.data[0].points||0)-(e.data[0].points||0)}))[0];return r.a.createElement(w,{title:"Stats",loading:c||t,cloaked:!a},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Transfers Made"),r.a.createElement("span",null,r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(a,"/transfers"),target:"_blank",rel:"noopener noreferrer"},x))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Hits Taken"),r.a.createElement("span",null,P," (",-4*P," pts)")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Points on Bench"),r.a.createElement("span",null,B," pts")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top Returner"),r.a.createElement("span",null,r.a.createElement(y,{id:T.element.id,suffix:function(){return r.a.createElement(r.a.Fragment,null," ","(",T.data[0].points," pts,"," ",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(a,"/event/").concat(T.data[0].event.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",T.data[0].event.id),")")},condensed:!0}))),d.red_cards>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Red Cards"),r.a.createElement(y,{id:d.player.element.id,suffix:"".concat(d.red_cards),condensed:!0})),p.yellow_cards>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Yellow Cards"),r.a.createElement(y,{id:p.player.element.id,suffix:"".concat(p.yellow_cards),condensed:!0})),f.goals_scored>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top Scorer"),r.a.createElement(y,{id:f.player.element.id,suffix:"".concat(f.goals_scored),condensed:!0})),_.assists>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Assists"),r.a.createElement(y,{id:_.player.element.id,suffix:"".concat(_.assists),condensed:!0})),S.bonus>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Bonus Points"),r.a.createElement(y,{id:S.player.element.id,suffix:"".concat(S.bonus),condensed:!0})),k.bps>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Highest Total BPS"),r.a.createElement(y,{id:k.player.element.id,suffix:"".concat(k.bps),condensed:!0})),E.clean_sheets>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Clean Sheets"),r.a.createElement(y,{id:E.player.element.id,suffix:"".concat(E.clean_sheets),condensed:!0})),v.goals_conceded>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Goals Conceded"),r.a.createElement(y,{id:v.player.element.id,suffix:"".concat(v.goals_conceded),condensed:!0})),g.saves>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Saves"),r.a.createElement(y,{id:g.player.element.id,suffix:"".concat(g.saves),condensed:!0})),b.own_goals>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Own Goals"),r.a.createElement(y,{id:b.player.element.id,suffix:"".concat(b.own_goals),condensed:!0})),j.penalties_missed>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Penalties Missed"),r.a.createElement(y,{id:j.player.element.id,suffix:"".concat(j.penalties_missed),condensed:!0})),N.penalties_saved>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Penalties Saved"),r.a.createElement(y,{id:N.player.element.id,suffix:"".concat(N.penalties_saved),condensed:!0})),h.minutes>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Minutes"),r.a.createElement(y,{id:h.player.element.id,suffix:"".concat(M(h.minutes)),condensed:!0})),O.in_dreamteam>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Times in Dreamteam"),r.a.createElement(y,{id:O.player.element.id,suffix:"".concat(O.in_dreamteam),condensed:!0})),C.captaincies>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Captaincies"),r.a.createElement(y,{id:C.player.element.id,suffix:"".concat(C.captaincies),condensed:!0}))))},fe=function(){var e=Object(m.c)((function(e){return e.settings.id})),t=Object(m.c)((function(e){return e.stats.data})),a=Object(m.c)((function(e){return e.stats.loading})),n=Object(m.c)((function(e){return e.history.data})),c=Object(m.c)((function(e){return e.history.loading}));if(!t||!n)return r.a.createElement(w,{title:"Formations",loading:a||c,cloaked:!e});var l=n.current.length,o=Object.values(t).map((function(e){var t=e.map((function(e){return e.data.map((function(e){return e.multiplier}))}));return Array.from(Array(l).keys()).map((function(e,a){return t.map((function(e){return(e[a]||0)>0})).filter((function(e){return!!e})).length}))})).slice(1),d=Array.from(Array(l).keys()).map((function(e,t){return o.map((function(e){return e[t]})).join("-")})).reduce((function(e,t,a){return e[t]?Object(u.a)(Object(u.a)({},e),{},Object(s.a)({},t,{count:e[t].count+1,points:e[t].points+n.current[a].points})):Object(u.a)(Object(u.a)({},e),{},Object(s.a)({},t,{count:1,points:n.current[a].points}))}),{});return r.a.createElement(w,{title:"Formations",loading:a||c,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},Object.entries(d).sort((function(e,t){return t[1].count-e[1].count})).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,function(e){return T(e.split("-").map((function(e){return Number(e)})))>10?"Bench Boost":e}(a)),r.a.createElement("span",null,n.count," (",M(n.points)," pts, ",(n.points/n.count).toFixed(1)," ppg)"))}))))},_e=function(){var e=Object(m.c)((function(e){return e.settings.id})),t=Object(m.c)((function(e){return e.stats.data})),a=Object(m.c)((function(e){return e.stats.loading}));if(!t)return r.a.createElement(w,{title:"Captains",loading:a,cloaked:!e});var n=Object.values(t).map((function(e){return e.map((function(e){return{player:e,data:e.data.filter((function(e){return(e.multiplier||0)>1}))}})).filter((function(e){return e.data.length>0}))})).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return t.data.length-e.data.length}));return r.a.createElement(w,{title:"Captains",loading:a,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},n.map((function(e){var t=T(e.data.map((function(e){return e.points||0})));return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(y,{id:e.player.element.id}),r.a.createElement("span",null,e.data.length," (",M(t)," pts, ",(t/e.data.length).toFixed(1)," ppg)"))}))))},Ee=function(){var e=Object(m.c)((function(e){return e.settings.id})),t=Object(m.c)((function(e){return e.history.data})),a=Object(m.c)((function(e){return e.history.loading})),n=Object(m.c)((function(e){return e.bootstrap.data})),c=Object(m.c)((function(e){return e.bootstrap.loading})),l=U(),i=J();if(!t||!n)return r.a.createElement(w,{title:"Gameweeks",loading:a||c,cloaked:!e});var s=t.current.map((function(e,t){return e.points-n.events[t].average_entry_score})),u=Object(o.a)(t.current).sort((function(e,t){return e.rank-t.rank})),d=Object(o.a)(t.current).sort((function(e,t){return t.points-e.points})),p=d[0],f=d[d.length-1];return r.a.createElement(w,{title:"Gameweeks",loading:a||c,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,l("Difference to GW Average")),r.a.createElement("span",null,i(s).toFixed(1)," pts")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Times Above GW Average"),r.a.createElement("span",null,s.filter((function(e){return e>=0})).length)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Times Below GW Average"),r.a.createElement("span",null,s.filter((function(e){return e<0})).length)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,l("GW Rank")),r.a.createElement("span",null,M(Math.round(i(t.current.map((function(e){return e.rank}))))))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Gameweek"),r.a.createElement("span",null,p.points," pts"," ","(",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(e,"/event/").concat(p.event,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",p.event),")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Gameweek"),r.a.createElement("span",null,f.points," pts"," ","(",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(e,"/event/").concat(f.event,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",f.event),")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best GW Rank"),r.a.createElement("span",null,M(u[0].rank)," ","(",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(e,"/event/").concat(u[0].event,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",u[0].event),")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst GW Rank"),r.a.createElement("span",null,M(u[u.length-1].rank)," ","(",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(e,"/event/").concat(u[u.length-1].event,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",u[u.length-1].event),")"))))},ve=function(){var e=Object(m.c)((function(e){return e.settings.id})),t=Object(m.c)((function(e){return e.stats.data})),a=Object(m.c)((function(e){return e.stats.loading})),n=Object(m.c)((function(e){return e.bootstrap.data})),c=Object(m.c)((function(e){return e.bootstrap.loading})),l=J();if(!t||!n)return r.a.createElement(w,{title:"Positions",loading:a||c,cloaked:!e});var o=Object.entries(t).reduce((function(e,t){var a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(u.a)(Object(u.a)({},e),{},Object(s.a)({},n,r.length))}),{});return r.a.createElement(w,{title:"Positions",loading:a||c,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total"),r.a.createElement("span",null,Object.values(o).reduce((function(e,t){return e+t}),0))),Object.entries(o).map((function(e){var a,c=Object(i.a)(e,2),s=c[0],o=c[1],u=t[Number(s)].map((function(e){return C(e)}));return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,null===(a=n.element_types.find((function(e){return e.id===Number(s)})))||void 0===a?void 0:a.plural_name),r.a.createElement("span",null,o," ","(",M(T(u))," pts, ",l(u).toFixed(1)," ppp)"))}))))},be=(a(392),{points:C,selection:x,start:P,bench:B,alphabet:function(e){return-1*e.element.web_name.toLowerCase().charCodeAt(0)}}),ge=[{value:"points",label:"Total Points"},{value:"selection",label:"Most Selected"},{value:"start",label:"Most Started"},{value:"bench",label:"Most Benched"},{value:"alphabet",label:"Alphabetically"}],he=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object.values(e).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){var t=x(e),a=B(e),n=P(e);return Object(u.a)(Object(u.a)({},e),{},{benched:a,benchedPercentage:a/t*100,starts:n,startsPercentage:n/t*100})})),n=Object(o.a)(a).sort((function(e,t){var a=t.startsPercentage-e.startsPercentage;return 0===a?t.starts-e.starts:a})),c=Object(o.a)(a).sort((function(e,t){var a=t.benchedPercentage-e.benchedPercentage;return 0===a?t.benched-e.benched:a}));return r.a.createElement("ul",{className:"widget__list"},t&&n.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(y,{id:e.element.id}),r.a.createElement("span",null,e.startsPercentage.toFixed(1),"% (",e.starts,")"))})),!t&&c.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(y,{id:e.element.id}),r.a.createElement("span",null,e.benchedPercentage.toFixed(1),"% (",e.benched,")"))})))},ye=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(ge[0]),d=Object(i.a)(l,2),_=d[0],E=d[1],v=Object(m.c)((function(e){return e.bootstrap.data})),h=Object(m.c)((function(e){return e.bootstrap.loading})),N=Object(m.c)((function(e){return e.stats.data})),T=Object(m.c)((function(e){return e.stats.chips})),F=Object(m.c)((function(e){return e.stats.loading})),I=Object(m.c)((function(e){return e.settings.id})),R=Object(m.c)((function(e){return e.history.data})),K=Object(m.c)((function(e){return e.history.loading})),L=Object(n.useRef)(null),U=Object(m.b)();return Object(n.useEffect)((function(){U(function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(b()),e.next=3,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/bootstrap-static/")));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t(g(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var e=oe.a.parse(window.location.hash);e.team&&S(e.team)&&U(D(e.team))}),[U]),Object(n.useEffect)((function(){setTimeout((function(){L&&L.current&&L.current.scrollTo(L.current.scrollWidth,0)}),1)}),[N]),Object(n.useEffect)((function(){var e;c(!I),v&&I&&(U(function(e,t){return function(){var a=Object(f.a)(p.a.mark((function a(n){var r,c,l;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n($()),a.next=3,Promise.all(A(e.events).map(function(){var e=Object(f.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(a.id,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:r=a.sent,c={},l={},r.forEach((function(t){t.pick.active_chip&&(l[t.pick.entry_history.event]=t.pick.active_chip),t.pick.picks.forEach((function(a){var n,r;c[a.element]||(c[a.element]={element:e.elements.find((function(e){return e.id===a.element})),data:e.events.filter((function(e){return e.id<t.pick.entry_history.event})).map((function(e){return{event:e,multiplier:null,points:null,rawPoints:null,stats:null}}))});var l=(null===(n=t.live.elements.find((function(e){return e.id===a.element})))||void 0===n?void 0:n.stats.total_points)||null;c[a.element]=Object(u.a)(Object(u.a)({},c[a.element]),{},{data:[].concat(Object(o.a)(c[a.element].data),[{event:e.events.find((function(e){return e.id===t.pick.entry_history.event})),multiplier:a.multiplier,points:null!==l?l*a.multiplier:l,rawPoints:l,stats:(null===(r=t.live.elements.find((function(e){return e.id===a.element})))||void 0===r?void 0:r.stats)||null}])})})),Object.keys(c).forEach((function(a){var n=Number(a);c[n].data.length<t.pick.entry_history.event&&(c[n]=Object(u.a)(Object(u.a)({},c[n]),{},{data:[].concat(Object(o.a)(c[n].data),[{event:e.events.find((function(e){return e.id===t.pick.entry_history.event})),multiplier:null,points:null,rawPoints:null,stats:null}])}))}))})),n(q({data:Object.values(c).reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(s.a)({},t.element.element_type,[].concat(Object(o.a)(e[t.element.element_type]||[]),[t])))}),{}),chips:l}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(v,I)),U((e=I,function(){var t=Object(f.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ne()),t.next=3,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(e,"/history/"))));case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,a(re(r));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),window.location.hash=oe.a.stringify({team:I}))}),[I,U,v]),r.a.createElement("div",{className:"app"},a&&r.a.createElement(Y,{onClose:function(){return c(!1)}}),r.a.createElement("div",{className:O()("app__loading",{"app__loading--hidden":!h})},r.a.createElement(j,null)),r.a.createElement("div",{className:"app__content"},r.a.createElement("div",{className:"dashboard__widgets dashboard__widgets--split"},r.a.createElement(de,null),r.a.createElement(pe,null)),r.a.createElement("div",{className:"app__meta"},r.a.createElement("label",{className:"app__meta__label"},"Sort by"),r.a.createElement(ie.a,{options:ge,value:_,onChange:function(e){return E(e)},styles:{container:function(e){return Object(u.a)(Object(u.a)({},e),{},{width:"100%"})},menu:function(e){return Object(u.a)(Object(u.a)({},e),{},{zIndex:20})}}}),r.a.createElement("div",{className:"app__legend"},r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator app__color__indicator--started"}),"Started"),r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator app__color__indicator--benched"}),"Benched"),r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator app__color__indicator--triple"}),"TC"),r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator"}),"Not Selected"))),r.a.createElement("div",{className:O()("dashboard",{"dashboard--cloaked":!I})},F&&r.a.createElement("div",{className:"dashboard__loading"},r.a.createElement(j,null)),r.a.createElement("div",{className:"dashboard__container",ref:L},r.a.createElement("header",{className:"dashboard__header"},r.a.createElement("span",{className:"dashboard__heading"},"Player"),(null===v||void 0===v?void 0:v.events)&&A(v.events).filter((function(e){return e.top_element_info.points>0})).map((function(e){return r.a.createElement("span",{className:"dashboard__stat",key:e.id},G(e),T&&T[e.id]&&r.a.createElement("div",null,(t=T[e.id],W[t]||null)));var t})),r.a.createElement("div",{className:"dashboard__totals"},r.a.createElement("span",{className:"dashboard__stat"},"Selected"),r.a.createElement("span",{className:"dashboard__stat"},"Starting"),r.a.createElement("span",{className:"dashboard__stat"},"Benched"),r.a.createElement("span",{className:"dashboard__stat"},"Points"))),r.a.createElement("ul",{className:"dashboard__list"},N&&Object.entries(N).map((function(e){var t,a=Object(i.a)(e,2),n=a[0],c=a[1];return r.a.createElement("div",{key:n},r.a.createElement("li",{className:"dashboard__category"},r.a.createElement("span",null,null===v||void 0===v||null===(t=v.element_types.find((function(e){return e.id===Number(n)})))||void 0===t?void 0:t.plural_name_short),r.a.createElement("span",null,c.length)),c.filter((function(e){return e.data.filter((function(e){return null!==e.multiplier})).length})).sort((function(e,t){return be[_.value](t)-be[_.value](e)})).map((function(e){return r.a.createElement("li",{key:e.element.id,className:"dashboard__item"},r.a.createElement("div",{className:"dashboard__player"},r.a.createElement(y,{id:e.element.id})),r.a.createElement("div",{className:"dashboard__stats"},e.data.map((function(e){return r.a.createElement("span",{key:e.event.id,className:O()("dashboard__stat",{"dashboard__stat--benched":0===e.multiplier,"dashboard__stat--triple":3===e.multiplier,"dashboard__stat--started":e.multiplier})})}))),r.a.createElement("div",{className:"dashboard__totals"},r.a.createElement("span",{className:"dashboard__stat"},x(e)," (",(x(e)/e.data.length*100).toFixed(1),"%)"),r.a.createElement("span",{className:"dashboard__stat"},P(e)," (",(P(e)/e.data.length*100).toFixed(1),"%)"),r.a.createElement("span",{className:"dashboard__stat"},B(e)," (",(B(e)/e.data.length*100).toFixed(1),"%)"),r.a.createElement("span",{className:"dashboard__stat"},C(e)," (",P(e)>0?(C(e)/P(e)).toFixed(1):0," ppg)")))})))}))))),r.a.createElement("div",{className:"dashboard__widgets"},r.a.createElement(w,{title:"Top Selections",loading:F,cloaked:!I},N&&function(e){var t=Object.values(e).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return x(t)-x(e)}));return r.a.createElement("ul",{className:"widget__list"},t.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(y,{id:e.element.id}),x(e))})))}(N)),r.a.createElement(w,{title:"Top Starters",loading:F,cloaked:!I},N&&function(e){var t=Object.values(e).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return P(t)-P(e)}));return r.a.createElement("ul",{className:"widget__list"},t.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(y,{id:e.element.id}),P(e))})))}(N)),r.a.createElement(w,{title:"Top Benchwarmers",loading:F,cloaked:!I},N&&function(e){var t=Object.values(e).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return B(t)-B(e)}));return r.a.createElement("ul",{className:"widget__list"},t.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(y,{id:e.element.id}),B(e))})))}(N)),r.a.createElement(w,{title:"Most Consistent Starters",loading:F,cloaked:!I},N&&he(N,!0)),r.a.createElement(w,{title:"Most Consistent Benchwarmers",loading:F,cloaked:!I},N&&he(N)),r.a.createElement(w,{title:"Breakdown by Team",loading:F,cloaked:!I},N&&v&&function(e,t){var a=Object.values(e).reduce((function(e,t){return[].concat(Object(o.a)(e),Object(o.a)(t.map((function(e){return e.element.team}))))}),[]).reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(s.a)({},t,(e[Number(t)]||0)+1))}),{}),n=Object(o.a)(t.teams).sort((function(e,t){return(a[t.id]||0)-(a[e.id]||0)}));return r.a.createElement("ul",{className:"widget__list"},n.map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(k,{team:e}),r.a.createElement("span",null,a[e.id]||0))})))}(N,v)),r.a.createElement(ve,null),r.a.createElement(ue,null),r.a.createElement(fe,null),r.a.createElement(_e,null),r.a.createElement(Ee,null)),r.a.createElement("div",{className:"dashboard__graphs"},r.a.createElement(w,{title:"Overall Rank Evolution",loading:K,cloaked:!I},R&&v&&function(e,t){var a=e.current.map((function(e){var a=t.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(a?G(a):e.event),value:e.overall_rank}})),n=1.05*Object(o.a)(a).sort((function(e,t){return t.value-e.value}))[0].value;return a=Object(o.a)(a).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{max:n})})),r.a.createElement("div",{className:"chart chart--reversed"},r.a.createElement(le.d,{height:300,width:"100%"},r.a.createElement(le.b,{data:a,margin:{bottom:45,left:15,right:15}},r.a.createElement(le.a,{type:"monotone",dataKey:"max",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(le.a,{type:"monotone",dataKey:"value",stroke:"#177B47",fill:"#ffffff",fillOpacity:"1"}),r.a.createElement(le.g,{reversed:!0,tickFormatter:function(e){return function(e){return e>999999?"".concat((e/1e6).toFixed(1),"M"):e>999?"".concat((e/1e3).toFixed(0),"K"):"".concat(e)}(e)},domain:[1,n],interval:"preserveStartEnd",tickCount:10}),r.a.createElement(le.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(le.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(le.e,{isAnimationActive:!1,formatter:function(e,t){return"max"===t?[void 0,void 0]:[M(Number(e)),"Rank"]},separator:": "}))))}(R,v)),r.a.createElement(w,{title:"Gameweek Points",loading:K,cloaked:!I},R&&v&&function(e,t){var a=e.current.map((function(e){var a=t.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(a?G(a):e.event),points:e.points,bench:e.points_on_bench}}));return r.a.createElement("div",{className:"chart"},r.a.createElement(le.d,{height:300,width:"100%"},r.a.createElement(le.b,{data:a,margin:{bottom:45,left:15,right:15}},r.a.createElement(le.a,{type:"monotone",dataKey:"points",stroke:"#177B47",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(le.a,{type:"monotone",dataKey:"bench",stroke:"#00FF87",fill:"#00FF87",fillOpacity:"1"}),r.a.createElement(le.g,{interval:"preserveStartEnd"}),r.a.createElement(le.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(le.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(le.e,{isAnimationActive:!1,formatter:function(e,t){return[e,t.charAt(0).toUpperCase()+t.slice(1)]},separator:": "}))))}(R,v)),r.a.createElement(w,{title:"Team Value Evolution",loading:K,cloaked:!I},R&&v&&function(e,t){var a=e.current.map((function(e){var a=t.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(a?G(a):e.event),value:e.value+e.bank}}));return r.a.createElement("div",{className:"chart"},r.a.createElement(le.d,{height:300,width:"100%"},r.a.createElement(le.b,{data:a,margin:{bottom:45,left:15,right:15}},r.a.createElement(le.a,{type:"monotone",dataKey:"value",stroke:"#177B47",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(le.g,{tickFormatter:function(e){return"\xa3".concat(e/10)},domain:["auto","auto"],interval:"preserveStartEnd"}),r.a.createElement(le.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(le.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(le.e,{isAnimationActive:!1,formatter:function(e,t){return["\xa3".concat(Number(e)/10),t.charAt(0).toUpperCase()+t.slice(1)]},separator:": "}))))}(R,v))),r.a.createElement("div",{className:"app__legal"},r.a.createElement("p",null,"FPL Stats uses data from the official Premier League Fantasy API. This site is not affiliated with the Premier League."))),void 0!==I&&r.a.createElement("div",{className:"app__footer"},r.a.createElement("div",{className:"app__footer__content"},r.a.createElement(H,{onClick:function(){return c(!0)},label:"Change Team"}))))},je=a(14),Ne=Object(je.c)({bootstrap:h,stats:ee,settings:K,history:ce});a(393);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:Object(_.a)({reducer:Ne,middleware:Object(o.a)(Object(_.c)())})},r.a.createElement(ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.b0f9b355.chunk.js.map