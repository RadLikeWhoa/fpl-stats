(this["webpackJsonpfpl-stats"]=this["webpackJsonpfpl-stats"]||[]).push([[0],{255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){},545:function(e,t,a){},546:function(e,t,a){},547:function(e,t,a){},548:function(e,t,a){},549:function(e,t,a){},550:function(e,t,a){},551:function(e,t,a){},562:function(e,t,a){},563:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),i=a(2),s=a(74),o=a(16);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(7),m=a(9),d=a.n(m),p=a(14),f=a(10),v=a(3),g=a.n(v),E=a(207),_=a(195),b=a.n(_),h=a(206),y=(a(255),function(e){return r.a.createElement("button",{className:"button",type:e.type||"button",onClick:e.onClick,disabled:e.disabled},e.label)}),w=(a(256),function(e){var t=Object(i.c)((function(e){return e.settings.id}));return r.a.createElement("div",{className:g()("widget",e.cssClasses,{"widget--cloaked":!t})},e.title&&r.a.createElement("h3",{className:"widget__title"},e.title," ",e.onClose&&r.a.createElement(y,{label:"X",onClick:function(){var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},"aria-label":"Close"})),r.a.createElement("div",{className:"widget__content"},e.children||r.a.createElement("div",{className:"widget__empty"},"No data available.")))}),N=(a(257),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}))}),O=a(11),j=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";return e?Object(O.a)(e).sort((function(e,n){return(t(e)-t(n))*("desc"===a?-1:1)})):[]},k=function(e){return(null===e||void 0===e?void 0:e.length)?e[0]:null},S=function(e){return(null===e||void 0===e?void 0:e.length)?e[e.length-1]:null},x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(null===e||void 0===e?void 0:e.reduce((function(e,a){return e+t(a)}),a))||0},C={"3xc":"TC",bboost:"BB",freehit:"FH",wildcard:"WC"},P=function(e){var t=Date.now();return e.filter((function(e){return 1e3*e.deadline_time_epoch<t}))},T=function(e){return e.name.split(" ").pop()||""},F=function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u.a)(Object(u.a)({},t),{},{current:(null===(n=t.current)||void 0===n?void 0:n.slice(a.start,a.end+1))||[]}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},I=function(e){return x(e,(function(e){return e||0}))},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=e.toFixed(t);return/\.0+$/.test(a)?k(a.split("."))||"":a},G=function(e){var t=Number(e);return e&&!Number.isNaN(t)&&Number.isInteger(t)},A=a(18),D=function(e){return e.data.filter((function(e){return null!==e.multiplier})).length},W=function(e){return e.data.filter((function(e){return e.multiplier&&e.multiplier>0})).length},R=function(e){return e.data.filter((function(e){return 0===e.multiplier})).length},L=function(e){return x(e.data,(function(e){return e.points||0}))},K=function(e){return x(e.data,(function(e){return e.rawPoints||0}))},H=function(e){return x(e.data,(function(e){return 0===e.multiplier&&e.rawPoints||0}))},U=function(e){return Object.values(e).reduce((function(e,t){return e.concat(t)}),[])},J=function(e,t){return e.data.reduce((function(e,a){var n,r,l,c;return"number"===typeof(null===(n=a.stats)||void 0===n?void 0:n[t])?((null===(l=a.stats)||void 0===l?void 0:l[t])||0)+e:"boolean"===typeof(null===(r=a.stats)||void 0===r?void 0:r[t])?(+(null===(c=a.stats)||void 0===c?void 0:c[t])||0)+e:e}),0)},z=function(e,t){return k(j(e,(function(e){return e.aggregates.totals[t]})))},V=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.data.reduce((function(e,n){return t(n)?a||e.length&&0!==e[e.length-1]?[].concat(Object(O.a)(e.slice(0,e.length-1)),[e[e.length-1]+1]):[].concat(Object(O.a)(e),[1]):[].concat(Object(O.a)(e),[0])}),a?[0]:[]),r=Math.max.apply(Math,Object(O.a)(n));if(0===r)return null;var l=I(n.slice(0,n.indexOf(r)).map((function(e){return e>0?e:1}))),c=l-1+r,i=(l===c?e.data:e.data.slice(l,c)).map((function(e){return e.points||0}));return{start:e.data[l].event,end:e.data[c].event,length:r,points:i,totalPoints:I(i)}},q=function(e){return V(e,(function(e){return null!==e.multiplier}),!0)},X=function(e){return V(e,(function(e){return(e.multiplier||0)>0}),!0)},Y=function(e){return V(e,(function(e){return 0===e.multiplier}),!0)},$=function(e){return V(e,(function(e){return(e.rawPoints||0)>2}))},Q=function(e){var t=j(e[1],(function(e){return e.aggregates.totals.points})).slice(0,2),a=j(e[2],(function(e){return e.aggregates.totals.points})).slice(0,5),n=j(e[3],(function(e){return e.aggregates.totals.points})).slice(0,5),r=j(e[4],(function(e){return e.aggregates.totals.points})).slice(0,3),l=t.slice(0,1).concat(a.slice(0,3)).concat(n.slice(0,2)).concat(r.slice(0,1)),c=j(a.slice(3).concat(n.slice(2)).concat(r.slice(1)),(function(e){return e.aggregates.totals.points}));return{xi:j(l.concat(c.slice(0,4)),(function(e){return e.element.element_type}),"asc"),bench:j(t.slice(1).concat(c.slice(4)),(function(e){return e.element.element_type}),"asc")}},Z={totals:{redCards:0,yellowCards:0,goals:0,assists:0,cleanSheets:0,goalsConceded:0,ownGoals:0,saves:0,minutes:0,penaltiesMissed:0,penaltiesSaved:0,timesInDreamteam:0,bps:0,bonus:0,captaincies:0,points:0,rawPoints:0,benchPoints:0,selections:0,starts:0,benched:0},streaks:{selection:null,start:null,bench:null,nonBlank:null}},ee=function(){var e=Object(p.a)(d.a.mark((function e(t,a,n){var r,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},l={},t.slice(n.start,n.end+1).forEach((function(e){e.pick.active_chip&&(l[e.pick.entry_history.event]=e.pick.active_chip),e.pick.picks.forEach((function(t){var l,c;r[t.element]||(r[t.element]={element:a.elements.find((function(e){return e.id===t.element})),data:a.events.slice(n.start,e.pick.entry_history.event-1).map((function(e){return{event:e,multiplier:null,points:null,rawPoints:null,stats:null,position:null}})),aggregates:Z});var i=(null===(l=e.live.elements.find((function(e){return e.id===t.element})))||void 0===l?void 0:l.stats.total_points)||null;r[t.element]=Object(u.a)(Object(u.a)({},r[t.element]),{},{data:[].concat(Object(O.a)(r[t.element].data),[{event:a.events.find((function(t){return t.id===e.pick.entry_history.event})),multiplier:t.multiplier,points:null!==i?i*t.multiplier:i,rawPoints:i,stats:(null===(c=e.live.elements.find((function(e){return e.id===t.element})))||void 0===c?void 0:c.stats)||null,position:t.position}])})})),Object.keys(r).forEach((function(t){var l=Number(t);r[l].data.length<e.pick.entry_history.event-n.start&&(r[l]=Object(u.a)(Object(u.a)({},r[l]),{},{data:[].concat(Object(O.a)(r[l].data),[{event:a.events.find((function(t){return t.id===e.pick.entry_history.event})),multiplier:null,points:null,rawPoints:null,stats:null,position:null}])}))}))})),Object.keys(r).forEach((function(e){var t,a=r[Number(e)];r[Number(e)].aggregates={totals:{redCards:J(a,"red_cards"),yellowCards:J(a,"yellow_cards"),goals:J(a,"goals_scored"),assists:J(a,"assists"),cleanSheets:J(a,"clean_sheets"),goalsConceded:J(a,"goals_conceded"),ownGoals:J(a,"own_goals"),saves:J(a,"saves"),minutes:J(a,"minutes"),penaltiesMissed:J(a,"penalties_missed"),penaltiesSaved:J(a,"penalties_saved"),timesInDreamteam:J(a,"in_dreamteam"),bps:J(a,"bps"),bonus:J(a,"bonus"),captaincies:(t=a,t.data.filter((function(e){return(e.multiplier||0)>1})).length),points:L(a),rawPoints:K(a),benchPoints:H(a),selections:D(a),starts:W(a),benched:R(a)},streaks:{selection:q(a),start:X(a),bench:Y(a),nonBlank:$(a)}}})),c=Object.values(r).reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(A.a)({},t.element.element_type,[].concat(Object(O.a)(e[t.element.element_type]||[]),[t])))}),{}),e.abrupt("return",{data:c,chips:l,tots:Q(c)});case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),te=function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.toLowerCase().slice(1))},ae=function(e,t,a){var n="number"===typeof e?e:Number(e.replace(/,/g,""));return"".concat(e," ").concat(1===n?t:a)},ne=function(e){return ae(e,"GW","GWs")},re=function(e){return ae(e,"pt","pts")},le=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},ce=(a(258),function(e){return r.a.createElement("div",{className:g()("modal",e.cssClasses)},r.a.createElement("div",{className:"modal__backdrop",onClick:function(){var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)}}),r.a.createElement("div",{className:"modal__element"},r.a.createElement("h3",{className:"modal__header"},e.title,r.a.createElement(y,{label:"X",onClick:function(){var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},"aria-label":"Close"})),r.a.createElement("div",{className:"modal__body"},e.children),e.footer&&r.a.createElement("footer",{className:"modal__footer"},e.footer)))}),ie=(a(259),function(e){return r.a.createElement("div",{className:"modal-input"},r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("input",{className:"modal-input__element",id:e.id,type:"text",placeholder:e.placeholder,value:e.value,onChange:function(t){return e.onChange(t.target.value)},ref:e.innerRef}))}),se=function(e){var t=Object(n.useState)(""),a=Object(f.a)(t,2),l=a[0],c=a[1],s=Object(i.c)((function(e){return e.loading>0})),u=Object(i.c)((function(e){return e.settings.id})),m=Object(o.f)(),d=Object(n.useCallback)((function(t){if(t){if(u){var a;null===(a=e.onClose)||void 0===a||a.call(e)}}else m.push("/".concat(l,"/"))}),[l,m,e,u]);Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&d(!0)};return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[d]);var p=Object(n.useCallback)((function(e){return null===e||void 0===e?void 0:e.focus()}),[]);return r.a.createElement("form",{onSubmit:function(e){d(!1),e.preventDefault()}},r.a.createElement(ce,{title:"Select Team",onClose:function(){return d(!0)},footer:r.a.createElement(y,{label:"Show Stats",type:"submit",disabled:!G(l)||l==="".concat(u)||s})},r.a.createElement(ie,{label:"Team ID",placeholder:"Enter your team ID",value:l,onChange:function(e){return c(e)},innerRef:p})))},oe=a(15),ue=Object(oe.c)({name:"loading",initialState:0,reducers:{startLoading:function(e){return e+=1},finishLoading:function(e){return e-=1}}}),me=ue.actions,de=me.startLoading,pe=me.finishLoading,fe=ue.reducer,ve=Object(oe.b)("entry/fetch",function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(_e()),a.dispatch(de()),e.next=4,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(t,"/"))));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,a.dispatch(be(r)),a.dispatch(pe());case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),ge=Object(oe.c)({name:"entry",initialState:{data:void 0},reducers:{fetchEntryStart:function(e){e.data=void 0},fetchEntrySuccess:function(e,t){e.data=t.payload}}}),Ee=ge.actions,_e=Ee.fetchEntryStart,be=Ee.fetchEntrySuccess,he=ge.reducer,ye=Object(oe.b)("history/fetch",function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(Oe()),a.dispatch(de()),e.next=4,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(t,"/history/"))));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,a.dispatch(je(r)),a.dispatch(pe());case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),we=Object(oe.c)({name:"history",initialState:{data:void 0},reducers:{fetchHistoryStart:function(e){e.data=void 0},fetchHistorySuccess:function(e,t){e.data=t.payload}}}),Ne=we.actions,Oe=Ne.fetchHistoryStart,je=Ne.fetchHistorySuccess,ke=we.reducer,Se=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/leagues-classic/".concat(314,"/standings?page_standings=").concat(t))));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=Object(oe.b)("milestones/fetch",function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(Te()),a.dispatch(de()),e.next=4,Promise.all([Se(1),Se(20),Se(200),Se(2e4)]);case 4:n=e.sent,r=n.map((function(e,t){return 0===t?k(e.standings.results):S(e.standings.results)})),a.dispatch(Fe(r)),a.dispatch(pe());case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ce=Object(oe.c)({name:"milestones",initialState:{data:void 0},reducers:{fetchMilestonesStart:function(e){e.data=void 0},fetchMilestonesSuccess:function(e,t){e.data=t.payload}}}),Pe=Ce.actions,Te=Pe.fetchMilestonesStart,Fe=Pe.fetchMilestonesSuccess,Me=Ce.reducer,Ie=Object(oe.b)("stats/fetch",function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(Ae()),a.dispatch(de()),e.next=4,Promise.all(P(t.bootstrap.events).map(function(){var e=Object(p.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(a.id,t.entry);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:n=e.sent,a.dispatch(De(n)),a.dispatch(pe());case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Be=Object(oe.c)({name:"stats",initialState:{data:void 0},reducers:{fetchStatsStart:function(e){e.data=void 0},fetchStatsSuccess:function(e,t){e.data=t.payload}}}),Ge=Be.actions,Ae=Ge.fetchStatsStart,De=Ge.fetchStatsSuccess,We=function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(a,"/event/").concat(t,"/picks/"))));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/event/".concat(t,"/live/"))));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n,r,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([We(t,a),Re(t)]);case 2:return n=e.sent,r=Object(f.a)(n,2),l=r[0],c=r[1],e.abrupt("return",{pick:l,live:c});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ke=Be.reducer,He=Object(oe.b)("bootstrap/fetch",function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(ze()),a.dispatch(de()),e.next=4,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/bootstrap-static/")));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.next=10,Promise.all([a.dispatch(Ie({bootstrap:r,entry:t})),a.dispatch(ye(t)),a.dispatch(ve(t)),a.dispatch(xe())]);case 10:a.dispatch(pe()),a.dispatch(Ve(r));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ue=Object(oe.c)({name:"bootstrap",initialState:{data:void 0,latestFetch:null},reducers:{fetchBootstrapStart:function(e){e.data=void 0},fetchBootstrapSuccess:function(e,t){e.data=t.payload,localStorage.setItem("latestFetch","".concat(Date.now()))}}}),Je=Ue.actions,ze=Je.fetchBootstrapStart,Ve=Je.fetchBootstrapSuccess,qe=Ue.reducer,Xe=Object(oe.b)("settings/fetch",function(){var e=Object(p.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.dispatch(Qe(t)),a.dispatch(He(t));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Ye=Object(oe.c)({name:"settings",initialState:{id:void 0,meanStrategy:"average",theme:"light"},reducers:{setId:function(e,t){e.id=t.payload},setMeanStrategy:function(e,t){e.meanStrategy=t.payload},setTheme:function(e,t){e.theme=t.payload}}}),$e=Ye.actions,Qe=$e.setId,Ze=$e.setMeanStrategy,et=$e.setTheme,tt=Ye.reducer,at=function(){var e=Object(i.c)((function(e){return e.settings.meanStrategy}));return function(t){return"".concat("average"===e?"Average":"Median"," ").concat(t)}},nt=function(){var e=Object(i.c)((function(e){return e.settings.meanStrategy}));return function(t){return"average"===e?function(e){var t=e.filter((function(e){return null!==e}));return t.length?I(t)/t.length:0}(t):function(e){var t=e.filter((function(e){return null!==e})),a=j(t,(function(e){return e})),n=Math.ceil(t.length/2);return a.length%2===0?(a[n]+a[n+1])/2:a[n-1]}(t)}},rt="Historical Data",lt=function(){var e=Object(n.useContext)(ja),t=at(),a=nt();if(!e)return r.a.createElement(w,{title:rt});var l=e.history,c=j(l.past,(function(e){return e.rank}),"asc"),i=j(l.past,(function(e){return e.total_points})),s=k(c),o=S(c),u=k(i),m=S(i),d=c.filter((function(e){return e.rank<=1e3})).length,p=c.filter((function(e){return e.rank<=1e4})).length,f=c.filter((function(e){return e.rank<=1e5})).length,v=c.filter((function(e){return e.rank<=1e6})).length;return r.a.createElement(w,{title:rt},r.a.createElement("ul",{className:"widget__list"},s&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Season Rank"),r.a.createElement("span",null,r.a.createElement("b",null,M(s.rank))," (",s.season_name,")")),o&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Season Rank"),r.a.createElement("span",null,r.a.createElement("b",null,M(o.rank))," (",o.season_name,")")),u&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Points Finish"),r.a.createElement("span",null,r.a.createElement("b",null,M(u.total_points))," (",u.season_name,")")),m&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Points Finish"),r.a.createElement("span",null,r.a.createElement("b",null,M(m.total_points))," (",m.season_name,")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,t("Rank")),r.a.createElement("b",null,M(Number(B(a(c.map((function(e){return e.rank}))),0))))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,t("Points")),r.a.createElement("b",null,M(Number(B(a(i.map((function(e){return e.total_points}))),0))))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 1K Finishes"),r.a.createElement("b",null,d)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 10K Finishes"),r.a.createElement("b",null,p)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 100K Finishes"),r.a.createElement("b",null,f)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 1M Finishes"),r.a.createElement("b",null,v))))},ct=(a(261),function(e){var t=Object(i.c)((function(e){return e.bootstrap.data})),a=null===t||void 0===t?void 0:t.elements.find((function(t){return t.id===e.id})),n=null===t||void 0===t?void 0:t.teams.find((function(e){return e.id===(null===a||void 0===a?void 0:a.team)})),l=null===t||void 0===t?void 0:t.element_types.find((function(e){return e.id===(null===a||void 0===a?void 0:a.element_type)}));return r.a.createElement("div",{className:"tots-player"},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(null===n||void 0===n?void 0:n.code).concat("GKP"===(null===l||void 0===l?void 0:l.singular_name_short)?"_1":"","-66.png"),alt:null===a||void 0===a?void 0:a.web_name,className:"tots-player__shirt"}),r.a.createElement("div",{className:"tots-player__detail"},r.a.createElement("div",{className:"tots-player__name"},r.a.createElement("span",null,null===a||void 0===a?void 0:a.web_name)),r.a.createElement("div",{className:"tots-player__points"},e.points)))}),it=(a(262),"Team of the Season"),st=function(){var e=Object(n.useContext)(ja);return e&&e.stats.tots.xi.length?r.a.createElement(w,{title:it,cssClasses:"tots-widget"},r.a.createElement("div",{className:"tots"},Object(O.a)(Array(4)).map((function(t,a){return r.a.createElement(r.a.Fragment,null,e&&r.a.createElement("div",{className:"tots__row"},e.stats.tots.xi.filter((function(e){return e.element.element_type===a+1})).map((function(e){return r.a.createElement(ct,{key:e.element.id,id:e.element.id,points:e.aggregates.totals.points})}))))})),r.a.createElement("div",{className:"tots__row tots__row--bench"},e.stats.tots.bench.map((function(e){return r.a.createElement(ct,{key:e.element.id,id:e.element.id,points:e.aggregates.totals.points})}))))):r.a.createElement(w,{title:it})},ot=(a(263),{ppg:"Points per Game",ppp:"Points per Player"}),ut=function(e){return r.a.createElement("abbr",{className:"metric",title:ot[e.metric]},e.metric)},mt=(a(264),function(e){var t=Object(i.c)((function(e){return e.bootstrap.data})),a=null===t||void 0===t?void 0:t.elements.find((function(t){return t.id===e.id})),n=null===t||void 0===t?void 0:t.teams.find((function(e){return e.id===(null===a||void 0===a?void 0:a.team)})),l=null===t||void 0===t?void 0:t.element_types.find((function(e){return e.id===(null===a||void 0===a?void 0:a.element_type)}));return r.a.createElement("div",{className:g()("player",{"player--condensed":!e.extended,"player--reversed":e.reversed})},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(null===n||void 0===n?void 0:n.code).concat("GKP"===(null===l||void 0===l?void 0:l.singular_name_short)?"_1":"","-66.png"),alt:null===a||void 0===a?void 0:a.web_name,className:"player__shirt"}),r.a.createElement("div",{className:"player__detail"},r.a.createElement("div",{className:"player__name"},r.a.createElement("span",null,e.suffix&&!e.extended?r.a.createElement("b",null,null===a||void 0===a?void 0:a.web_name):null===a||void 0===a?void 0:a.web_name,"string"===typeof e.suffix?" (".concat(e.suffix,")"):e.suffix?e.suffix():null)),r.a.createElement("div",{className:"player__info"},r.a.createElement("span",{className:"player__team",title:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.short_name),r.a.createElement("span",{className:"player__position"},null===l||void 0===l?void 0:l.singular_name_short))))}),dt=function(e){var t=Object(i.c)((function(e){return e.settings.id})),a="https://fantasy.premierleague.com/entry/".concat(t,"/");return e.event?a="".concat(a,"event/").concat(e.event,"/"):e.target&&(a="".concat(a).concat(e.target,"/")),r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},e.event?"GW ".concat(e.event):e.label?e.label:a)},pt="Player Stats",ft=function(){var e=Object(n.useContext)(ja),t=nt();if(!e)return r.a.createElement(w,{title:pt});var a=U(e.stats.data);if(!a.length)return r.a.createElement(w,{title:pt});var l=z(a,"redCards"),c=z(a,"yellowCards"),i=z(a,"goals"),s=z(a,"assists"),o=z(a,"cleanSheets"),m=z(a,"goalsConceded"),d=z(a,"ownGoals"),p=z(a,"saves"),f=z(a,"minutes"),v=z(a,"penaltiesMissed"),g=z(a,"penaltiesSaved"),E=z(a,"timesInDreamteam"),_=z(a,"bps"),b=z(a,"bonus"),h=k(j(a,(function(e){return e.aggregates.totals.captaincies}))),y=k(j(a.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{data:j(Object(O.a)(e.data),(function(e){return e.points||0}))})})),(function(e){var t;return(null===(t=k(e.data))||void 0===t?void 0:t.points)||0}))),N=k(j(a.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{data:j(e.data.filter((function(e){return 0===e.multiplier})),(function(e){return e.rawPoints||0}))})})).filter((function(e){return e.data.length})),(function(e){var t;return(null===(t=k(e.data))||void 0===t?void 0:t.rawPoints)||0}))),S=k(j(a,(function(e){return e.aggregates.totals.points}))),x=k(j(a,(function(e){return e.aggregates.totals.benchPoints}))),C=e.history.current.length,P=k(j(Object.entries(Array.from(Array(C).keys()).map((function(e,t){return k(j(a,(function(e){return e.data[t].rawPoints||0})))})).reduce((function(e,t){return t?Object(u.a)(Object(u.a)({},e),{},Object(A.a)({},t.element.id,(e[t.element.id]?e[t.element.id]:0)+1)):e}),{})),(function(e){return e[1]})));return r.a.createElement(w,{title:pt},r.a.createElement("ul",{className:"widget__list"},y&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top GW Returner"),r.a.createElement("span",null,r.a.createElement(mt,{id:y.element.id,suffix:function(){var e=k(y.data);return e?r.a.createElement(r.a.Fragment,null," ","(",re(e.points||0),", ",r.a.createElement(dt,{event:e.event.id}),")"):null},reversed:!0}))),S&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top Season Returner"),S.aggregates.totals.starts>0&&r.a.createElement(mt,{id:S.element.id,suffix:function(){return r.a.createElement(r.a.Fragment,null," ","(",re(S.aggregates.totals.points),","," ",B(t(S.data.filter((function(e){return(e.multiplier||0)>0})).map((function(e){return e.points}))))," ",r.a.createElement(ut,{metric:"ppg"}),")")},reversed:!0})),N&&function(e){var t=k(e.data);return t?r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top GW Bench Returner"),r.a.createElement("span",null,r.a.createElement(mt,{id:e.element.id,suffix:function(){return r.a.createElement(r.a.Fragment,null," ","(",re(t.rawPoints||0),", ",r.a.createElement(dt,{event:t.event.id}),")")},reversed:!0}))):null}(N),x&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Points While Benched"),x.aggregates.totals.benched>0&&r.a.createElement(mt,{id:x.element.id,suffix:function(){return r.a.createElement(r.a.Fragment,null," ","(",re(x.aggregates.totals.benchPoints),","," ",B(t(x.data.filter((function(e){return 0===e.multiplier})).map((function(e){return e.rawPoints}))))," ",r.a.createElement(ut,{metric:"ppg"}),")")},reversed:!0})),i&&i.aggregates.totals.goals>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top Scorer"),r.a.createElement(mt,{id:i.element.id,suffix:"".concat(i.aggregates.totals.goals),reversed:!0})),s&&s.aggregates.totals.assists>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Assists"),r.a.createElement(mt,{id:s.element.id,suffix:"".concat(s.aggregates.totals.assists),reversed:!0})),d&&d.aggregates.totals.ownGoals>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Own Goals"),r.a.createElement(mt,{id:d.element.id,suffix:"".concat(d.aggregates.totals.ownGoals),reversed:!0})),m&&m.aggregates.totals.goalsConceded>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Goals Conceded"),r.a.createElement(mt,{id:m.element.id,suffix:"".concat(m.aggregates.totals.goalsConceded),reversed:!0})),o&&o.aggregates.totals.cleanSheets>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Clean Sheets"),r.a.createElement(mt,{id:o.element.id,suffix:"".concat(o.aggregates.totals.cleanSheets),reversed:!0})),p&&p.aggregates.totals.saves>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Saves"),r.a.createElement(mt,{id:p.element.id,suffix:"".concat(p.aggregates.totals.saves),reversed:!0})),v&&v.aggregates.totals.penaltiesMissed>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Penalties Missed"),r.a.createElement(mt,{id:v.element.id,suffix:"".concat(v.aggregates.totals.penaltiesMissed),reversed:!0})),g&&g.aggregates.totals.penaltiesSaved>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Penalties Saved"),r.a.createElement(mt,{id:g.element.id,suffix:"".concat(g.aggregates.totals.penaltiesSaved),reversed:!0})),f&&f.aggregates.totals.minutes>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Minutes"),r.a.createElement(mt,{id:f.element.id,suffix:"".concat(M(f.aggregates.totals.minutes)),reversed:!0})),l&&l.aggregates.totals.redCards>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Red Cards"),r.a.createElement(mt,{id:l.element.id,suffix:"".concat(l.aggregates.totals.redCards),reversed:!0})),c&&c.aggregates.totals.yellowCards>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Yellow Cards"),r.a.createElement(mt,{id:c.element.id,suffix:"".concat(c.aggregates.totals.yellowCards),reversed:!0})),b&&b.aggregates.totals.bonus>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Bonus Points"),r.a.createElement(mt,{id:b.element.id,suffix:"".concat(b.aggregates.totals.bonus),reversed:!0})),_&&_.aggregates.totals.bps>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Highest Total BPS"),r.a.createElement(mt,{id:_.element.id,suffix:"".concat(M(_.aggregates.totals.bps)),reversed:!0})),E&&E.aggregates.totals.timesInDreamteam>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Times in Dreamteam"),r.a.createElement(mt,{id:E.element.id,suffix:"".concat(E.aggregates.totals.timesInDreamteam),reversed:!0})),h&&h.aggregates.totals.captaincies>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Captaincies"),r.a.createElement(mt,{id:h.element.id,suffix:"".concat(h.aggregates.totals.captaincies),reversed:!0})),P&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Ideal Captain"),r.a.createElement(mt,{id:Number(P[0]),suffix:"".concat(P[1]),reversed:!0}))))},vt="Formations",gt=function(){var e=Object(n.useContext)(ja),t=nt();if(!e)return r.a.createElement(w,{title:vt});var a=e.history,l=e.stats.data,c=a.current.length,i=Object.values(l).map((function(e){var t=e.map((function(e){return e.data.map((function(e){return e.multiplier}))}));return Array.from(Array(c).keys()).map((function(e,a){return t.map((function(e){return(e[a]||0)>0})).filter((function(e){return!!e})).length}))})).slice(1),s=Array.from(Array(c).keys()).map((function(e,t){return i.map((function(e){return e[t]})).join("-")})).reduce((function(e,t,n){return Object(u.a)(Object(u.a)({},e),{},Object(A.a)({},t,{count:(e[t]?e[t].count:0)+1,points:[].concat(Object(O.a)(e[t]?e[t].points:[]),[a.current[n].points])}))}),{});return r.a.createElement(w,{title:vt},Object.entries(s).length>0&&r.a.createElement("ul",{className:"widget__list"},j(Object.entries(s),(function(e){return e[1].count})).map((function(e){var a=Object(f.a)(e,2),n=a[0],l=a[1];return r.a.createElement("li",{className:"widget__list__item",key:n},r.a.createElement("span",null,function(e){return I(e.split("-").map((function(e){return Number(e)})))>10?"Bench Boost":e}(n)),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,ne(l.count))),r.a.createElement("div",{className:"muted"},re(M(I(l.points))),","," ",B(t(l.points))," ",r.a.createElement(ut,{metric:"ppg"}))))}))))},Et="Captains",_t=function(){var e=Object(n.useContext)(ja),t=nt();if(!e)return r.a.createElement(w,{title:Et});var a=e.stats.data,l=j(Object.values(a).map((function(e){return e.map((function(e){return{player:e,data:e.data.filter((function(e){return(e.multiplier||0)>1}))}})).filter((function(e){return e.data.length>0}))})).reduce((function(e,t){return e.concat(t)}),[]),(function(e){return e.data.length}));return r.a.createElement(w,{title:Et},l.length>0&&r.a.createElement("ul",{className:"widget__list"},l.map((function(e){var a=e.data.map((function(e){return e.points}));return r.a.createElement("li",{className:"widget__list__item",key:e.player.element.id},r.a.createElement(mt,{id:e.player.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,ne(e.data.length))),r.a.createElement("div",{className:"muted"},re(M(I(a))),","," ",B(t(a))," ",r.a.createElement(ut,{metric:"ppg"}))))}))))},bt=(a(265),function(e){return r.a.createElement("div",{className:g()("change-badge",{"change-badge--negative":e.value<0})},e.value>=0?"+":"-"," ",e.renderer?e.renderer(e.value):re(M(B(Math.abs(e.value)))))}),ht="Gameweeks",yt=function(){var e=Object(n.useContext)(ja),t=Object(i.c)((function(e){return e.bootstrap.data})),a=at(),l=nt();if(!e||!t||!e.history.current.length)return r.a.createElement(w,{title:ht});var c=e.history,s=c.current.map((function(e,a){return e.points-t.events[a].average_entry_score})),o=j(c.current,(function(e){return e.rank}),"asc"),u=j(c.current,(function(e){return e.points})),m=k(u),d=S(u),p=k(o),f=S(o);return r.a.createElement(w,{title:ht},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,a("Difference to GW Average")),r.a.createElement(bt,{value:l(s)})),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Times Above GW Average"),r.a.createElement("b",null,s.filter((function(e){return e>=0})).length)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Times Below GW Average"),r.a.createElement("b",null,s.filter((function(e){return e<0})).length)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,a("GW Rank")),r.a.createElement("b",null,M(Number(B(l(c.current.map((function(e){return e.rank})))))))),m&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Gameweek"),r.a.createElement("span",null,r.a.createElement("b",null,re(m.points))," (",r.a.createElement(dt,{event:m.event}),")")),d&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Gameweek"),r.a.createElement("span",null,r.a.createElement("b",null,re(d.points))," (",r.a.createElement(dt,{event:d.event}),")")),p&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best GW Rank"),r.a.createElement("span",null,r.a.createElement("b",null,M(p.rank))," (",r.a.createElement(dt,{event:p.event}),")")),f&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst GW Rank"),r.a.createElement("span",null,r.a.createElement("b",null,M(f.rank))," (",r.a.createElement(dt,{event:f.event}),")"))))},wt="Positions",Nt=function(){var e=Object(n.useContext)(ja),t=Object(i.c)((function(e){return e.bootstrap.data})),a=nt();if(!e||!t)return r.a.createElement(w,{title:wt});var l=e.stats.data,c=Object.entries(l).reduce((function(e,t){var a=Object(f.a)(t,2),n=a[0],r=a[1];return Object(u.a)(Object(u.a)({},e),{},Object(A.a)({},n,r.length))}),{});return r.a.createElement(w,{title:wt},Object.entries(c).length>0&&r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total"),r.a.createElement("b",null,ae(x(Object.values(c),(function(e){return e})),"Player","Players"))),Object.entries(c).map((function(e){var n,c=Object(f.a)(e,2),i=c[0],s=c[1],o=l[Number(i)].map((function(e){return e.aggregates.totals.points}));return r.a.createElement("li",{className:"widget__list__item",key:i},r.a.createElement("span",null,null===(n=t.element_types.find((function(e){return e.id===Number(i)})))||void 0===n?void 0:n.plural_name),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,ae(s,"Player","Players"))),r.a.createElement("div",{className:"muted"},re(M(I(o))),","," ",B(a(o))," ",r.a.createElement(ut,{metric:"ppp"}))))}))))},Ot="Season",jt=function(e,t){return I(e.map((function(e){return e.aggregates.totals[t]})))},kt=function(){var e,t,a,l,c=Object(n.useContext)(ja),s=Object(i.c)((function(e){return e.history.data})),o=Object(i.c)((function(e){return e.entry.data}));if(!c||!o||!c.history.current.length)return r.a.createElement(w,{title:Ot});var u=c.history,m=U(c.stats.data),d=jt(m,"redCards"),p=jt(m,"yellowCards"),v=jt(m,"goals"),g=jt(m,"assists"),E=jt(m,"cleanSheets"),_=jt(m,"goalsConceded"),b=jt(m,"ownGoals"),h=jt(m,"saves"),y=jt(m,"minutes"),N=jt(m,"penaltiesMissed"),j=jt(m,"penaltiesSaved"),C=jt(m,"timesInDreamteam"),P=jt(m,"bps"),T=jt(m,"bonus"),F=x(u.current,(function(e){return e.event_transfers})),G=x(u.current,(function(e){return e.event_transfers_cost/4})),A=x(u.current,(function(e){return e.points_on_bench})),D=null===(e=m.find((function(e){return-1!==Object(O.a)(e.data).findIndex((function(e){return 3===e.multiplier}))})))||void 0===e?void 0:e.data.find((function(e){return 3===e.multiplier})),W=k(Object.entries(c.stats.chips).find((function(e){var t=Object(f.a)(e,2);t[0];return"bboost"===t[1]}))||[]),R=W?I(m.filter((function(e){var t;return((null===(t=Object(O.a)(e.data)[Number(W)-1])||void 0===t?void 0:t.position)||0)>11})).map((function(e){var t;return(null===(t=Object(O.a)(e.data)[Number(W)-1])||void 0===t?void 0:t.points)||0}))):null,L=x(m.map((function(e){return Object(O.a)(e.data).filter((function(e){return(e.rawPoints||0)>9})).length})),(function(e){return e})),K=x(m.map((function(e){return e.data.filter((function(e){return null!==e.multiplier})).length})),(function(e){return e})),H=((null===(t=S(u.current))||void 0===t?void 0:t.total_points)||0)-((null===s||void 0===s||null===(a=s.current)||void 0===a||null===(l=a.find((function(e){var t;return e.event===((null===(t=k(u.current))||void 0===t?void 0:t.event)||1)-1})))||void 0===l?void 0:l.total_points)||0);return r.a.createElement(w,{title:Ot},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Transfers Made"),r.a.createElement("span",null,r.a.createElement(dt,{target:"transfers",label:"".concat(F)}))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Hits Taken"),r.a.createElement("span",null,r.a.createElement("b",null,G)," (",re(-4*G),","," ",o.summary_overall_points>0?B(4*G/H*100):0,"%)")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Points"),r.a.createElement("b",null,re(M(H)))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Points on Bench"),r.a.createElement("b",null,re(M(A)))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Double Digit Hauls"),r.a.createElement("span",null,r.a.createElement("b",null,L),K>0&&" (".concat(B(L/K*100),"%)"))),void 0!==D&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Triple Captain Points Gained"),r.a.createElement("span",null,r.a.createElement("b",null,re((D.points||0)/3))," (",r.a.createElement(dt,{event:D.event.id}),")")),null!==R&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Bench Boost Points Gained"),r.a.createElement("span",null,r.a.createElement("b",null,re(R))," (",r.a.createElement(dt,{event:Number(W)}),")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Goals Scored"),r.a.createElement("b",null,v)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Assists"),r.a.createElement("b",null,g)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Own Goals"),r.a.createElement("b",null,b)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Goals Conceded"),r.a.createElement("b",null,_)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Clean Sheets"),r.a.createElement("b",null,E)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Saves"),r.a.createElement("b",null,h)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Penalties Missed"),r.a.createElement("b",null,N)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Penalties Saved"),r.a.createElement("b",null,j)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Minutes Played"),r.a.createElement("b",null,M(y))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Red Cards"),r.a.createElement("b",null,d)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Yellow Cards"),r.a.createElement("b",null,p)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Bonus Points"),r.a.createElement("b",null,M(T))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total BPS"),r.a.createElement("b",null,M(P))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Times in Dreamteam"),r.a.createElement("b",null,C))))},St=(a(266),function(e){return r.a.createElement("div",{className:"team"},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(e.team.code,"-66.png"),alt:e.team.short_name,className:"player__shirt"}),r.a.createElement("span",{className:"team__name"},e.team.name))}),xt=(a(267),"Teams"),Ct=function(){var e=Object(n.useContext)(ja),t=Object(i.c)((function(e){return e.bootstrap.data})),a=nt();if(!e||!t)return r.a.createElement(w,{title:xt});var l=e.stats.data,c=Object.values(l).reduce((function(e,t){return[].concat(Object(O.a)(e),Object(O.a)(t.map((function(e){return e.element.team}))))}),[]).reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(A.a)({},t,(e[Number(t)]||0)+1))}),{}),s=j(t.teams,(function(e){return c[e.id]||0})).filter((function(e){return c[e.id]>0})),o=U(l);return r.a.createElement(w,{title:xt,cssClasses:"teams-widget"},s.length>0&&r.a.createElement("ul",{className:"widget__list"},s.map((function(e){var n=o.filter((function(t){return t.element.team===e.id})),i=n.map((function(e){return e.aggregates.totals.points}));return r.a.createElement("li",{className:"teams-widget__item",key:e.id},r.a.createElement("div",{className:"teams-widget__header"},r.a.createElement(St,{team:e}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,c[e.id]||0)),r.a.createElement("div",{className:"muted"},re(I(i)),","," ",n.length>0?B(a(i)):0," ",r.a.createElement(ut,{metric:"ppp"})))),r.a.createElement("div",null,Object.entries(l).map((function(a){var n,l=Object(f.a)(a,2),c=l[0],i=l[1].filter((function(t){return t.element.team===e.id}));return i.length?r.a.createElement("div",{className:"teams-widget__position","data-position":null===(n=t.element_types.find((function(e){return e.id===Number(c)})))||void 0===n?void 0:n.plural_name_short,key:c},j(i.filter((function(t){return t.element.team===e.id})),(function(e){return e.aggregates.totals.points})).map((function(e){return r.a.createElement("div",{key:e.element.id},e.element.web_name," (",re(e.aggregates.totals.points),")")}))):null}))))}))))},Pt=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"#aaa",className:"swap-icon"},r.a.createElement("path",{d:"M21 12l-18 12v-24z"}))},Tt=(a(268),"Missed Captaincies"),Ft=function(){var e=Object(n.useContext)(ja);if(!e)return r.a.createElement(w,{title:Tt});var t=e.stats.data,a=e.history,l=U(t),c=a.current.length,i=Array.from(Array(c).keys()).map((function(e,t){return{top:k(j(l,(function(e){return e.data[t].rawPoints||0}))),captain:l.find((function(e){return(e.data[t].multiplier||0)>1}))}}));return r.a.createElement(w,{title:Tt,cssClasses:"captain-opportunity-widget"},i.length>0&&r.a.createElement("ul",{className:"widget__list"},i.map((function(e,t){if(!e.captain||!e.top)return null;var a=e.captain.data[t],n=e.top.data[t];return a.rawPoints===n.rawPoints?null:r.a.createElement("li",{className:"widget__list__item",key:a.event.id},r.a.createElement("div",{className:"captain-opportunity-widget__group"},r.a.createElement("div",{className:"captain-opportunity-widget__player"},r.a.createElement("b",null,"OUT:")," ",r.a.createElement(mt,{id:e.captain.element.id})),r.a.createElement("div",{className:"captain-opportunity-widget__player"},r.a.createElement("b",null,"IN:")," ",r.a.createElement(mt,{id:e.top.element.id}))),r.a.createElement("div",{className:"captain-opportunity-widget__swap-info"},r.a.createElement("b",null,re(2*(a.rawPoints||0)))," ",r.a.createElement(Pt,null)," ",r.a.createElement("b",null,re(2*(n.rawPoints||0))," ")," (",r.a.createElement(dt,{event:a.event.id}),")"))}))))},Mt=(a(269),function(e,t){return r.a.createElement("ul",{className:"widget__list"},e.map((function(e){var a=t(e);return a?r.a.createElement("li",{className:"widget__list__item",key:e.element.id},a):null})))}),It=function(e){var t=Object(n.useState)(""),a=Object(f.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(f.a)(i,2),o=s[0],u=s[1],m=Object(n.useCallback)((function(e){return null===e||void 0===e?void 0:e.focus()}),[]),d=Object(n.useCallback)((function(){u(!1),c("")}),[u,c]);Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&d()};return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[d]);var p=l?e.players.filter((function(e){return le(e.element.web_name).toLowerCase().includes(le(l).toLowerCase())})):e.players,v=e.players.slice(0,e.max);return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{title:e.title,cssClasses:g()("base-player-widget",e.cssClasses)},e.players.length>0&&r.a.createElement(r.a.Fragment,null,Mt(v,e.renderItem),e.players.length>e.max&&r.a.createElement(y,{label:"Show all",onClick:function(){return u(!0)}}))),o&&r.a.createElement("div",{className:"modal modal--players"},r.a.createElement("div",{className:"modal__backdrop",onClick:function(){return d()}}),r.a.createElement(w,{title:e.title,onClose:function(){return d()}},r.a.createElement(ie,{label:"Name",placeholder:"Filter by name",id:"query",value:l,onChange:function(e){return c(e)},innerRef:m}),r.a.createElement("div",{className:"widget__scroller"},p.length>0?Mt(p,e.renderItem):r.a.createElement("div",{className:"widget__empty"},"No data available.")))))},Bt=function(e){var t=Object(n.useContext)(ja);if(!t)return r.a.createElement(w,{title:e.title});var a=t.stats.data,l=j(U(a).filter((function(t){return t.aggregates.totals[e.metric]>0})),(function(t){return t.aggregates.totals[e.metric]}));return r.a.createElement(It,{title:e.title,players:l,max:5,renderItem:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:t.element.id}),r.a.createElement("b",null,ne(t.aggregates.totals[e.metric])))}})},Gt=function(e){var t=Object(n.useContext)(ja);if(!t)return r.a.createElement(w,{title:e.title});var a=t.stats.data,l=U(a).map((function(e){var t=e.aggregates.totals.selections,a=e.aggregates.totals.starts,n=e.aggregates.totals.benched;return Object(u.a)(Object(u.a)({},e),{},{benched:n,benchedPercentage:n/t*100,starts:a,startsPercentage:a/t*100})})),c=Object(O.a)(l).sort((function(e,t){var a=t.startsPercentage-e.startsPercentage;return 0===a?t.starts-e.starts:a})).filter((function(e){return e.starts>0})),i=Object(O.a)(l).sort((function(e,t){var a=t.benchedPercentage-e.benchedPercentage;return 0===a?t.benched-e.benched:a})).filter((function(e){return e.benched>0}));return r.a.createElement(It,{title:e.title,players:e.top?c:i,max:5,renderItem:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:t.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,B((e.top?t.aggregates.totals.starts:t.aggregates.totals.benched)/t.aggregates.totals.selections*100),"%")),r.a.createElement("div",{className:"muted"},ne(e.top?t.aggregates.totals.starts:t.aggregates.totals.benched))))}})},At=a(13),Dt="Overall Rank Evolution",Wt=function(){var e,t=Object(n.useContext)(ja),a=Object(i.c)((function(e){return e.bootstrap.data})),l=Object(i.c)((function(e){return e.settings.theme}));if(!t||!a||!t.history.current.length)return r.a.createElement(w,{title:Dt});var c=t.history.current.map((function(e){var t=a.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(t?T(t):e.event),value:e.overall_rank}})),s=1.05*((null===(e=k(j(Object(O.a)(c),(function(e){return e.value}))))||void 0===e?void 0:e.value)||0);return c=Object(O.a)(c).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{max:s})})),r.a.createElement(w,{title:Dt},r.a.createElement("div",{className:"chart chart--reversed"},r.a.createElement(At.d,{height:300,width:"100%"},r.a.createElement(At.b,{data:c,margin:{bottom:45,left:15,right:15}},r.a.createElement(At.a,{type:"monotone",dataKey:"max",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(At.a,{type:"monotone",dataKey:"value",stroke:"#177B47",fill:"dark"===l?"#3a4556":"#fff",fillOpacity:"1"}),r.a.createElement(At.g,{reversed:!0,tickFormatter:function(e){return function(e){return e>999999?"".concat(B(e/1e6),"M"):e>999?"".concat(B(e/1e3,0),"K"):"".concat(e)}(e)},domain:[1,s],interval:"preserveStartEnd",tickCount:10}),r.a.createElement(At.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(At.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(At.e,{isAnimationActive:!1,formatter:function(e,t){return"max"===t?[void 0,void 0]:[M(Number(e)),"Rank"]},separator:": "})))))},Rt="Gameweek Points",Lt=function(){var e=Object(n.useContext)(ja),t=Object(i.c)((function(e){return e.bootstrap.data}));if(!e||!t||!e.history.current.length)return r.a.createElement(w,{title:Rt});var a=e.history.current.map((function(e){var a=t.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(a?T(a):e.event),points:e.points,bench:e.points_on_bench}}));return r.a.createElement(w,{title:Rt},r.a.createElement("div",{className:"chart"},r.a.createElement(At.d,{height:300,width:"100%"},r.a.createElement(At.b,{data:a,margin:{bottom:45,left:15,right:15}},r.a.createElement(At.a,{type:"monotone",dataKey:"points",stroke:"#177B47",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(At.a,{type:"monotone",dataKey:"bench",stroke:"#00FF87",fill:"#00FF87",fillOpacity:"1"}),r.a.createElement(At.g,{interval:"preserveStartEnd"}),r.a.createElement(At.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(At.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(At.e,{isAnimationActive:!1,formatter:function(e,t){return[e,te(t)]},separator:": "})))))},Kt="Team Value Evolution",Ht=function(){var e=Object(n.useContext)(ja),t=Object(i.c)((function(e){return e.bootstrap.data}));if(!e||!t||!e.history.current.length)return r.a.createElement(w,{title:Kt});var a=e.history.current.map((function(e){var a=t.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(a?T(a):e.event),value:e.value+e.bank}}));return r.a.createElement(w,{title:Kt},r.a.createElement("div",{className:"chart"},r.a.createElement(At.d,{height:300,width:"100%"},r.a.createElement(At.b,{data:a,margin:{bottom:45,left:15,right:15}},r.a.createElement(At.a,{type:"monotone",dataKey:"value",stroke:"#177B47",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(At.g,{tickFormatter:function(e){return"\xa3".concat(e/10)},domain:["auto","auto"],interval:"preserveStartEnd"}),r.a.createElement(At.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(At.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(At.e,{isAnimationActive:!1,formatter:function(e,t){return["\xa3".concat(Number(e)/10),te(t)]},separator:": "})))))},Ut="Wrong Captains",Jt=function(){var e=Object(n.useContext)(ja);if(!e)return r.a.createElement(w,{title:Ut});var t=e.stats.data,a=e.history,l=U(t),c=a.current.length,i=Array.from(Array(c).keys()).map((function(e,t){return{top:k(j(l,(function(e){return e.data[t].rawPoints||0}))),captain:l.find((function(e){return(e.data[t].multiplier||0)>1}))}})).filter((function(e,t){var a,n;return((null===(a=e.top)||void 0===a?void 0:a.data[t].rawPoints)||0)>((null===(n=e.captain)||void 0===n?void 0:n.data[t].rawPoints)||0)})).reduce((function(e,t){return t.captain?Object(u.a)(Object(u.a)({},e),{},Object(A.a)({},t.captain.element.id,(e[t.captain.element.id]?e[t.captain.element.id]:0)+1)):e}),{}),s=l.reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(A.a)({},t.element.id,t.aggregates.totals.captaincies))}),{});return r.a.createElement(w,{title:Ut},Object.entries(i).length>0&&r.a.createElement("ul",{className:"widget__list"},j(Object.entries(i),(function(e){return e[1]})).map((function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return r.a.createElement("li",{className:"widget__list__item",key:a},r.a.createElement(mt,{id:Number(a)}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,n," / ",ne(s[Number(a)]))),r.a.createElement("div",{className:"muted"},B(n/s[Number(a)]*100,1),"%")))}))))},zt="Total Points Contribution",Vt=function(){var e,t,a,l=Object(n.useContext)(ja),c=Object(i.c)((function(e){return e.entry.data})),s=Object(i.c)((function(e){return e.history.data}));if(!c||!l||!s)return r.a.createElement(w,{title:zt});var o=l.history,u=l.stats.data,m=(null===(e=S(o.current))||void 0===e?void 0:e.total_points)||0,d=o.current.length>1?m-((null===s||void 0===s||null===(t=s.current)||void 0===t||null===(a=t.find((function(e){var t;return e.event===((null===(t=k(o.current))||void 0===t?void 0:t.event)||1)})))||void 0===a?void 0:a.total_points)||0):m,p=j(U(u),(function(e){return e.aggregates.totals.points}));return r.a.createElement(It,{title:zt,players:p,max:5,renderItem:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:e.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,B(e.aggregates.totals.points/d*100),"%")),r.a.createElement("div",{className:"muted"},re(e.aggregates.totals.points))))}})},qt=function(e){return 100-e.aggregates.totals.rawPoints/e.element.total_points*100},Xt=function(e){var t=Object(n.useContext)(ja);if(!t)return r.a.createElement(w,{title:e.title});var a=t.stats.data,l=t.history,c=j(U(a).filter((function(e){return e.aggregates.totals.points>0})),(function(e){return qt(e)}),e.top?"desc":"asc");return r.a.createElement(It,{title:e.title,players:c,max:15,renderItem:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:e.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,e.element.total_points>0&&"".concat(B(qt(e)),"%"))),r.a.createElement("div",{className:"muted"},re(e.element.total_points-e.aggregates.totals.rawPoints)," in"," ",ne(l.current.length-e.aggregates.totals.selections))))}})},Yt="Other Players",$t=function(){var e=Object(n.useContext)(ja);if(!e)return r.a.createElement(w,{title:Yt});var t=e.stats.tots.xi.concat(e.stats.tots.bench).map((function(e){return e.element.id})),a=j(U(e.stats.data).filter((function(e){return!t.includes(e.element.id)})),(function(e){return e.aggregates.totals.points}));return r.a.createElement(It,{title:Yt,players:a,max:15,renderItem:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:e.element.id}),r.a.createElement("b",null,re(M(e.aggregates.totals.points))))}})},Qt=function(e){var t=Object(n.useContext)(ja),a=nt();if(!t)return r.a.createElement(w,{title:e.title});var l=t.stats.data,c=U(l).sort((function(t,a){var n,r,l=t.aggregates.streaks[e.metric],c=a.aggregates.streaks[e.metric],i=(null===(n=t.aggregates.streaks[e.metric])||void 0===n?void 0:n.length)||0,s=(null===(r=a.aggregates.streaks[e.metric])||void 0===r?void 0:r.length)||0;return s-i===0?((null===c||void 0===c?void 0:c.totalPoints)||0)-((null===l||void 0===l?void 0:l.totalPoints)||0):s-i})).filter((function(t){return null!==t.aggregates.streaks[e.metric]}));return r.a.createElement(It,{title:e.title,players:c,max:5,renderItem:function(t){var n=t.aggregates.streaks[e.metric];return n?r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:t.element.id}),r.a.createElement("div",null,r.a.createElement("div",{className:"duration"},r.a.createElement(dt,{event:n.start.id})," \u2013 ",r.a.createElement(dt,{event:n.end.id})),r.a.createElement("div",{className:"muted"},e.showDetailedStats?r.a.createElement(r.a.Fragment,null,ne(n.length),", ",re(n.totalPoints||0),","," ",B(a(n.points||[]))," ",r.a.createElement(ut,{metric:"ppg"})):r.a.createElement("div",{className:"muted"},ne(n.length))))):null}})},Zt=(a(545),function(e){return r.a.createElement("div",{className:g()("checkbox",{"checkbox--reversed":e.reversed})},r.a.createElement("label",{className:"checkbox__label"},r.a.createElement("input",{type:"checkbox",className:"checkbox__element",checked:e.checked,onChange:e.onChange}),r.a.createElement("div",{className:"checkbox__visual"}),e.label))}),ea=(a(546),function(e){return r.a.createElement("div",{className:"segmented-control"},r.a.createElement("label",null,e.label),e.options.length>0&&r.a.createElement("div",{className:"segmented-control__options"},e.options.map((function(t){return r.a.createElement("div",{className:g()("segmented-control__option",{"segmented-control__option--selected":e.selected===t.value})},r.a.createElement(y,{label:t.label,onClick:function(){return e.setSelected(t.value)}}))}))))}),ta=(a(547),[{label:"Average",value:"average"},{label:"Median",value:"median"}]),aa=function(e){var t=Object(i.c)((function(e){return e.settings})),a=Object(n.useState)("dark"===t.theme),l=Object(f.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)(t.meanStrategy),u=Object(f.a)(o,2),m=u[0],d=u[1],p=Object(i.b)();return Object(n.useEffect)((function(){var t=function(t){var a;"Escape"===t.key&&(null===(a=e.onClose)||void 0===a||a.call(e))};return document.addEventListener("keyup",t),function(){return document.removeEventListener("keyup",t)}}),[e]),Object(n.useEffect)((function(){(c&&"light"===t.theme||!c&&"dark"===t.theme)&&p(et(c?"dark":"light"))}),[c,p,t.theme]),Object(n.useEffect)((function(){m!==t.meanStrategy&&p(Ze(m))}),[p,t.meanStrategy,m]),r.a.createElement(ce,{title:"Settings",onClose:function(){var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},cssClasses:"modal--settings"},r.a.createElement(ea,{label:"Display values as",options:ta,selected:m,setSelected:function(e){return d(e)}}),r.a.createElement(Zt,{label:"Use dark mode",checked:c,onChange:function(e){return s(e.target.checked)},reversed:!0}))},na="Milestones",ra=function(){var e=Object(i.c)((function(e){return e.milestones.data})),t=Object(i.c)((function(e){return e.entry.data}));return e&&t?r.a.createElement(w,{title:na},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"First Place"),r.a.createElement(bt,{value:t.summary_overall_points-e[0].total})),e.length>=2&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 10K"),r.a.createElement(bt,{value:t.summary_overall_points-e[1].total})),e.length>=3&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 100K"),r.a.createElement(bt,{value:t.summary_overall_points-e[2].total})),4===e.length&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 1M"),r.a.createElement(bt,{value:t.summary_overall_points-e[3].total})))):r.a.createElement(w,{title:na})},la=(a(548),{points:function(e){return e.aggregates.totals.points},selection:function(e){return e.aggregates.totals.selections},start:function(e){return e.aggregates.totals.starts},bench:function(e){return e.aggregates.totals.benched},alphabet:function(e){return-1*e.element.web_name.toLowerCase().charCodeAt(0)}}),ca=function(e){var t,a=Object(i.c)((function(e){return e.settings.id})),l=Object(i.c)((function(e){return e.bootstrap.data})),c=Object(n.useContext)(ja),s=nt();return r.a.createElement("div",{className:g()("player-overview",{"player-overview--cloaked":!a})},r.a.createElement("div",{className:"player-overview__container",ref:e.ref},c&&l&&Object.keys(c.stats.data).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"player-overview__header"},r.a.createElement("span",{className:"player-overview__heading"},"Player"),null===c||void 0===c||null===(t=c.history.current)||void 0===t?void 0:t.map((function(e){return r.a.createElement("span",{className:"player-overview__stat",key:e.event},"GW ",e.event,(null===c||void 0===c?void 0:c.stats.chips[e.event])&&r.a.createElement("div",null,(t=c.stats.chips[e.event],C[t]||null)));var t})),r.a.createElement("div",{className:"player-overview__totals"},r.a.createElement("span",{className:"player-overview__stat"},"Selected"),r.a.createElement("span",{className:"player-overview__stat"},"Starting"),r.a.createElement("span",{className:"player-overview__stat"},"Benched"),r.a.createElement("span",{className:"player-overview__stat"},"Points"))),r.a.createElement("ul",{className:"player-overview__list"},function(e,t,a,n){return Object.entries(e).map((function(e){var l,c=Object(f.a)(e,2),i=c[0],s=c[1];return r.a.createElement("div",{key:i},r.a.createElement("li",{className:"player-overview__category"},r.a.createElement("span",null,null===t||void 0===t||null===(l=t.element_types.find((function(e){return e.id===Number(i)})))||void 0===l?void 0:l.plural_name_short),r.a.createElement("span",null,s.length)),j(s.filter((function(e){return e.data.filter((function(e){return null!==e.multiplier})).length})),(function(e){return la[a.value](e)})).map((function(e){return r.a.createElement("li",{key:e.element.id,className:"player-overview__item"},r.a.createElement("div",{className:"player-overview__player"},r.a.createElement(mt,{id:e.element.id,extended:!0})),r.a.createElement("div",{className:"player-overview__stats"},e.data.map((function(e){return r.a.createElement("span",{key:e.event.id,className:g()("player-overview__stat",{"player-overview__stat--benched":0===e.multiplier,"player-overview__stat--triple":3===e.multiplier,"player-overview__stat--started":e.multiplier})})}))),r.a.createElement("div",{className:"player-overview__totals"},r.a.createElement("span",{className:"player-overview__stat"},r.a.createElement("div",null,r.a.createElement("b",null,e.aggregates.totals.selections)," ",r.a.createElement("span",{className:"muted"},"(",e.data.length?B(e.aggregates.totals.selections/e.data.length*100):0,"%)"))),r.a.createElement("span",{className:"player-overview__stat"},r.a.createElement("div",null,r.a.createElement("b",null,e.aggregates.totals.starts)," ",r.a.createElement("span",{className:"muted"},"(",e.data.length?B(e.aggregates.totals.starts/e.data.length*100):0,"%)"))),r.a.createElement("span",{className:"player-overview__stat"},r.a.createElement("div",null,r.a.createElement("b",null,e.aggregates.totals.benched)," ",r.a.createElement("span",{className:"muted"},"(",e.data.length?B(e.aggregates.totals.benched/e.data.length*100):0,"%)"))),r.a.createElement("span",{className:"player-overview__stat"},r.a.createElement("div",null,r.a.createElement("b",null,e.aggregates.totals.points)," ",r.a.createElement("span",{className:"muted"},"(",B(n(e.data.filter((function(e){return(e.multiplier||0)>0})).map((function(e){return e.points}))))," ",r.a.createElement(ut,{metric:"ppg"}),")")))))})))}))}(c.stats.data,l,e.sort,s))):r.a.createElement("div",{className:"player-overview__empty"},"No data available.")))},ia=(a(549),function(e,t){return r.a.createElement("ul",{className:"widget__list"},e.map((function(e){var a=t(e);return a?r.a.createElement("li",{className:"widget__list__item",key:e.id},a):null})))}),sa=function(e){var t=Object(n.useState)(""),a=Object(f.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(f.a)(i,2),o=s[0],u=s[1],m=Object(n.useCallback)((function(e){return null===e||void 0===e?void 0:e.focus()}),[]),d=Object(n.useCallback)((function(){u(!1),c("")}),[u,c]);Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&d()};return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[d]);var p=l?e.players.filter((function(e){return le(e.web_name).toLowerCase().includes(le(l).toLowerCase())})):e.players,v=e.players.slice(0,e.max);return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{title:e.title,cssClasses:g()("base-live-widget",e.cssClasses)},e.players.length>0&&r.a.createElement(r.a.Fragment,null,ia(v,e.renderItem),e.players.length>e.max&&r.a.createElement(y,{label:"Show all",onClick:function(){return u(!0)}}))),o&&r.a.createElement("div",{className:"modal modal--players"},r.a.createElement("div",{className:"modal__backdrop",onClick:function(){return d()}}),r.a.createElement(w,{title:e.title,onClose:function(){return d()}},r.a.createElement(ie,{label:"Name",placeholder:"Filter by name",id:"query",value:l,onChange:function(e){return c(e)},innerRef:m}),r.a.createElement("div",{className:"widget__scroller"},p.length>0?ia(p,e.renderItem):r.a.createElement("div",{className:"widget__empty"},"No data available.")))))},oa="Form Breakdown",ua=function(){var e,t=Object(i.c)((function(e){return e.stats.data})),a=Object(i.c)((function(e){return e.bootstrap.data}));if(!t||!a)return r.a.createElement(w,{title:oa});var n=null===(e=S(t))||void 0===e?void 0:e.pick.picks.map((function(e){return e.element})),l=j(a.elements.filter((function(e){return null===n||void 0===n?void 0:n.includes(e.id)})),(function(e){return Number(e.form)}));return r.a.createElement(sa,{title:oa,players:l,max:15,renderItem:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:e.id}),r.a.createElement("div",null,r.a.createElement("b",null,e.form)))}})},ma="Price Gains",da="Price Drops",pa=function(e){var t,a=Object(i.c)((function(e){return e.stats.data})),n=Object(i.c)((function(e){return e.bootstrap.data}));if(!a||!n)return r.a.createElement(w,{title:"gains"===e.type?ma:da});var l=null===(t=S(a))||void 0===t?void 0:t.pick.picks.map((function(e){return e.element})),c=j(n.elements.filter((function(t){return(null===l||void 0===l?void 0:l.includes(t.id))&&("gains"===e.type&&t.cost_change_event>0||"drops"===e.type&&t.cost_change_event_fall>0)})),(function(t){return Number("gains"===e.type?t.cost_change_event:t.cost_change_event_fall)}));return r.a.createElement(sa,{title:"gains"===e.type?ma:da,players:c,max:5,renderItem:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:t.id}),r.a.createElement("div",null,r.a.createElement(bt,{value:"gains"===e.type?t.cost_change_event:t.cost_change_event_fall,renderer:function(e){return"\xa3 ".concat(e/10)}})))}})},fa="Players in Doubt",va=function(){var e,t=Object(i.c)((function(e){return e.stats.data})),a=Object(i.c)((function(e){return e.bootstrap.data}));if(!t||!a)return r.a.createElement(w,{title:fa});var n=null===(e=S(t))||void 0===e?void 0:e.pick.picks.map((function(e){return e.element})),l=j(a.elements.filter((function(e){return(null===n||void 0===n?void 0:n.includes(e.id))&&null!==e.chance_of_playing_next_round})),(function(e){return Number(e.chance_of_playing_next_round)}),"asc");return r.a.createElement(sa,{title:fa,players:l,max:5,renderItem:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:e.id}),r.a.createElement("div",null,r.a.createElement("b",null,e.chance_of_playing_next_round," %")))}})},ga=(a(550),"Expected Points \u2013 This GW"),Ea="Expected Points \u2013 Next GW",_a=function(e){var t,a=Object(i.c)((function(e){return e.stats.data})),n=Object(i.c)((function(e){return e.bootstrap.data}));if(!a||!n)return r.a.createElement(w,{title:"current"===e.gw?ga:Ea});var l=null===(t=S(a))||void 0===t?void 0:t.pick.picks.map((function(e){return e.element})),c=j(n.elements.filter((function(e){return null===l||void 0===l?void 0:l.includes(e.id)})),(function(t){return Number("next"===e.gw?t.ep_next:null!==t.event_points?t.event_points-Number(t.ep_next):t.ep_this)}));return r.a.createElement(sa,{title:"current"===e.gw?ga:Ea,players:c,max:15,renderItem:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:t.id}),r.a.createElement("div",{className:"expected-points-widget__data"},r.a.createElement("b",null,re("current"===e.gw?t.ep_this:t.ep_next)),"current"===e.gw&&null!==t.event_points&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{value:t.event_points-Number(t.ep_this)}))))}})},ba="Popularity Breakdown",ha=function(){var e,t=Object(i.c)((function(e){return e.stats.data})),a=Object(i.c)((function(e){return e.bootstrap.data}));if(!t||!a)return r.a.createElement(w,{title:ba});var n=null===(e=S(t))||void 0===e?void 0:e.pick.picks.map((function(e){return e.element})),l=j(a.elements.filter((function(e){return null===n||void 0===n?void 0:n.includes(e.id)})),(function(e){return Number(e.selected_by_percent)}));return r.a.createElement(sa,{title:ba,players:l,max:5,renderItem:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:e.id}),r.a.createElement("div",null,r.a.createElement("b",null,e.selected_by_percent," %")))}})},ya="Transfers IN",wa="Transfers OUT",Na=function(e){var t,a=Object(i.c)((function(e){return e.stats.data})),n=Object(i.c)((function(e){return e.bootstrap.data}));if(!a||!n)return r.a.createElement(w,{title:"in"===e.type?ya:wa});var l=null===(t=S(a))||void 0===t?void 0:t.pick.picks.map((function(e){return e.element})),c=j(n.elements.filter((function(e){return null===l||void 0===l?void 0:l.includes(e.id)})),(function(t){return Number("in"===e.type?t.transfers_in_event:t.transfers_out)}));return r.a.createElement(sa,{title:"in"===e.type?ya:wa,players:c,max:5,renderItem:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{id:t.id}),r.a.createElement("b",null,M("in"===e.type?t.transfers_in_event:t.transfers_out)))}})},Oa=(a(551),[{value:"points",label:"Total Points"},{value:"selection",label:"Most Selected"},{value:"start",label:"Most Started"},{value:"bench",label:"Most Benched"},{value:"alphabet",label:"Alphabetically"}]),ja=r.a.createContext(void 0),ka=function(){var e,t,a,l,c,s,m=Object(n.useState)(Oa[0]),v=Object(f.a)(m,2),_=v[0],O=v[1],j=Object(n.useState)(!1),x=Object(f.a)(j,2),C=x[0],T=x[1],I=Object(n.useState)({start:0,end:37}),A=Object(f.a)(I,2),D=A[0],W=A[1],R=Object(n.useState)(void 0),L=Object(f.a)(R,2),K=L[0],H=L[1],U=Object(i.c)((function(e){return e.loading>0})),J=Object(i.c)((function(e){return e.bootstrap.data})),z=Object(i.c)((function(e){return e.stats.data})),V=Object(i.c)((function(e){return e.settings.id})),q=Object(i.c)((function(e){return e.settings.theme})),X=Object(i.c)((function(e){return e.entry.data})),Y=Object(i.c)((function(e){return e.history.data})),$=Object(o.g)().team,Q=Object(o.f)(),Z=Object(n.useState)(!$),te=Object(f.a)(Z,2),ae=te[0],ne=te[1],le=Object(n.useRef)(null),ce=Object(i.b)();Object(n.useEffect)((function(){document.documentElement.setAttribute("data-theme",q)}),[q]),Object(n.useEffect)((function(){V&&!$?Q.push("/".concat(V,"/")):$&&G($)?(ne(!1),Number($)!==V&&ce(Xe(Number($)))):Q.push("/")}),[$,Q,ce,V]),Object(n.useEffect)((function(){setTimeout((function(){le&&le.current&&le.current.scrollTo(le.current.scrollWidth,0)}),1)}),[z]),Object(n.useEffect)((function(){ne(!$)}),[$]),Object(n.useEffect)((function(){ne(!(null===X||void 0===X?void 0:X.name))}),[X]);var ie=Object(n.useRef)(b()(function(){var e=Object(p.a)(d.a.mark((function e(t,a,n,r){var l,c,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([ee(t,n,r),F(a,r)]);case 2:l=e.sent,c=Object(f.a)(l,2),i=c[0],s=c[1],H({stats:i,history:s});case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),300)).current;Object(n.useEffect)((function(){z&&J&&Y&&ie(z,Y,J,D)}),[z,J,Y,D,ie,ce]);var oe=K?((null===(e=S(K.history.current))||void 0===e?void 0:e.total_points)||0)-((null===Y||void 0===Y||null===(t=Y.current)||void 0===t||null===(a=t.find((function(e){var t;return e.event===((null===(t=k(K.history.current))||void 0===t?void 0:t.event)||1)-1})))||void 0===a?void 0:a.total_points)||0):0;return r.a.createElement(ja.Provider,{value:K},r.a.createElement("div",{className:"dashboard"},ae&&r.a.createElement(se,{onClose:function(){return ne(!1)}}),C&&r.a.createElement(aa,{onClose:function(){return T(!1)}}),r.a.createElement("div",{className:g()("dashboard__loading",{"dashboard__loading--hidden":!U})},r.a.createElement(N,null)),r.a.createElement("div",{className:"dashboard__content"},X&&r.a.createElement("header",{className:"dashboard__entry"},r.a.createElement(w,null,r.a.createElement("h1",{className:"dashboard__title"},r.a.createElement(dt,{label:X.name}),r.a.createElement("div",{className:"small muted"},re(M(oe)),X.summary_overall_rank&&J&&r.a.createElement(r.a.Fragment,null," ","\u2014 Rank ",M(X.summary_overall_rank)," (Top"," ",B(X.summary_overall_rank/J.total_players*100),"%)"))),r.a.createElement("div",null,r.a.createElement(y,{onClick:function(){return T(!0)},label:"Settings"}),void 0!==V&&r.a.createElement(y,{onClick:function(){return ne(!0)},label:"Change Team",disabled:U})))),r.a.createElement("div",{className:"dashboard__widgets"},r.a.createElement(ua,null),r.a.createElement(_a,{gw:"current"}),r.a.createElement(_a,{gw:"next"}),r.a.createElement(va,null),r.a.createElement(pa,{type:"gains"}),r.a.createElement(pa,{type:"drops"}),r.a.createElement(ha,null),r.a.createElement(Na,{type:"in"}),r.a.createElement(Na,{type:"out"})),r.a.createElement("h2",null,r.a.createElement("span",null,"Season")),r.a.createElement("div",{className:"dashboard__widgets dashboard__widgets--split"},r.a.createElement(st,null),r.a.createElement($t,null)),r.a.createElement("div",{className:"dashboard__widgets dashboard__widgets-duo"},r.a.createElement(ft,null),r.a.createElement(kt,null),r.a.createElement(lt,null),r.a.createElement(yt,null),r.a.createElement(ra,null)),r.a.createElement("h2",null,r.a.createElement("span",null,"Players")),r.a.createElement("div",{className:"dashboard__meta"},r.a.createElement("label",{className:"dashboard__meta__label"},"Sort by"),r.a.createElement(E.a,{options:Oa,value:_,onChange:function(e){return O(e)},styles:{container:function(e){return Object(u.a)(Object(u.a)({},e),{},{width:"100%"})},menu:function(e){return Object(u.a)(Object(u.a)({},e),{},{zIndex:20})}}}),r.a.createElement("div",{className:"dashboard__legend"},r.a.createElement("div",{className:"dashboard__color"},r.a.createElement("div",{className:"dashboard__color__indicator dashboard__color__indicator--started"}),"Started"),r.a.createElement("div",{className:"dashboard__color"},r.a.createElement("div",{className:"dashboard__color__indicator dashboard__color__indicator--benched"}),"Benched"),r.a.createElement("div",{className:"dashboard__color"},r.a.createElement("div",{className:"dashboard__color__indicator dashboard__color__indicator--triple"}),"TC"),r.a.createElement("div",{className:"dashboard__color"},r.a.createElement("div",{className:"dashboard__color__indicator"}),"Not Selected"))),r.a.createElement(ca,{sort:_,ref:le}),r.a.createElement("div",{className:"dashboard__widgets"},r.a.createElement(Nt,null),r.a.createElement(gt,null),r.a.createElement(Bt,{title:"Top Selections",metric:"selections"}),r.a.createElement(Bt,{title:"Top Starters",metric:"starts"}),r.a.createElement(Bt,{title:"Top Bench Players",metric:"benched"}),r.a.createElement(Gt,{title:"Most Consistent Starters",top:!0}),r.a.createElement(Gt,{title:"Most Consistent Bench Players"})),r.a.createElement("h2",null,r.a.createElement("span",null,"Teams")),r.a.createElement("div",{className:"dashboard__widgets dashboard__widgets--single"},r.a.createElement(Ct,null)),r.a.createElement("h2",null,r.a.createElement("span",null,"Captains")),r.a.createElement("div",{className:"dashboard__widgets"},r.a.createElement(_t,null),r.a.createElement(Ft,null),r.a.createElement(Jt,null)),r.a.createElement("h2",null,r.a.createElement("span",null,"Streaks")),r.a.createElement("div",{className:"dashboard__widgets"},r.a.createElement(Qt,{title:"Highest Non-Blank Streaks",metric:"nonBlank",showDetailedStats:!0}),r.a.createElement(Qt,{title:"Highest Selection Streaks",metric:"selection",showDetailedStats:!0}),r.a.createElement(Qt,{title:"Highest Start Streaks",metric:"start",showDetailedStats:!0}),r.a.createElement(Qt,{title:"Highest Bench Appearance Streaks",metric:"bench"})),r.a.createElement("h2",null,r.a.createElement("span",null,"Contributions")),r.a.createElement("div",{className:"dashboard__widgets"},r.a.createElement(Vt,null),D.end-D.start+1===(null===Y||void 0===Y||null===(l=Y.current)||void 0===l?void 0:l.length)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xt,{title:"Most Points Scored Outside of Team",top:!0}),r.a.createElement(Xt,{title:"Fewest Points Scored Outside of Team"}))),J&&P(J.events).length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,r.a.createElement("span",null,"Graphs")),r.a.createElement("div",{className:"dashboard__graphs"},r.a.createElement(Wt,null),r.a.createElement(Lt,null),r.a.createElement(Ht,null))),r.a.createElement("div",{className:"dashboard__legal"},r.a.createElement("p",null,"FPL Stats uses data from the official Premier League Fantasy API. This site is not affiliated with the Premier League.")),J&&P(J.events).length>1&&r.a.createElement("div",{className:"dashboard__slider-wrapper"},r.a.createElement(h.a,{className:"dashboard__slider",value:[D.start,D.end],min:((null===(c=k(P(J.events)))||void 0===c?void 0:c.id)||1)-1,max:((null===(s=S(P(J.events)))||void 0===s?void 0:s.id)||38)-1,onChange:function(e){var t=Object(f.a)(e,2),a=t[0],n=t[1];return W({start:a,end:n})},renderThumb:function(e,t){return r.a.createElement("div",e,"GW ",t.valueNow+1)},pearling:!0})))))},Sa=a(19),xa=Object(Sa.c)({loading:fe,bootstrap:qe,stats:Ke,settings:tt,history:ke,entry:he,milestones:Me});var Ca=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,565)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)}))};a(562);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:function(){var e=localStorage.getItem("applicationSettings"),t=null!==e&&"2"===localStorage.getItem("storageVersion")?JSON.parse(e):{},a=Object(oe.a)({reducer:xa,middleware:Object(O.a)(Object(oe.d)()),preloadedState:{settings:Object(u.a)({theme:"light",meanStrategy:"average",id:void 0,range:{start:0,end:38}},t)}});return a.subscribe((function(){var e=a.getState().settings;localStorage.setItem("storageVersion","2"),localStorage.setItem("applicationSettings",JSON.stringify({theme:e.theme,meanStrategy:e.meanStrategy}))})),a}()},r.a.createElement(s.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/:team/"},r.a.createElement(ka,null)),r.a.createElement(o.a,{path:"/",exact:!0},r.a.createElement(ka,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Ca()}},[[563,1,2]]]);
//# sourceMappingURL=main.75a41980.chunk.js.map