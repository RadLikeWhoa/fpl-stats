(this["webpackJsonpfpl-stats"]=this["webpackJsonpfpl-stats"]||[]).push([[0],{184:function(e,t,n){e.exports=n(395)},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(18),c=n.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(13),s=n(6),o=n(8),u=n(2),m=n(11),d=n.n(m),p=n(17),f=n(15),_=Object(f.b)({name:"bootstrap",initialState:{loading:!0,data:void 0},reducers:{fetchBootstrapStart:function(e){e.loading=!0},fetchBootstrapSuccess:function(e,t){e.data=t.payload,e.loading=!1}}}),E=_.actions,v=E.fetchBootstrapStart,g=E.fetchBootstrapSuccess,b=_.reducer,h=(n(194),function(e){var t=Object(u.c)((function(e){return e.bootstrap.data})),n=null===t||void 0===t?void 0:t.elements.find((function(t){return t.id===e.id})),a=null===t||void 0===t?void 0:t.teams.find((function(e){return e.id===(null===n||void 0===n?void 0:n.team)})),l=null===t||void 0===t?void 0:t.element_types.find((function(e){return e.id===(null===n||void 0===n?void 0:n.element_type)}));return r.a.createElement("div",{className:"player ".concat(e.condensed?"player--condensed":"")},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(null===a||void 0===a?void 0:a.code).concat("GKP"===(null===l||void 0===l?void 0:l.singular_name_short)?"_1":"","-66.png"),alt:null===n||void 0===n?void 0:n.web_name,className:"player__shirt"}),r.a.createElement("div",{className:"player__detail"},r.a.createElement("div",{className:"player__name"},r.a.createElement("span",null,null===n||void 0===n?void 0:n.web_name,"string"===typeof e.suffix?" (".concat(e.suffix,")"):e.suffix?e.suffix():null)),r.a.createElement("div",{className:"player__info"},r.a.createElement("span",{className:"player__team",title:null===a||void 0===a?void 0:a.name},null===a||void 0===a?void 0:a.short_name),r.a.createElement("span",{className:"player__position"},null===l||void 0===l?void 0:l.singular_name_short))))}),y=(n(195),n(196),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}))}),j=n(5),O=n.n(j),N=function(e){return r.a.createElement("div",{className:O()("widget",{"widget--cloaked":e.cloaked})},e.title&&r.a.createElement("h2",{className:"widget__title"},e.title),r.a.createElement("div",{className:"widget__content"},e.loading&&r.a.createElement("div",{className:"widget__loading"},r.a.createElement(y,null)),e.children))},w=function(e){var t=Number(e);return e&&!Number.isNaN(t)&&Number.isInteger(t)},k=n(14),S=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},x=function(e){return e.reduce((function(e,t){return e+t}),0)},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc";return"asc"===t?Object(s.a)(e).sort((function(e,t){return e-t})):Object(s.a)(e).sort((function(e,t){return t-e}))},T=function(e){return e.data.filter((function(e){return null!==e.multiplier})).length},G=function(e){return e.data.filter((function(e){return e.multiplier&&e.multiplier>0})).length},B=function(e){return e.data.filter((function(e){return 0===e.multiplier})).length},F=function(e){return e.data.reduce((function(e,t){return e+(t.points||0)}),0)},W=function(e){return e.data.reduce((function(e,t){return e+(0===t.multiplier&&t.rawPoints||0)}),0)},C=function(e){return Object.values(e).reduce((function(e,t){return e.concat(t)}),[])},M=function(e,t){return e.map((function(e){return Object(k.a)({player:e},t,e.data.reduce((function(e,n){var a,r,l,c;return"number"===typeof(null===(a=n.stats)||void 0===a?void 0:a[t])?((null===(l=n.stats)||void 0===l?void 0:l[t])||0)+e:"boolean"===typeof(null===(r=n.stats)||void 0===r?void 0:r[t])?(+(null===(c=n.stats)||void 0===c?void 0:c[t])||0)+e:e}),0))})).sort((function(e,n){return n[t]-e[t]}))},A=function(e,t){return M(e,t)[0]},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.data.reduce((function(e,a){return t(a)?n||e.length&&0!==e[e.length-1]?[].concat(Object(s.a)(e.slice(0,e.length-1)),[e[e.length-1]+1]):[].concat(Object(s.a)(e),[1]):[].concat(Object(s.a)(e),[0])}),n?[0]:[]),r=Math.max.apply(Math,Object(s.a)(a));if(0===r)return null;var l=e.data[x(a.slice(0,a.indexOf(r)).map((function(e){return e>0?e:1})))].event,c=e.data[l.id-2+r].event,i=x(e.data.slice(l.id-1,l.id-1+r).map((function(e){return e.points||0})));return{start:l,end:c,length:r,points:i}},I=function(e){return R(e,(function(e){return null!==e.multiplier}),!0)},H=function(e){return R(e,(function(e){return(e.multiplier||0)>0}),!0)},D=function(e){return R(e,(function(e){return 0===e.multiplier}),!0)},K=function(e){return R(e,(function(e){return(e.rawPoints||0)>2}))},L=function(e){var t=Date.now();return e.filter((function(e){return 1e3*e.deadline_time_epoch<t}))},U=function(e){return e.name.split(" ").pop()||""},Y={"3xc":"TC",bboost:"BB",freehit:"FH",wildcard:"WC"},J=Object(f.b)({name:"settings",initialState:{id:localStorage.getItem("id")||void 0,meanStrategy:localStorage.getItem("meanStrategy")||"average"},reducers:{setId:function(e,t){e.id=t.payload,e.id?localStorage.setItem("id",e.id):localStorage.removeItem("id")},setMeanStrategy:function(e,t){e.meanStrategy=t.payload,localStorage.setItem("meanStrategy",e.meanStrategy)}}}),z=J.actions,V=z.setId,$=(z.setMeanStrategy,J.reducer),q=(n(197),function(e){return r.a.createElement("button",{className:O()("button",{"button--secondary":e.secondary}),type:e.type||"button",onClick:e.onClick,disabled:e.disabled},e.label)}),Q=function(e){var t=r.a.useRef(null);return r.a.useEffect((function(){var n=function(n){n.target instanceof Node&&t.current&&!t.current.contains(n.target)&&e()};return t.current?document.addEventListener("click",n):document.removeEventListener("click",n),function(){return document.removeEventListener("click",n)}}),[t,e]),t},X=function(){var e=Object(u.c)((function(e){return e.settings.meanStrategy}));return function(t){return"".concat("average"===e?"Average":"Median"," ").concat(t)}},Z=function(){var e=Object(u.c)((function(e){return e.settings.meanStrategy}));return function(t){return"average"===e?function(e){return x(e)/e.length}(t):function(e){var t=P(e),n=Math.ceil(e.length/2);return t.length%2===0?(t[n]+t[n+1])/2:t[n-1]}(t)}},ee=(n(198),function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),l=n[0],c=n[1],s=Object(u.c)((function(e){return e.settings.id})),o=Object(u.b)(),m=Object(a.useCallback)((function(t){if(t){if(!s)return}else o(V(Number(l)));e.onClose&&e.onClose()}),[o,e,l,s]),d=Q((function(){return m(!0)}));return Object(a.useEffect)((function(){var e=function(e){"Escape"===e.key&&m(!0)};return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[m]),r.a.createElement("form",{onSubmit:function(e){m(!1),e.preventDefault()}},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal__element",ref:d},r.a.createElement("header",{className:"modal__header"},"Enter Your Team ID"),r.a.createElement("div",{className:"modal__body"},r.a.createElement("input",{className:"modal__input",type:"text",placeholder:"e.g. 4654486",value:l,onChange:function(e){return c(e.target.value)}})),r.a.createElement("footer",{className:"modal__footer"},r.a.createElement(q,{label:"Show Stats",type:"submit",disabled:!w(l)})))))}),te=Object(f.b)({name:"stats",initialState:{loading:!0,data:void 0,chips:void 0},reducers:{buildDataStart:function(e){e.loading=!0,e.data=void 0,e.chips=void 0},buildDataSuccess:function(e,t){e.data=t.payload.data,e.chips=t.payload.chips,e.loading=!1}}}),ne=te.actions,ae=ne.buildDataStart,re=ne.buildDataSuccess,le=function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(n,"/event/").concat(t,"/picks/"))));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/event/".concat(t,"/live/"))));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a,r,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([le(t,n),ce(t)]);case 2:return a=e.sent,r=Object(i.a)(a,2),l=r[0],c=r[1],e.abrupt("return",{pick:l,live:c});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),se=te.reducer,oe=Object(f.b)({name:"history",initialState:{loading:!0,data:void 0},reducers:{fetchHistoryStart:function(e){e.loading=!0,e.data=void 0},fetchHistorySuccess:function(e,t){e.data=t.payload,e.loading=!1}}}),ue=oe.actions,me=ue.fetchHistoryStart,de=ue.fetchHistorySuccess,pe=oe.reducer,fe=n(10),_e=n(155),Ee=n(92),ve=n.n(Ee),ge=function(){var e=Object(u.c)((function(e){return e.settings.id})),t=Object(u.c)((function(e){return e.history.data})),n=Object(u.c)((function(e){return e.history.loading})),a=X(),l=Z();if(!t)return r.a.createElement(N,{title:"Historical Data",loading:n,cloaked:!e});var c=Object(s.a)(t.past).sort((function(e,t){return e.rank-t.rank})),i=Object(s.a)(t.past).sort((function(e,t){return t.total_points-e.total_points})),o=c[0],m=c[c.length-1],d=i[0],p=i[i.length-1],f=c.filter((function(e){return e.rank<=1e3})).length,_=c.filter((function(e){return e.rank<=1e4})).length,E=c.filter((function(e){return e.rank<=1e5})).length,v=c.filter((function(e){return e.rank<=1e6})).length;return r.a.createElement(N,{title:"Historical Data",loading:n,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Season Rank"),r.a.createElement("span",null,S(o.rank)," (",o.season_name,")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Points Finish"),r.a.createElement("span",null,S(d.total_points)," (",d.season_name,")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Season Rank"),r.a.createElement("span",null,S(m.rank)," (",m.season_name,")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Points Finish"),r.a.createElement("span",null,S(p.total_points)," (",p.season_name,")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,a("Rank")),r.a.createElement("span",null,S(Math.round(l(c.map((function(e){return e.rank}))))))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,a("Points")),r.a.createElement("span",null,S(Math.round(l(i.map((function(e){return e.total_points}))))))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 1K Finishes"),r.a.createElement("span",null,f)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 10K Finishes"),r.a.createElement("span",null,_)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 100K Finishes"),r.a.createElement("span",null,E)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 1M Finishes"),r.a.createElement("span",null,v))))},be=(n(389),function(e){var t=Object(u.c)((function(e){return e.bootstrap.data})),n=null===t||void 0===t?void 0:t.elements.find((function(t){return t.id===e.id})),a=null===t||void 0===t?void 0:t.teams.find((function(e){return e.id===(null===n||void 0===n?void 0:n.team)})),l=null===t||void 0===t?void 0:t.element_types.find((function(e){return e.id===(null===n||void 0===n?void 0:n.element_type)}));return r.a.createElement("div",{className:"tots-player"},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(null===a||void 0===a?void 0:a.code).concat("GKP"===(null===l||void 0===l?void 0:l.singular_name_short)?"_1":"","-66.png"),alt:null===n||void 0===n?void 0:n.web_name,className:"tots-player__shirt"}),r.a.createElement("div",{className:"tots-player__detail"},r.a.createElement("div",{className:"tots-player__name"},r.a.createElement("span",null,null===n||void 0===n?void 0:n.web_name)),r.a.createElement("div",{className:"tots-player__points"},e.points)))}),he=(n(390),function(){var e=Object(u.c)((function(e){return e.settings.id})),t=Object(u.c)((function(e){return e.stats.data})),n=Object(u.c)((function(e){return e.stats.loading}));if(!t)return r.a.createElement(N,{title:"Team of the Season",loading:n,cloaked:!e});var a=Object(s.a)(t[1]).sort((function(e,t){return F(t)-F(e)})).slice(0,2),l=Object(s.a)(t[2]).sort((function(e,t){return F(t)-F(e)})).slice(0,5),c=Object(s.a)(t[3]).sort((function(e,t){return F(t)-F(e)})).slice(0,5),i=Object(s.a)(t[4]).sort((function(e,t){return F(t)-F(e)})).slice(0,3),o=[].concat(Object(s.a)(a.slice(0,1)),Object(s.a)(l.slice(0,3)),Object(s.a)(c.slice(0,2)),Object(s.a)(i.slice(0,1))),m=[].concat(Object(s.a)(l.slice(3)),Object(s.a)(c.slice(2)),Object(s.a)(i.slice(1))).sort((function(e,t){return F(t)-F(e)})),d=[].concat(Object(s.a)(o),Object(s.a)(m.slice(0,4))).sort((function(e,t){return e.element.element_type-t.element.element_type})),p=[].concat(Object(s.a)(a.slice(1)),Object(s.a)(m.slice(4))).sort((function(e,t){return e.element.element_type-t.element.element_type}));return r.a.createElement(N,{title:"Team of the Season",loading:n,cloaked:!e},r.a.createElement("div",{className:"tots"},r.a.createElement("div",{className:"tots__row"},d.filter((function(e){return 1===e.element.element_type})).map((function(e){return r.a.createElement(be,{id:e.element.id,points:F(e)})}))),r.a.createElement("div",{className:"tots__row"},d.filter((function(e){return 2===e.element.element_type})).map((function(e){return r.a.createElement(be,{id:e.element.id,points:F(e)})}))),r.a.createElement("div",{className:"tots__row"},d.filter((function(e){return 3===e.element.element_type})).map((function(e){return r.a.createElement(be,{id:e.element.id,points:F(e)})}))),r.a.createElement("div",{className:"tots__row"},d.filter((function(e){return 4===e.element.element_type})).map((function(e){return r.a.createElement(be,{id:e.element.id,points:F(e)})}))),r.a.createElement("div",{className:"tots__row tots__row--bench"},p.map((function(e){return r.a.createElement(be,{id:e.element.id,points:F(e)})})))))}),ye=(n(391),{ppg:"Points per Game",ppp:"Points per Player"}),je=function(e){return r.a.createElement("abbr",{className:"metric",title:ye[e.metric]},e.metric)},Oe=function(){var e=Object(u.c)((function(e){return e.stats.data})),t=Object(u.c)((function(e){return e.stats.loading})),n=Object(u.c)((function(e){return e.settings.id})),a=Object(u.c)((function(e){return e.history.data})),l=Object(u.c)((function(e){return e.history.loading}));if(!a||!e)return r.a.createElement(N,{title:"Player Stats",loading:l||t,cloaked:!n});var c=C(e),i=A(c,"red_cards"),m=A(c,"yellow_cards"),d=A(c,"goals_scored"),p=A(c,"assists"),f=A(c,"clean_sheets"),_=A(c,"goals_conceded"),E=A(c,"own_goals"),v=A(c,"saves"),g=A(c,"minutes"),b=A(c,"penalties_missed"),y=A(c,"penalties_saved"),j=A(c,"in_dreamteam"),O=A(c,"bps"),w=A(c,"bonus"),k=c.map((function(e){return{player:e,captaincies:e.data.filter((function(e){return e.multiplier&&e.multiplier>1})).length}})).sort((function(e,t){return t.captaincies-e.captaincies}))[0],x=c.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{data:Object(s.a)(e.data).sort((function(e,t){return(t.points||0)-(e.points||0)}))})})).sort((function(e,t){return(t.data[0].points||0)-(e.data[0].points||0)}))[0],P=c.sort((function(e,t){return F(t)-F(e)}))[0],T=c.sort((function(e,t){return W(t)-W(e)}))[0];return r.a.createElement(N,{title:"Player Stats",loading:l||t,cloaked:!n},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top GW Returner"),r.a.createElement("span",null,r.a.createElement(h,{id:x.element.id,suffix:function(){return r.a.createElement(r.a.Fragment,null," ","(",x.data[0].points," pts,"," ",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(x.data[0].event.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",x.data[0].event.id),")")},condensed:!0}))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top Season Returner"),r.a.createElement("span",null,r.a.createElement(h,{id:P.element.id,suffix:function(){return r.a.createElement(r.a.Fragment,null," ","(",F(P)," pts,"," ",(F(P)/G(P)).toFixed(1)," ",r.a.createElement(je,{metric:"ppg"}),")")},condensed:!0}))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Points While Benched"),r.a.createElement(h,{id:T.element.id,suffix:function(){return r.a.createElement(r.a.Fragment,null," ","(",W(T)," pts,"," ",(W(T)/T.data.filter((function(e){return 0===e.multiplier})).length).toFixed(1)," ",r.a.createElement(je,{metric:"ppg"}),")")},condensed:!0})),i.red_cards>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Red Cards"),r.a.createElement(h,{id:i.player.element.id,suffix:"".concat(i.red_cards),condensed:!0})),m.yellow_cards>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Yellow Cards"),r.a.createElement(h,{id:m.player.element.id,suffix:"".concat(m.yellow_cards),condensed:!0})),d.goals_scored>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top Scorer"),r.a.createElement(h,{id:d.player.element.id,suffix:"".concat(d.goals_scored),condensed:!0})),p.assists>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Assists"),r.a.createElement(h,{id:p.player.element.id,suffix:"".concat(p.assists),condensed:!0})),w.bonus>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Bonus Points"),r.a.createElement(h,{id:w.player.element.id,suffix:"".concat(w.bonus),condensed:!0})),O.bps>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Highest Total BPS"),r.a.createElement(h,{id:O.player.element.id,suffix:"".concat(O.bps),condensed:!0})),f.clean_sheets>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Clean Sheets"),r.a.createElement(h,{id:f.player.element.id,suffix:"".concat(f.clean_sheets),condensed:!0})),_.goals_conceded>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Goals Conceded"),r.a.createElement(h,{id:_.player.element.id,suffix:"".concat(_.goals_conceded),condensed:!0})),v.saves>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Saves"),r.a.createElement(h,{id:v.player.element.id,suffix:"".concat(v.saves),condensed:!0})),E.own_goals>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Own Goals"),r.a.createElement(h,{id:E.player.element.id,suffix:"".concat(E.own_goals),condensed:!0})),b.penalties_missed>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Penalties Missed"),r.a.createElement(h,{id:b.player.element.id,suffix:"".concat(b.penalties_missed),condensed:!0})),y.penalties_saved>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Penalties Saved"),r.a.createElement(h,{id:y.player.element.id,suffix:"".concat(y.penalties_saved),condensed:!0})),g.minutes>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Minutes"),r.a.createElement(h,{id:g.player.element.id,suffix:"".concat(S(g.minutes)),condensed:!0})),j.in_dreamteam>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Times in Dreamteam"),r.a.createElement(h,{id:j.player.element.id,suffix:"".concat(j.in_dreamteam),condensed:!0})),k.captaincies>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Captaincies"),r.a.createElement(h,{id:k.player.element.id,suffix:"".concat(k.captaincies),condensed:!0}))))},Ne=function(){var e=Object(u.c)((function(e){return e.settings.id})),t=Object(u.c)((function(e){return e.stats.data})),n=Object(u.c)((function(e){return e.stats.loading})),a=Object(u.c)((function(e){return e.history.data})),l=Object(u.c)((function(e){return e.history.loading}));if(!t||!a)return r.a.createElement(N,{title:"Formations",loading:n||l,cloaked:!e});var c=a.current.length,s=Object.values(t).map((function(e){var t=e.map((function(e){return e.data.map((function(e){return e.multiplier}))}));return Array.from(Array(c).keys()).map((function(e,n){return t.map((function(e){return(e[n]||0)>0})).filter((function(e){return!!e})).length}))})).slice(1),m=Array.from(Array(c).keys()).map((function(e,t){return s.map((function(e){return e[t]})).join("-")})).reduce((function(e,t,n){return e[t]?Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},t,{count:e[t].count+1,points:e[t].points+a.current[n].points})):Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},t,{count:1,points:a.current[n].points}))}),{});return r.a.createElement(N,{title:"Formations",loading:n||l,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},Object.entries(m).sort((function(e,t){return t[1].count-e[1].count})).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,function(e){return x(e.split("-").map((function(e){return Number(e)})))>10?"Bench Boost":e}(n)),r.a.createElement("span",null,a.count," (",S(a.points)," pts, ",(a.points/a.count).toFixed(1)," ",r.a.createElement(je,{metric:"ppg"}),")"))}))))},we=function(){var e=Object(u.c)((function(e){return e.settings.id})),t=Object(u.c)((function(e){return e.stats.data})),n=Object(u.c)((function(e){return e.stats.loading}));if(!t)return r.a.createElement(N,{title:"Captains",loading:n,cloaked:!e});var a=Object.values(t).map((function(e){return e.map((function(e){return{player:e,data:e.data.filter((function(e){return(e.multiplier||0)>1}))}})).filter((function(e){return e.data.length>0}))})).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return t.data.length-e.data.length}));return r.a.createElement(N,{title:"Captains",loading:n,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},a.map((function(e){var t=x(e.data.map((function(e){return e.points||0})));return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(h,{id:e.player.element.id}),r.a.createElement("span",null,e.data.length," (",S(t)," pts, ",(t/e.data.length).toFixed(1)," ",r.a.createElement(je,{metric:"ppg"}),")"))}))))},ke=function(){var e=Object(u.c)((function(e){return e.settings.id})),t=Object(u.c)((function(e){return e.history.data})),n=Object(u.c)((function(e){return e.history.loading})),a=Object(u.c)((function(e){return e.bootstrap.data})),l=Object(u.c)((function(e){return e.bootstrap.loading})),c=X(),i=Z();if(!t||!a)return r.a.createElement(N,{title:"Gameweeks",loading:n||l,cloaked:!e});var o=t.current.map((function(e,t){return e.points-a.events[t].average_entry_score})),m=Object(s.a)(t.current).sort((function(e,t){return e.rank-t.rank})),d=Object(s.a)(t.current).sort((function(e,t){return t.points-e.points})),p=d[0],f=d[d.length-1];return r.a.createElement(N,{title:"Gameweeks",loading:n||l,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,c("Difference to GW Average")),r.a.createElement("span",null,i(o).toFixed(1)," pts")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Times Above GW Average"),r.a.createElement("span",null,o.filter((function(e){return e>=0})).length)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Times Below GW Average"),r.a.createElement("span",null,o.filter((function(e){return e<0})).length)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,c("GW Rank")),r.a.createElement("span",null,S(Math.round(i(t.current.map((function(e){return e.rank}))))))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Gameweek"),r.a.createElement("span",null,p.points," pts"," ","(",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(e,"/event/").concat(p.event,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",p.event),")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Gameweek"),r.a.createElement("span",null,f.points," pts"," ","(",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(e,"/event/").concat(f.event,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",f.event),")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best GW Rank"),r.a.createElement("span",null,S(m[0].rank)," ","(",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(e,"/event/").concat(m[0].event,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",m[0].event),")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst GW Rank"),r.a.createElement("span",null,S(m[m.length-1].rank)," ","(",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(e,"/event/").concat(m[m.length-1].event,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",m[m.length-1].event),")"))))},Se=function(){var e=Object(u.c)((function(e){return e.settings.id})),t=Object(u.c)((function(e){return e.stats.data})),n=Object(u.c)((function(e){return e.stats.loading})),a=Object(u.c)((function(e){return e.bootstrap.data})),l=Object(u.c)((function(e){return e.bootstrap.loading})),c=Z();if(!t||!a)return r.a.createElement(N,{title:"Positions",loading:n||l,cloaked:!e});var s=Object.entries(t).reduce((function(e,t){var n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},a,r.length))}),{});return r.a.createElement(N,{title:"Positions",loading:n||l,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total"),r.a.createElement("span",null,Object.values(s).reduce((function(e,t){return e+t}),0))),Object.entries(s).map((function(e){var n,l=Object(i.a)(e,2),s=l[0],o=l[1],u=t[Number(s)].map((function(e){return F(e)}));return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,null===(n=a.element_types.find((function(e){return e.id===Number(s)})))||void 0===n?void 0:n.plural_name),r.a.createElement("span",null,o," ","(",S(x(u))," pts, ",c(u).toFixed(1)," ",r.a.createElement(je,{metric:"ppp"}),")"))}))))},xe=Object(f.b)({name:"entry",initialState:{loading:!0,data:void 0},reducers:{fetchEntryStart:function(e){e.loading=!0,e.data=void 0},fetchEntrySuccess:function(e,t){e.data=t.payload,e.loading=!1}}}),Pe=xe.actions,Te=Pe.fetchEntryStart,Ge=Pe.fetchEntrySuccess,Be=xe.reducer,Fe=function(){var e,t,n=Object(u.c)((function(e){return e.settings.id})),a=Object(u.c)((function(e){return e.stats.data})),l=Object(u.c)((function(e){return e.stats.chips})),c=Object(u.c)((function(e){return e.stats.loading})),s=Object(u.c)((function(e){return e.history.data})),o=Object(u.c)((function(e){return e.history.loading}));if(!a||!s||!l)return r.a.createElement(N,{title:"Season",loading:c||o,cloaked:!n});var m=C(a),d=M(m,"red_cards").map((function(e){return e.red_cards})),p=M(m,"yellow_cards").map((function(e){return e.yellow_cards})),f=M(m,"goals_scored").map((function(e){return e.goals_scored})),_=M(m,"assists").map((function(e){return e.assists})),E=M(m,"clean_sheets").map((function(e){return e.clean_sheets})),v=M(m,"goals_conceded").map((function(e){return e.goals_conceded})),g=M(m,"own_goals").map((function(e){return e.own_goals})),b=M(m,"saves").map((function(e){return e.saves})),h=M(m,"minutes").map((function(e){return e.minutes})),y=M(m,"penalties_missed").map((function(e){return e.penalties_missed})),j=M(m,"penalties_saved").map((function(e){return e.penalties_saved})),O=M(m,"in_dreamteam").map((function(e){return e.in_dreamteam})),w=M(m,"bps").map((function(e){return e.bps})),k=M(m,"bonus").map((function(e){return e.bonus})),P=s.current.reduce((function(e,t){return e+t.event_transfers}),0),T=s.current.reduce((function(e,t){return e+t.event_transfers_cost/4}),0),G=s.current.reduce((function(e,t){return e+t.points_on_bench}),0),B=null===(e=m.find((function(e){return-1!==e.data.findIndex((function(e){return 3===e.multiplier}))})))||void 0===e?void 0:e.data.find((function(e){return 3===e.multiplier})),F=null===(t=Object.entries(l).find((function(e){var t=Object(i.a)(e,2);t[0];return"bboost"===t[1]})))||void 0===t?void 0:t[0],W=F?x(m.filter((function(e){return(e.data[Number(F)-1].position||0)>11})).map((function(e){return e.data[Number(F)-1].points||0}))):null;return r.a.createElement(N,{title:"Season",loading:c||o,cloaked:!n},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Transfers Made"),r.a.createElement("span",null,r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/transfers"),target:"_blank",rel:"noopener noreferrer"},P))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Hits Taken"),r.a.createElement("span",null,T," (",-4*T," pts)")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Points on Bench"),r.a.createElement("span",null,G," pts")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Red Cards"),r.a.createElement("span",null,x(d))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Yellow Cards"),r.a.createElement("span",null,x(p))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Goals Scored"),r.a.createElement("span",null,x(f))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Goals Conceded"),r.a.createElement("span",null,x(v))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Assists"),r.a.createElement("span",null,x(_))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Clean Sheets"),r.a.createElement("span",null,x(E))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Own Goals"),r.a.createElement("span",null,x(g))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Saves"),r.a.createElement("span",null,x(b))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Minutes Played"),r.a.createElement("span",null,S(x(h)))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Penalties Missed"),r.a.createElement("span",null,x(y))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Penalties Saved"),r.a.createElement("span",null,x(j))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Times in Dreamteam"),r.a.createElement("span",null,x(O))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total BPS"),r.a.createElement("span",null,S(x(w)))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Bonus Points"),r.a.createElement("span",null,S(x(k)))),void 0!==B&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Triple Captain Points Gained"),r.a.createElement("span",null,(B.points||0)/3," pts (",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(B.event.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",B.event.id),")")),null!==W&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Bench Boost Points Gained"),r.a.createElement("span",null,W," pts (",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(F,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",F),")"))))},We=(n(392),function(e){return r.a.createElement("div",{className:"team"},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(e.team.code,"-66.png"),alt:e.team.short_name,className:"player__shirt"}),r.a.createElement("span",{className:"team__name"},e.team.name))}),Ce=function(){var e=Object(u.c)((function(e){return e.settings.id})),t=Object(u.c)((function(e){return e.stats.data})),n=Object(u.c)((function(e){return e.stats.loading})),a=Object(u.c)((function(e){return e.bootstrap.data})),l=Object(u.c)((function(e){return e.bootstrap.loading}));if(!t||!a)return r.a.createElement(N,{title:"Teams",loading:n||l,cloaked:!e});var c=Object.values(t).reduce((function(e,t){return[].concat(Object(s.a)(e),Object(s.a)(t.map((function(e){return e.element.team}))))}),[]).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},t,(e[Number(t)]||0)+1))}),{}),i=Object(s.a)(a.teams).sort((function(e,t){return(c[t.id]||0)-(c[e.id]||0)})),m=C(t);return r.a.createElement(N,{title:"Teams",loading:n||l,cloaked:!e},r.a.createElement("ul",{className:"widget__list"},i.map((function(e){var t=m.filter((function(t){return t.element.team===e.id})),n=x(t.map((function(e){return F(e)}))),l=a.element_types.reduce((function(e,n){return Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},n.id,t.filter((function(e){return e.element.element_type===n.id})).length))}),{});return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(We,{team:e}),r.a.createElement("span",null,c[e.id]||0," ","(",Object.values(l).join("-"),","," ",n," pts, ",t.length?(n/t.length).toFixed(1):0," ",r.a.createElement(je,{metric:"ppp"}),")"))}))))},Me=(n(393),function(){var e=Object(u.c)((function(e){return e.stats.data})),t=Object(u.c)((function(e){return e.stats.loading})),n=Object(u.c)((function(e){return e.settings.id}));if(!e)return r.a.createElement(N,{title:"Highest Non-Blank Streaks",loading:t,cloaked:!n});var a=C(e).sort((function(e,t){var n,a,r=K(e),l=K(t),c=(null===(n=K(e))||void 0===n?void 0:n.length)||0,i=(null===(a=K(t))||void 0===a?void 0:a.length)||0;return i-c===0?((null===l||void 0===l?void 0:l.points)||0)-((null===r||void 0===r?void 0:r.points)||0):i-c})).slice(0,10);return r.a.createElement(N,{title:"Highest Non-Blank Streaks",loading:t,cloaked:!n},r.a.createElement("ul",{className:"widget__list"},a.map((function(e){var t=K(e);return t?r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(h,{id:e.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(t.start.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",t.start.id)," \u2013 ",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(t.end.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",t.end.id)),r.a.createElement("div",null,"(",t.length," GWs, ",t.points," pts, ",((t.points||0)/t.length).toFixed(1)," ",r.a.createElement(je,{metric:"ppg"}),")"))):null}))))}),Ae=function(){var e=Object(u.c)((function(e){return e.stats.data})),t=Object(u.c)((function(e){return e.stats.loading})),n=Object(u.c)((function(e){return e.settings.id}));if(!e)return r.a.createElement(N,{title:"Highest Selection Streaks",loading:t,cloaked:!n});var a=C(e).sort((function(e,t){var n,a,r=I(e),l=I(t),c=(null===(n=I(e))||void 0===n?void 0:n.length)||0,i=(null===(a=I(t))||void 0===a?void 0:a.length)||0;return i-c===0?((null===l||void 0===l?void 0:l.points)||0)-((null===r||void 0===r?void 0:r.points)||0):i-c})).slice(0,10);return r.a.createElement(N,{title:"Highest Selection Streaks",loading:t,cloaked:!n},r.a.createElement("ul",{className:"widget__list"},a.map((function(e){var t=I(e);return t?r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(h,{id:e.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(t.start.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",t.start.id)," \u2013 ",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(t.end.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",t.end.id)),r.a.createElement("div",null,"(",t.length," GWs, ",t.points," pts, ",((t.points||0)/t.length).toFixed(1)," ",r.a.createElement(je,{metric:"ppg"}),")"))):null}))))},Re=function(){var e=Object(u.c)((function(e){return e.stats.data})),t=Object(u.c)((function(e){return e.stats.loading})),n=Object(u.c)((function(e){return e.settings.id}));if(!e)return r.a.createElement(N,{title:"Highest Start Streaks",loading:t,cloaked:!n});var a=C(e).sort((function(e,t){var n,a,r=H(e),l=H(t),c=(null===(n=H(e))||void 0===n?void 0:n.length)||0,i=(null===(a=H(t))||void 0===a?void 0:a.length)||0;return i-c===0?((null===l||void 0===l?void 0:l.points)||0)-((null===r||void 0===r?void 0:r.points)||0):i-c})).slice(0,10);return r.a.createElement(N,{title:"Highest Start Streaks",loading:t,cloaked:!n},r.a.createElement("ul",{className:"widget__list"},a.map((function(e){var t=H(e);return t?r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(h,{id:e.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(t.start.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",t.start.id)," \u2013 ",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(t.end.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",t.end.id)),r.a.createElement("div",null,"(",t.length," GWs, ",t.points," pts, ",((t.points||0)/t.length).toFixed(1)," ",r.a.createElement(je,{metric:"ppg"}),")"))):null}))))},Ie=function(){var e=Object(u.c)((function(e){return e.stats.data})),t=Object(u.c)((function(e){return e.stats.loading})),n=Object(u.c)((function(e){return e.settings.id}));if(!e)return r.a.createElement(N,{title:"Highest Bench Appearance Streaks",loading:t,cloaked:!n});var a=C(e).sort((function(e,t){var n,a;return((null===(n=D(t))||void 0===n?void 0:n.length)||0)-((null===(a=D(e))||void 0===a?void 0:a.length)||0)})).slice(0,10);return r.a.createElement(N,{title:"Highest Bench Appearance Streaks",loading:t,cloaked:!n},r.a.createElement("ul",{className:"widget__list"},a.map((function(e){var t=D(e);return t?r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(h,{id:e.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(t.start.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",t.start.id)," \u2013 ",r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(n,"/event/").concat(t.end.id,"/"),target:"_blank",rel:"noopener noreferrer"},"GW ",t.end.id)),r.a.createElement("div",null,"(",t.length," GWs)"))):null}))))},He={points:F,selection:T,start:G,bench:B,alphabet:function(e){return-1*e.element.web_name.toLowerCase().charCodeAt(0)}},De=[{value:"points",label:"Total Points"},{value:"selection",label:"Most Selected"},{value:"start",label:"Most Started"},{value:"bench",label:"Most Benched"},{value:"alphabet",label:"Alphabetically"}],Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.values(e).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){var t=T(e),n=B(e),a=G(e);return Object(o.a)(Object(o.a)({},e),{},{benched:n,benchedPercentage:n/t*100,starts:a,startsPercentage:a/t*100})})),a=Object(s.a)(n).sort((function(e,t){var n=t.startsPercentage-e.startsPercentage;return 0===n?t.starts-e.starts:n})),l=Object(s.a)(n).sort((function(e,t){var n=t.benchedPercentage-e.benchedPercentage;return 0===n?t.benched-e.benched:n}));return r.a.createElement("ul",{className:"widget__list"},t&&a.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(h,{id:e.element.id}),r.a.createElement("span",null,e.startsPercentage.toFixed(1),"% (",e.starts,")"))})),!t&&l.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(h,{id:e.element.id}),r.a.createElement("span",null,e.benchedPercentage.toFixed(1),"% (",e.benched,")"))})))},Le=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(De[0]),m=Object(i.a)(c,2),f=m[0],_=m[1],E=Object(u.c)((function(e){return e.bootstrap.data})),b=Object(u.c)((function(e){return e.bootstrap.loading})),j=Object(u.c)((function(e){return e.stats.data})),x=Object(u.c)((function(e){return e.stats.chips})),P=Object(u.c)((function(e){return e.stats.loading})),W=Object(u.c)((function(e){return e.settings.id})),C=Object(u.c)((function(e){return e.history.data})),M=Object(u.c)((function(e){return e.history.loading})),A=Object(u.c)((function(e){return e.entry.data})),R=Object(a.useRef)(null),I=Object(u.b)();return Object(a.useEffect)((function(){I(function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v()),e.next=3,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/bootstrap-static/")));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t(g(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var e=ve.a.parse(window.location.hash);e.team&&w(e.team)&&I(V(e.team))}),[I]),Object(a.useEffect)((function(){setTimeout((function(){R&&R.current&&R.current.scrollTo(R.current.scrollWidth,0)}),1)}),[j]),Object(a.useEffect)((function(){l(!W),E&&W&&(I(function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(a){var r,l,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ae()),n.next=3,Promise.all(L(e.events).map(function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(n.id,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:r=n.sent,l={},c={},r.forEach((function(t){t.pick.active_chip&&(c[t.pick.entry_history.event]=t.pick.active_chip),t.pick.picks.forEach((function(n){var a,r;l[n.element]||(l[n.element]={element:e.elements.find((function(e){return e.id===n.element})),data:e.events.filter((function(e){return e.id<t.pick.entry_history.event})).map((function(e){return{event:e,multiplier:null,points:null,rawPoints:null,stats:null,position:null}}))});var c=(null===(a=t.live.elements.find((function(e){return e.id===n.element})))||void 0===a?void 0:a.stats.total_points)||null;l[n.element]=Object(o.a)(Object(o.a)({},l[n.element]),{},{data:[].concat(Object(s.a)(l[n.element].data),[{event:e.events.find((function(e){return e.id===t.pick.entry_history.event})),multiplier:n.multiplier,points:null!==c?c*n.multiplier:c,rawPoints:c,stats:(null===(r=t.live.elements.find((function(e){return e.id===n.element})))||void 0===r?void 0:r.stats)||null,position:n.position}])})})),Object.keys(l).forEach((function(n){var a=Number(n);l[a].data.length<t.pick.entry_history.event&&(l[a]=Object(o.a)(Object(o.a)({},l[a]),{},{data:[].concat(Object(s.a)(l[a].data),[{event:e.events.find((function(e){return e.id===t.pick.entry_history.event})),multiplier:null,points:null,rawPoints:null,stats:null,position:null}])}))}))})),a(re({data:Object.values(l).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(k.a)({},t.element.element_type,[].concat(Object(s.a)(e[t.element.element_type]||[]),[t])))}),{}),chips:c}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(E,W)),I(function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(me()),t.next=3,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(e,"/history/"))));case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,n(de(r));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(W)),I(function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Te()),t.next=3,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(e,"/"))));case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,n(Ge(r));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(W)),window.location.hash=ve.a.stringify({team:W}))}),[W,I,E]),r.a.createElement("div",{className:"app"},n&&r.a.createElement(ee,{onClose:function(){return l(!1)}}),r.a.createElement("div",{className:O()("app__loading",{"app__loading--hidden":!b})},r.a.createElement(y,null)),r.a.createElement("div",{className:"app__content"},A&&r.a.createElement("header",{className:"dashboard__entry"},r.a.createElement(N,null,r.a.createElement("h1",{className:"dashboard__title"},r.a.createElement("a",{href:"https://fantasy.premierleague.com/entry/".concat(W,"/"),target:"_blank",rel:"noopener noreferrer"},A.name),r.a.createElement("div",{className:"small"},A.summary_overall_points," pts \u2014 Rank ",S(A.summary_overall_rank))),void 0!==W&&r.a.createElement(q,{onClick:function(){return l(!0)},label:"Change Team"}))),r.a.createElement("div",{className:"dashboard__widgets dashboard__widgets--split"},r.a.createElement(he,null),r.a.createElement(Oe,null)),r.a.createElement("div",{className:"app__meta"},r.a.createElement("label",{className:"app__meta__label"},"Sort by"),r.a.createElement(_e.a,{options:De,value:f,onChange:function(e){return _(e)},styles:{container:function(e){return Object(o.a)(Object(o.a)({},e),{},{width:"100%"})},menu:function(e){return Object(o.a)(Object(o.a)({},e),{},{zIndex:20})}}}),r.a.createElement("div",{className:"app__legend"},r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator app__color__indicator--started"}),"Started"),r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator app__color__indicator--benched"}),"Benched"),r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator app__color__indicator--triple"}),"TC"),r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator"}),"Not Selected"))),r.a.createElement("div",{className:O()("dashboard",{"dashboard--cloaked":!W})},P&&r.a.createElement("div",{className:"dashboard__loading"},r.a.createElement(y,null)),r.a.createElement("div",{className:"dashboard__container",ref:R},r.a.createElement("header",{className:"dashboard__header"},r.a.createElement("span",{className:"dashboard__heading"},"Player"),(null===E||void 0===E?void 0:E.events)&&L(E.events).filter((function(e){return e.top_element_info.points>0})).map((function(e){return r.a.createElement("span",{className:"dashboard__stat",key:e.id},U(e),x&&x[e.id]&&r.a.createElement("div",null,(t=x[e.id],Y[t]||null)));var t})),r.a.createElement("div",{className:"dashboard__totals"},r.a.createElement("span",{className:"dashboard__stat"},"Selected"),r.a.createElement("span",{className:"dashboard__stat"},"Starting"),r.a.createElement("span",{className:"dashboard__stat"},"Benched"),r.a.createElement("span",{className:"dashboard__stat"},"Points"))),r.a.createElement("ul",{className:"dashboard__list"},j&&Object.entries(j).map((function(e){var t,n=Object(i.a)(e,2),a=n[0],l=n[1];return r.a.createElement("div",{key:a},r.a.createElement("li",{className:"dashboard__category"},r.a.createElement("span",null,null===E||void 0===E||null===(t=E.element_types.find((function(e){return e.id===Number(a)})))||void 0===t?void 0:t.plural_name_short),r.a.createElement("span",null,l.length)),l.filter((function(e){return e.data.filter((function(e){return null!==e.multiplier})).length})).sort((function(e,t){return He[f.value](t)-He[f.value](e)})).map((function(e){return r.a.createElement("li",{key:e.element.id,className:"dashboard__item"},r.a.createElement("div",{className:"dashboard__player"},r.a.createElement(h,{id:e.element.id})),r.a.createElement("div",{className:"dashboard__stats"},e.data.map((function(e){return r.a.createElement("span",{key:e.event.id,className:O()("dashboard__stat",{"dashboard__stat--benched":0===e.multiplier,"dashboard__stat--triple":3===e.multiplier,"dashboard__stat--started":e.multiplier})})}))),r.a.createElement("div",{className:"dashboard__totals"},r.a.createElement("span",{className:"dashboard__stat"},T(e)," (",(T(e)/e.data.length*100).toFixed(1),"%)"),r.a.createElement("span",{className:"dashboard__stat"},G(e)," (",(G(e)/e.data.length*100).toFixed(1),"%)"),r.a.createElement("span",{className:"dashboard__stat"},B(e)," (",(B(e)/e.data.length*100).toFixed(1),"%)"),r.a.createElement("span",{className:"dashboard__stat"},r.a.createElement("span",null,F(e)," (",G(e)>0?(F(e)/G(e)).toFixed(1):0," ",r.a.createElement(je,{metric:"ppg"}),")"))))})))}))))),r.a.createElement("div",{className:"dashboard__widgets"},r.a.createElement(N,{title:"Top Selections",loading:P,cloaked:!W},j&&function(e){var t=Object.values(e).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return T(t)-T(e)}));return r.a.createElement("ul",{className:"widget__list"},t.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(h,{id:e.element.id}),T(e))})))}(j)),r.a.createElement(N,{title:"Top Starters",loading:P,cloaked:!W},j&&function(e){var t=Object.values(e).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return G(t)-G(e)}));return r.a.createElement("ul",{className:"widget__list"},t.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(h,{id:e.element.id}),G(e))})))}(j)),r.a.createElement(N,{title:"Top Bench Players",loading:P,cloaked:!W},j&&function(e){var t=Object.values(e).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return B(t)-B(e)}));return r.a.createElement("ul",{className:"widget__list"},t.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item"},r.a.createElement(h,{id:e.element.id}),B(e))})))}(j)),r.a.createElement(N,{title:"Most Consistent Starters",loading:P,cloaked:!W},j&&Ke(j,!0)),r.a.createElement(N,{title:"Most Consistent Bench Players",loading:P,cloaked:!W},j&&Ke(j)),r.a.createElement(Ce,null),r.a.createElement(Se,null),r.a.createElement(ge,null),r.a.createElement(Ne,null),r.a.createElement(we,null),r.a.createElement(ke,null),r.a.createElement(Fe,null),r.a.createElement(Me,null),r.a.createElement(Ae,null),r.a.createElement(Re,null),r.a.createElement(Ie,null)),r.a.createElement("div",{className:"dashboard__graphs"},r.a.createElement(N,{title:"Overall Rank Evolution",loading:M,cloaked:!W},C&&E&&function(e,t){var n=e.current.map((function(e){var n=t.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(n?U(n):e.event),value:e.overall_rank}})),a=1.05*Object(s.a)(n).sort((function(e,t){return t.value-e.value}))[0].value;return n=Object(s.a)(n).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{max:a})})),r.a.createElement("div",{className:"chart chart--reversed"},r.a.createElement(fe.d,{height:300,width:"100%"},r.a.createElement(fe.b,{data:n,margin:{bottom:45,left:15,right:15}},r.a.createElement(fe.a,{type:"monotone",dataKey:"max",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(fe.a,{type:"monotone",dataKey:"value",stroke:"#177B47",fill:"#ffffff",fillOpacity:"1"}),r.a.createElement(fe.g,{reversed:!0,tickFormatter:function(e){return function(e){return e>999999?"".concat((e/1e6).toFixed(1),"M"):e>999?"".concat((e/1e3).toFixed(0),"K"):"".concat(e)}(e)},domain:[1,a],interval:"preserveStartEnd",tickCount:10}),r.a.createElement(fe.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(fe.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(fe.e,{isAnimationActive:!1,formatter:function(e,t){return"max"===t?[void 0,void 0]:[S(Number(e)),"Rank"]},separator:": "}))))}(C,E)),r.a.createElement(N,{title:"Gameweek Points",loading:M,cloaked:!W},C&&E&&function(e,t){var n=e.current.map((function(e){var n=t.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(n?U(n):e.event),points:e.points,bench:e.points_on_bench}}));return r.a.createElement("div",{className:"chart"},r.a.createElement(fe.d,{height:300,width:"100%"},r.a.createElement(fe.b,{data:n,margin:{bottom:45,left:15,right:15}},r.a.createElement(fe.a,{type:"monotone",dataKey:"points",stroke:"#177B47",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(fe.a,{type:"monotone",dataKey:"bench",stroke:"#00FF87",fill:"#00FF87",fillOpacity:"1"}),r.a.createElement(fe.g,{interval:"preserveStartEnd"}),r.a.createElement(fe.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(fe.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(fe.e,{isAnimationActive:!1,formatter:function(e,t){return[e,t.charAt(0).toUpperCase()+t.slice(1)]},separator:": "}))))}(C,E)),r.a.createElement(N,{title:"Team Value Evolution",loading:M,cloaked:!W},C&&E&&function(e,t){var n=e.current.map((function(e){var n=t.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(n?U(n):e.event),value:e.value+e.bank}}));return r.a.createElement("div",{className:"chart"},r.a.createElement(fe.d,{height:300,width:"100%"},r.a.createElement(fe.b,{data:n,margin:{bottom:45,left:15,right:15}},r.a.createElement(fe.a,{type:"monotone",dataKey:"value",stroke:"#177B47",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(fe.g,{tickFormatter:function(e){return"\xa3".concat(e/10)},domain:["auto","auto"],interval:"preserveStartEnd"}),r.a.createElement(fe.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(fe.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(fe.e,{isAnimationActive:!1,formatter:function(e,t){return["\xa3".concat(Number(e)/10),t.charAt(0).toUpperCase()+t.slice(1)]},separator:": "}))))}(C,E))),r.a.createElement("div",{className:"app__legal"},r.a.createElement("p",null,"FPL Stats uses data from the official Premier League Fantasy API. This site is not affiliated with the Premier League."))))},Ue=n(16),Ye=Object(Ue.c)({bootstrap:b,stats:se,settings:$,history:pe,entry:Be});n(394);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:Object(f.a)({reducer:Ye,middleware:Object(s.a)(Object(f.c)())})},r.a.createElement(Le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.8991553b.chunk.js.map