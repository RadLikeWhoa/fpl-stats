(this["webpackJsonpfpl-stats"]=this["webpackJsonpfpl-stats"]||[]).push([[0],{184:function(e,t,n){e.exports=n(397)},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(18),i=n.n(l),c=n(2);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(6),u=n(11),o=n(5),m=n.n(o),d=n(155),p=n(90),f=n.n(p),_=n(12),E=n.n(_),v=n(17),b=n(15),g=Object(b.b)({name:"loading",initialState:0,reducers:{startLoading:function(e){return e+=1},finishLoading:function(e){return e-=1}}}),h=g.actions,y=h.startLoading,N=h.finishLoading,w=g.reducer,j=Object(b.b)({name:"bootstrap",initialState:{data:void 0},reducers:{fetchBootstrapStart:function(e){e.data=void 0},fetchBootstrapSuccess:function(e,t){e.data=t.payload}}}),O=j.actions,k=O.fetchBootstrapStart,S=O.fetchBootstrapSuccess,P=j.reducer,C=(n(206),function(e){var t=Object(c.c)((function(e){return e.bootstrap.data})),n=null===t||void 0===t?void 0:t.elements.find((function(t){return t.id===e.id})),a=null===t||void 0===t?void 0:t.teams.find((function(e){return e.id===(null===n||void 0===n?void 0:n.team)})),l=null===t||void 0===t?void 0:t.element_types.find((function(e){return e.id===(null===n||void 0===n?void 0:n.element_type)}));return r.a.createElement("div",{className:m()("player",{"player--condensed":e.condensed})},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(null===a||void 0===a?void 0:a.code).concat("GKP"===(null===l||void 0===l?void 0:l.singular_name_short)?"_1":"","-66.png"),alt:null===n||void 0===n?void 0:n.web_name,className:"player__shirt"}),r.a.createElement("div",{className:"player__detail"},r.a.createElement("div",{className:"player__name"},r.a.createElement("span",null,null===n||void 0===n?void 0:n.web_name,"string"===typeof e.suffix?" (".concat(e.suffix,")"):e.suffix?e.suffix():null)),r.a.createElement("div",{className:"player__info"},r.a.createElement("span",{className:"player__team",title:null===a||void 0===a?void 0:a.name},null===a||void 0===a?void 0:a.short_name),r.a.createElement("span",{className:"player__position"},null===l||void 0===l?void 0:l.singular_name_short))))}),x=(n(207),function(e){var t=Object(c.c)((function(e){return e.settings.id}));return r.a.createElement("div",{className:m()("widget",{"widget--cloaked":!t})},e.title&&r.a.createElement("h2",{className:"widget__title"},e.title),r.a.createElement("div",{className:"widget__content"},e.children))}),T=(n(208),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}),r.a.createElement("div",{className:"spinner__item"}))}),B=function(e){var t=Number(e);return e&&!Number.isNaN(t)&&Number.isInteger(t)},M=n(10),A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc";return Object(M.a)(e).sort((function(e,a){return(t(e)-t(a))*("desc"===n?-1:1)}))},G=function(e){return e.length?e[0]:null},L=function(e){return e.length?e[e.length-1]:null},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.reduce((function(e,n){return e+t(n)}),n)},R=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},F=function(e){return W(e,(function(e){return e}))},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.toFixed(t);return/\.0+$/.test(n)?G(n.split("."))||"":n},H=function(e){return e.data.filter((function(e){return null!==e.multiplier})).length},D=function(e){return e.data.filter((function(e){return e.multiplier&&e.multiplier>0})).length},K=function(e){return e.data.filter((function(e){return 0===e.multiplier})).length},U=function(e){return W(e.data,(function(e){return e.points||0}))},Y=function(e){return W(e.data,(function(e){return 0===e.multiplier&&e.rawPoints||0}))},J=function(e){return Object.values(e).reduce((function(e,t){return e.concat(t)}),[])},V=function(e,t){return A(e.map((function(e){return{player:e,value:e.data.reduce((function(e,n){var a,r,l,i;return"number"===typeof(null===(a=n.stats)||void 0===a?void 0:a[t])?((null===(l=n.stats)||void 0===l?void 0:l[t])||0)+e:"boolean"===typeof(null===(r=n.stats)||void 0===r?void 0:r[t])?(+(null===(i=n.stats)||void 0===i?void 0:i[t])||0)+e:e}),0)}})),(function(e){return e.value}))},$=function(e,t){return G(V(e,t))},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.data.reduce((function(e,a){return t(a)?n||e.length&&0!==e[e.length-1]?[].concat(Object(M.a)(e.slice(0,e.length-1)),[e[e.length-1]+1]):[].concat(Object(M.a)(e),[1]):[].concat(Object(M.a)(e),[0])}),n?[0]:[]),r=Math.max.apply(Math,Object(M.a)(a));if(0===r)return null;var l=e.data[F(a.slice(0,a.indexOf(r)).map((function(e){return e>0?e:1})))].event,i=e.data[l.id-2+r].event,c=F(e.data.slice(l.id-1,l.id-1+r).map((function(e){return e.points||0})));return{start:l,end:i,length:r,points:c}},Z=function(e){return z(e,(function(e){return null!==e.multiplier}),!0)},q=function(e){return z(e,(function(e){return(e.multiplier||0)>0}),!0)},Q=function(e){return z(e,(function(e){return 0===e.multiplier}),!0)},X=function(e){return z(e,(function(e){return(e.rawPoints||0)>2}))},ee=function(e){var t=Date.now();return e.filter((function(e){return 1e3*e.deadline_time_epoch<t}))},te=function(e){return e.name.split(" ").pop()||""},ne={"3xc":"TC",bboost:"BB",freehit:"FH",wildcard:"WC"},ae=function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.toLowerCase().slice(1))},re=Object(b.b)({name:"settings",initialState:{id:localStorage.getItem("id")||void 0,meanStrategy:localStorage.getItem("meanStrategy")||"average"},reducers:{setId:function(e,t){e.id=t.payload,e.id?localStorage.setItem("id",e.id):localStorage.removeItem("id")},setMeanStrategy:function(e,t){e.meanStrategy=t.payload,localStorage.setItem("meanStrategy",e.meanStrategy)}}}),le=re.actions,ie=le.setId,ce=(le.setMeanStrategy,re.reducer),se=(n(209),function(e){return r.a.createElement("button",{className:m()("button",{"button--secondary":e.secondary}),type:e.type||"button",onClick:e.onClick,disabled:e.disabled},e.label)}),ue=function(e){var t=r.a.useRef(null);return r.a.useEffect((function(){var n=function(n){n.target instanceof Node&&t.current&&!t.current.contains(n.target)&&e()};return t.current?document.addEventListener("click",n):document.removeEventListener("click",n),function(){return document.removeEventListener("click",n)}}),[t,e]),t},oe=function(){var e=Object(c.c)((function(e){return e.settings.meanStrategy}));return function(t){return"".concat("average"===e?"Average":"Median"," ").concat(t)}},me=function(){var e=Object(c.c)((function(e){return e.settings.meanStrategy}));return function(t){return"average"===e?function(e){return F(e)/e.length}(t):function(e){var t=A(e,(function(e){return e})),n=Math.ceil(e.length/2);return t.length%2===0?(t[n]+t[n+1])/2:t[n-1]}(t)}},de=(n(210),function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),l=n[0],i=n[1],s=Object(c.c)((function(e){return e.settings.id})),o=Object(c.b)(),m=Object(a.useCallback)((function(t){if(t){if(!s)return}else o(ie(Number(l)));e.onClose&&e.onClose()}),[o,e,l,s]),d=ue((function(){return m(!0)}));return Object(a.useEffect)((function(){var e=function(e){"Escape"===e.key&&m(!0)};return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[m]),r.a.createElement("form",{onSubmit:function(e){m(!1),e.preventDefault()}},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal__element",ref:d},r.a.createElement("header",{className:"modal__header"},"Enter Your Team ID"),r.a.createElement("div",{className:"modal__body"},r.a.createElement("input",{className:"modal__input",type:"text",placeholder:"e.g. 4654486",value:l,onChange:function(e){return i(e.target.value)}})),r.a.createElement("footer",{className:"modal__footer"},r.a.createElement(se,{label:"Show Stats",type:"submit",disabled:!B(l)})))))}),pe=n(13),fe=Object(b.b)({name:"stats",initialState:{data:void 0,chips:void 0},reducers:{buildDataStart:function(e){e.data=void 0,e.chips=void 0},buildDataSuccess:function(e,t){e.data=t.payload.data,e.chips=t.payload.chips}}}),_e=fe.actions,Ee=_e.buildDataStart,ve=_e.buildDataSuccess,be=function(){var e=Object(v.a)(E.a.mark((function e(t,n){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(n,"/event/").concat(t,"/picks/"))));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(v.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/event/".concat(t,"/live/"))));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(v.a)(E.a.mark((function e(t,n){var a,r,l,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([be(t,n),ge(t)]);case 2:return a=e.sent,r=Object(u.a)(a,2),l=r[0],i=r[1],e.abrupt("return",{pick:l,live:i});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=fe.reducer,Ne=Object(b.b)({name:"history",initialState:{data:void 0},reducers:{fetchHistoryStart:function(e){e.data=void 0},fetchHistorySuccess:function(e,t){e.data=t.payload}}}),we=Ne.actions,je=we.fetchHistoryStart,Oe=we.fetchHistorySuccess,ke=Ne.reducer,Se=function(){var e=Object(c.c)((function(e){return e.history.data})),t=oe(),n=me();if(!e)return r.a.createElement(x,{title:"Historical Data"});var a=A(e.past,(function(e){return e.rank}),"asc"),l=A(e.past,(function(e){return e.total_points})),i=G(a),s=L(a),u=G(l),o=L(l),m=a.filter((function(e){return e.rank<=1e3})).length,d=a.filter((function(e){return e.rank<=1e4})).length,p=a.filter((function(e){return e.rank<=1e5})).length,f=a.filter((function(e){return e.rank<=1e6})).length;return r.a.createElement(x,{title:"Historical Data"},r.a.createElement("ul",{className:"widget__list"},i&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Season Rank"),r.a.createElement("span",null,R(i.rank)," (",i.season_name,")")),u&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Points Finish"),r.a.createElement("span",null,R(u.total_points)," (",u.season_name,")")),s&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Season Rank"),r.a.createElement("span",null,R(s.rank)," (",s.season_name,")")),o&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Points Finish"),r.a.createElement("span",null,R(o.total_points)," (",o.season_name,")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,t("Rank")),r.a.createElement("span",null,R(Number(I(n(a.map((function(e){return e.rank}))),0))))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,t("Points")),r.a.createElement("span",null,R(Number(I(n(l.map((function(e){return e.total_points}))),0))))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 1K Finishes"),r.a.createElement("span",null,m)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 10K Finishes"),r.a.createElement("span",null,d)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 100K Finishes"),r.a.createElement("span",null,p)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top 1M Finishes"),r.a.createElement("span",null,f))))},Pe=(n(211),function(e){var t=Object(c.c)((function(e){return e.bootstrap.data})),n=null===t||void 0===t?void 0:t.elements.find((function(t){return t.id===e.id})),a=null===t||void 0===t?void 0:t.teams.find((function(e){return e.id===(null===n||void 0===n?void 0:n.team)})),l=null===t||void 0===t?void 0:t.element_types.find((function(e){return e.id===(null===n||void 0===n?void 0:n.element_type)}));return r.a.createElement("div",{className:"tots-player"},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(null===a||void 0===a?void 0:a.code).concat("GKP"===(null===l||void 0===l?void 0:l.singular_name_short)?"_1":"","-66.png"),alt:null===n||void 0===n?void 0:n.web_name,className:"tots-player__shirt"}),r.a.createElement("div",{className:"tots-player__detail"},r.a.createElement("div",{className:"tots-player__name"},r.a.createElement("span",null,null===n||void 0===n?void 0:n.web_name)),r.a.createElement("div",{className:"tots-player__points"},e.points)))}),Ce=(n(212),function(){var e=Object(c.c)((function(e){return e.stats.data}));if(!e)return r.a.createElement(x,{title:"Team of the Season"});var t=A(e[1],(function(e){return U(e)})).slice(0,2),n=A(e[2],(function(e){return U(e)})).slice(0,5),a=A(e[3],(function(e){return U(e)})).slice(0,5),l=A(e[4],(function(e){return U(e)})).slice(0,3),i=t.slice(0,1).concat(n.slice(0,3)).concat(a.slice(0,2)).concat(l.slice(0,1)),s=A(n.slice(3).concat(a.slice(2)).concat(l.slice(1)),(function(e){return U(e)})),u=A(i.concat(s.slice(0,4)),(function(e){return e.element.element_type}),"asc"),o=A(t.slice(1).concat(s.slice(4)),(function(e){return e.element.element_type}),"asc");return r.a.createElement(x,{title:"Team of the Season"},r.a.createElement("div",{className:"tots"},r.a.createElement("div",{className:"tots__row"},u.filter((function(e){return 1===e.element.element_type})).map((function(e){return r.a.createElement(Pe,{key:e.element.id,id:e.element.id,points:U(e)})}))),r.a.createElement("div",{className:"tots__row"},u.filter((function(e){return 2===e.element.element_type})).map((function(e){return r.a.createElement(Pe,{key:e.element.id,id:e.element.id,points:U(e)})}))),r.a.createElement("div",{className:"tots__row"},u.filter((function(e){return 3===e.element.element_type})).map((function(e){return r.a.createElement(Pe,{key:e.element.id,id:e.element.id,points:U(e)})}))),r.a.createElement("div",{className:"tots__row"},u.filter((function(e){return 4===e.element.element_type})).map((function(e){return r.a.createElement(Pe,{key:e.element.id,id:e.element.id,points:U(e)})}))),r.a.createElement("div",{className:"tots__row tots__row--bench"},o.map((function(e){return r.a.createElement(Pe,{key:e.element.id,id:e.element.id,points:U(e)})})))))}),xe=(n(213),{ppg:"Points per Game",ppp:"Points per Player"}),Te=function(e){return r.a.createElement("abbr",{className:"metric",title:xe[e.metric]},e.metric)},Be=function(e){var t=Object(c.c)((function(e){return e.settings.id})),n="https://fantasy.premierleague.com/entry/".concat(t,"/");return e.event?n="".concat(n,"event/").concat(e.event,"/"):e.target&&(n="".concat(n).concat(e.target,"/")),r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},e.event?"GW ".concat(e.event):e.label?e.label:n)},Me=function(){var e=Object(c.c)((function(e){return e.stats.data})),t=Object(c.c)((function(e){return e.history.data}));if(!t||!e)return r.a.createElement(x,{title:"Player Stats"});var n=J(e),a=$(n,"red_cards"),l=$(n,"yellow_cards"),i=$(n,"goals_scored"),u=$(n,"assists"),o=$(n,"clean_sheets"),m=$(n,"goals_conceded"),d=$(n,"own_goals"),p=$(n,"saves"),f=$(n,"minutes"),_=$(n,"penalties_missed"),E=$(n,"penalties_saved"),v=$(n,"in_dreamteam"),b=$(n,"bps"),g=$(n,"bonus"),h=G(A(n.map((function(e){return{player:e,value:e.data.filter((function(e){return e.multiplier&&e.multiplier>1})).length}})),(function(e){return e.value}))),y=G(A(n.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:A(Object(M.a)(e.data),(function(e){return e.points||0}))})})),(function(e){var t;return(null===(t=G(e.data))||void 0===t?void 0:t.points)||0}))),N=G(A(n.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{data:A(e.data.filter((function(e){return 0===e.multiplier})),(function(e){return e.rawPoints||0}))})})).filter((function(e){return e.data.length})),(function(e){var t;return(null===(t=G(e.data))||void 0===t?void 0:t.rawPoints)||0}))),w=G(A(n,(function(e){return U(e)}))),j=G(A(n,(function(e){return Y(e)}))),O=t.current.length,k=G(A(Object.entries(Array.from(Array(O).keys()).map((function(e,t){return G(A(n,(function(e){return e.data[t].rawPoints||0})))})).reduce((function(e,t){return t?Object(s.a)(Object(s.a)({},e),{},Object(pe.a)({},t.element.id,e[t.element.id]?e[t.element.id]+1:1)):e}),{})),(function(e){return e[1]})));return r.a.createElement(x,{title:"Player Stats"},r.a.createElement("ul",{className:"widget__list"},y&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top GW Returner"),r.a.createElement("span",null,r.a.createElement(C,{id:y.element.id,suffix:function(){var e=G(y.data);return e?r.a.createElement(r.a.Fragment,null," ","(",e.points," pts,"," ",r.a.createElement(Be,{event:e.event.id}),")"):null},condensed:!0}))),w&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top Season Returner"),r.a.createElement("span",null,r.a.createElement(C,{id:w.element.id,suffix:function(){return r.a.createElement(r.a.Fragment,null," ","(",U(w)," pts,"," ",I(U(w)/D(w))," ",r.a.createElement(Te,{metric:"ppg"}),")")},condensed:!0}))),N&&function(e){var t=G(e.data);return t&&0===t.multiplier?r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top GW Bench Returner"),r.a.createElement("span",null,r.a.createElement(C,{id:e.element.id,suffix:function(){return r.a.createElement(r.a.Fragment,null," ","(",t.rawPoints," pts,"," ",r.a.createElement(Be,{event:t.event.id}),")")},condensed:!0}))):null}(N),j&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Points While Benched"),r.a.createElement(C,{id:j.element.id,suffix:function(){return r.a.createElement(r.a.Fragment,null," ","(",Y(j)," pts,"," ",I(Y(j)/j.data.filter((function(e){return 0===e.multiplier})).length)," ",r.a.createElement(Te,{metric:"ppg"}),")")},condensed:!0})),a&&a.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Red Cards"),r.a.createElement(C,{id:a.player.element.id,suffix:"".concat(a.value),condensed:!0})),l&&l.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Yellow Cards"),r.a.createElement(C,{id:l.player.element.id,suffix:"".concat(l.value),condensed:!0})),i&&i.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Top Scorer"),r.a.createElement(C,{id:i.player.element.id,suffix:"".concat(i.value),condensed:!0})),u&&u.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Assists"),r.a.createElement(C,{id:u.player.element.id,suffix:"".concat(u.value),condensed:!0})),g&&g.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Bonus Points"),r.a.createElement(C,{id:g.player.element.id,suffix:"".concat(g.value),condensed:!0})),b&&b.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Highest Total BPS"),r.a.createElement(C,{id:b.player.element.id,suffix:"".concat(b.value),condensed:!0})),o&&o.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Clean Sheets"),r.a.createElement(C,{id:o.player.element.id,suffix:"".concat(o.value),condensed:!0})),m&&m.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Goals Conceded"),r.a.createElement(C,{id:m.player.element.id,suffix:"".concat(m.value),condensed:!0})),p&&p.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Saves"),r.a.createElement(C,{id:p.player.element.id,suffix:"".concat(p.value),condensed:!0})),d&&d.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Own Goals"),r.a.createElement(C,{id:d.player.element.id,suffix:"".concat(d.value),condensed:!0})),_&&_.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Penalties Missed"),r.a.createElement(C,{id:_.player.element.id,suffix:"".concat(_.value),condensed:!0})),E&&E.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Penalties Saved"),r.a.createElement(C,{id:E.player.element.id,suffix:"".concat(E.value),condensed:!0})),f&&f.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Minutes"),r.a.createElement(C,{id:f.player.element.id,suffix:"".concat(R(f.value)),condensed:!0})),v&&v.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Times in Dreamteam"),r.a.createElement(C,{id:v.player.element.id,suffix:"".concat(v.value),condensed:!0})),h&&h.value>0&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Most Captaincies"),r.a.createElement(C,{id:h.player.element.id,suffix:"".concat(h.value),condensed:!0})),k&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Ideal Captain"),r.a.createElement(C,{id:Number(k[0]),suffix:"".concat(k[1]),condensed:!0}))))},Ae=function(){var e=Object(c.c)((function(e){return e.stats.data})),t=Object(c.c)((function(e){return e.history.data}));if(!e||!t)return r.a.createElement(x,{title:"Formations"});var n=t.current.length,a=Object.values(e).map((function(e){var t=e.map((function(e){return e.data.map((function(e){return e.multiplier}))}));return Array.from(Array(n).keys()).map((function(e,n){return t.map((function(e){return(e[n]||0)>0})).filter((function(e){return!!e})).length}))})).slice(1),l=Array.from(Array(n).keys()).map((function(e,t){return a.map((function(e){return e[t]})).join("-")})).reduce((function(e,n,a){return e[n]?Object(s.a)(Object(s.a)({},e),{},Object(pe.a)({},n,{count:e[n].count+1,points:e[n].points+t.current[a].points})):Object(s.a)(Object(s.a)({},e),{},Object(pe.a)({},n,{count:1,points:t.current[a].points}))}),{});return r.a.createElement(x,{title:"Formations"},r.a.createElement("ul",{className:"widget__list"},A(Object.entries(l),(function(e){return e[1].count})).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return r.a.createElement("li",{className:"widget__list__item",key:n},r.a.createElement("span",null,function(e){return F(e.split("-").map((function(e){return Number(e)})))>10?"Bench Boost":e}(n)),r.a.createElement("span",null,a.count," (",R(a.points)," pts, ",I(a.points/a.count)," ",r.a.createElement(Te,{metric:"ppg"}),")"))}))))},Ge=function(){var e=Object(c.c)((function(e){return e.stats.data}));if(!e)return r.a.createElement(x,{title:"Captains"});var t=A(Object.values(e).map((function(e){return e.map((function(e){return{player:e,data:e.data.filter((function(e){return(e.multiplier||0)>1}))}})).filter((function(e){return e.data.length>0}))})).reduce((function(e,t){return e.concat(t)}),[]),(function(e){return e.data.length}));return r.a.createElement(x,{title:"Captains"},r.a.createElement("ul",{className:"widget__list"},t.map((function(e){var t=F(e.data.map((function(e){return e.points||0})));return r.a.createElement("li",{className:"widget__list__item",key:e.player.element.id},r.a.createElement(C,{id:e.player.element.id}),r.a.createElement("span",null,e.data.length," (",R(t)," pts, ",I(t/e.data.length)," ",r.a.createElement(Te,{metric:"ppg"}),")"))}))))},Le=function(){var e=Object(c.c)((function(e){return e.history.data})),t=Object(c.c)((function(e){return e.bootstrap.data})),n=oe(),a=me();if(!e||!t)return r.a.createElement(x,{title:"Gameweeks"});var l=e.current.map((function(e,n){return e.points-t.events[n].average_entry_score})),i=A(e.current,(function(e){return e.rank}),"asc"),s=A(e.current,(function(e){return e.points})),u=G(s),o=L(s),m=G(i),d=L(i);return r.a.createElement(x,{title:"Gameweeks"},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,n("Difference to GW Average")),r.a.createElement("span",null,I(a(l))," pts")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Times Above GW Average"),r.a.createElement("span",null,l.filter((function(e){return e>=0})).length)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Times Below GW Average"),r.a.createElement("span",null,l.filter((function(e){return e<0})).length)),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,n("GW Rank")),r.a.createElement("span",null,R(Number(I(a(e.current.map((function(e){return e.rank})))))))),u&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best Gameweek"),r.a.createElement("span",null,u.points," pts"," ","(",r.a.createElement(Be,{event:u.event}),")")),o&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst Gameweek"),r.a.createElement("span",null,o.points," pts"," ","(",r.a.createElement(Be,{event:o.event}),")")),m&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Best GW Rank"),r.a.createElement("span",null,R(m.rank)," ","(",r.a.createElement(Be,{event:m.event}),")")),d&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Worst GW Rank"),r.a.createElement("span",null,R(d.rank)," ","(",r.a.createElement(Be,{event:d.event}),")"))))},We=function(){var e=Object(c.c)((function(e){return e.stats.data})),t=Object(c.c)((function(e){return e.bootstrap.data})),n=me();if(!e||!t)return r.a.createElement(x,{title:"Positions"});var a=Object.entries(e).reduce((function(e,t){var n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(s.a)(Object(s.a)({},e),{},Object(pe.a)({},a,r.length))}),{});return r.a.createElement(x,{title:"Positions"},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total"),r.a.createElement("span",null,W(Object.values(a),(function(e){return e})))),Object.entries(a).map((function(a){var l,i=Object(u.a)(a,2),c=i[0],s=i[1],o=e[Number(c)].map((function(e){return U(e)}));return r.a.createElement("li",{className:"widget__list__item",key:c},r.a.createElement("span",null,null===(l=t.element_types.find((function(e){return e.id===Number(c)})))||void 0===l?void 0:l.plural_name),r.a.createElement("span",null,s," ","(",R(F(o))," pts, ",I(n(o))," ",r.a.createElement(Te,{metric:"ppp"}),")"))}))))},Re=Object(b.b)({name:"entry",initialState:{data:void 0},reducers:{fetchEntryStart:function(e){e.data=void 0},fetchEntrySuccess:function(e,t){e.data=t.payload}}}),Fe=Re.actions,Ie=Fe.fetchEntryStart,He=Fe.fetchEntrySuccess,De=Re.reducer,Ke=function(e,t){return V(e,t).map((function(e){return e.value}))},Ue=function(){var e,t=Object(c.c)((function(e){return e.stats.data})),n=Object(c.c)((function(e){return e.stats.chips})),a=Object(c.c)((function(e){return e.history.data})),l=Object(c.c)((function(e){return e.entry.data}));if(!t||!a||!n||!l)return r.a.createElement(x,{title:"Season"});var i=J(t),s=Ke(i,"red_cards"),o=Ke(i,"yellow_cards"),m=Ke(i,"goals_scored"),d=Ke(i,"assists"),p=Ke(i,"clean_sheets"),f=Ke(i,"goals_conceded"),_=Ke(i,"own_goals"),E=Ke(i,"saves"),v=Ke(i,"minutes"),b=Ke(i,"penalties_missed"),g=Ke(i,"penalties_saved"),h=Ke(i,"in_dreamteam"),y=Ke(i,"bps"),N=Ke(i,"bonus"),w=W(a.current,(function(e){return e.event_transfers})),j=W(a.current,(function(e){return e.event_transfers_cost/4})),O=W(a.current,(function(e){return e.points_on_bench})),k=null===(e=i.find((function(e){return-1!==e.data.findIndex((function(e){return 3===e.multiplier}))})))||void 0===e?void 0:e.data.find((function(e){return 3===e.multiplier})),S=G(Object.entries(n).find((function(e){var t=Object(u.a)(e,2);t[0];return"bboost"===t[1]}))||[]),P=S?F(i.filter((function(e){return(e.data[Number(S)-1].position||0)>11})).map((function(e){return e.data[Number(S)-1].points||0}))):null,C=W(i.map((function(e){return e.data.filter((function(e){return(e.rawPoints||0)>9})).length})),(function(e){return e})),T=W(i.map((function(e){return e.data.filter((function(e){return null!==e.multiplier})).length})),(function(e){return e}));return r.a.createElement(x,{title:"Season"},r.a.createElement("ul",{className:"widget__list"},r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Transfers Made"),r.a.createElement("span",null,r.a.createElement(Be,{target:"transfers",label:"".concat(w)}))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Hits Taken"),r.a.createElement("span",null,j," (",-4*j," pts",l.summary_overall_points>0?", ".concat(I(4*j/l.summary_overall_points*100),"%)"):")")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Points on Bench"),r.a.createElement("span",null,O," pts")),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Double Digit Hauls"),r.a.createElement("span",null,C," ",T>0&&"(".concat(I(C/T),"%)"))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Red Cards"),r.a.createElement("span",null,F(s))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Yellow Cards"),r.a.createElement("span",null,F(o))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Goals Scored"),r.a.createElement("span",null,F(m))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Goals Conceded"),r.a.createElement("span",null,F(f))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Assists"),r.a.createElement("span",null,F(d))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Clean Sheets"),r.a.createElement("span",null,F(p))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Own Goals"),r.a.createElement("span",null,F(_))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Saves"),r.a.createElement("span",null,F(E))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Minutes Played"),r.a.createElement("span",null,R(F(v)))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Penalties Missed"),r.a.createElement("span",null,F(b))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Penalties Saved"),r.a.createElement("span",null,F(g))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Times in Dreamteam"),r.a.createElement("span",null,F(h))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total BPS"),r.a.createElement("span",null,R(F(y)))),r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Total Bonus Points"),r.a.createElement("span",null,R(F(N)))),void 0!==k&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Triple Captain Points Gained"),r.a.createElement("span",null,(k.points||0)/3," pts (",r.a.createElement(Be,{event:k.event.id}),")")),null!==P&&r.a.createElement("li",{className:"widget__list__item"},r.a.createElement("span",null,"Bench Boost Points Gained"),r.a.createElement("span",null,P," pts (",r.a.createElement(Be,{event:Number(S)}),")"))))},Ye=(n(214),function(e){return r.a.createElement("div",{className:"team"},r.a.createElement("img",{src:"https://fantasy.premierleague.com/dist/img/shirts/special/shirt_".concat(e.team.code,"-66.png"),alt:e.team.short_name,className:"player__shirt"}),r.a.createElement("span",{className:"team__name"},e.team.name))}),Je=(n(215),function(){var e=Object(c.c)((function(e){return e.stats.data})),t=Object(c.c)((function(e){return e.bootstrap.data}));if(!e||!t)return r.a.createElement(x,{title:"Teams"});var n=Object.values(e).reduce((function(e,t){return[].concat(Object(M.a)(e),Object(M.a)(t.map((function(e){return e.element.team}))))}),[]).reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(pe.a)({},t,(e[Number(t)]||0)+1))}),{}),a=A(t.teams,(function(e){return n[e.id]||0})),l=J(e);return r.a.createElement(x,{title:"Teams"},r.a.createElement("ul",{className:"widget__list"},a.map((function(e){var a=l.filter((function(t){return t.element.team===e.id})),i=F(a.map((function(e){return U(e)}))),c=t.element_types.reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(pe.a)({},t.id,a.filter((function(e){return e.element.element_type===t.id})).length))}),{});return r.a.createElement("li",{className:"widget__list__item",key:e.id},r.a.createElement(Ye,{team:e}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,n[e.id]||0)," ","(",i," pts, ",a.length?I(i/a.length):0," ",r.a.createElement(Te,{metric:"ppp"}),")"),r.a.createElement("div",null,Object.entries(c).filter((function(e){var t=Object(u.a)(e,2);t[0];return t[1]>0})).map((function(e){var n,a=Object(u.a)(e,2),l=a[0],i=a[1];return r.a.createElement("span",{className:"teams-widget__position",key:l},i," ",ae((null===(n=t.element_types.find((function(e){return e.id===Number(l)})))||void 0===n?void 0:n.plural_name_short)||""))})))))}))))}),Ve=function(){var e=Object(c.c)((function(e){return e.stats.data}));if(!e)return r.a.createElement(x,{title:"Highest Non-Blank Streaks"});var t=J(e).sort((function(e,t){var n,a,r=X(e),l=X(t),i=(null===(n=X(e))||void 0===n?void 0:n.length)||0,c=(null===(a=X(t))||void 0===a?void 0:a.length)||0;return c-i===0?((null===l||void 0===l?void 0:l.points)||0)-((null===r||void 0===r?void 0:r.points)||0):c-i})).slice(0,10);return r.a.createElement(x,{title:"Highest Non-Blank Streaks"},r.a.createElement("ul",{className:"widget__list"},t.map((function(e){var t=X(e);return t?r.a.createElement("li",{className:"widget__list__item",key:e.element.id},r.a.createElement(C,{id:e.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Be,{event:t.start.id})," \u2013 ",r.a.createElement(Be,{event:t.end.id})),r.a.createElement("div",null,"(",t.length," GWs, ",t.points," pts, ",I((t.points||0)/t.length)," ",r.a.createElement(Te,{metric:"ppg"}),")"))):null}))))},$e=function(){var e=Object(c.c)((function(e){return e.stats.data}));if(!e)return r.a.createElement(x,{title:"Highest Selection Streaks"});var t=J(e).sort((function(e,t){var n,a,r=Z(e),l=Z(t),i=(null===(n=Z(e))||void 0===n?void 0:n.length)||0,c=(null===(a=Z(t))||void 0===a?void 0:a.length)||0;return c-i===0?((null===l||void 0===l?void 0:l.points)||0)-((null===r||void 0===r?void 0:r.points)||0):c-i})).slice(0,10);return r.a.createElement(x,{title:"Highest Selection Streaks"},r.a.createElement("ul",{className:"widget__list"},t.map((function(e){var t=Z(e);return t?r.a.createElement("li",{className:"widget__list__item",key:e.element.id},r.a.createElement(C,{id:e.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Be,{event:t.start.id})," \u2013 ",r.a.createElement(Be,{event:t.end.id})),r.a.createElement("div",null,"(",t.length," GWs, ",t.points," pts, ",I((t.points||0)/t.length)," ",r.a.createElement(Te,{metric:"ppg"}),")"))):null}))))},ze=function(){var e=Object(c.c)((function(e){return e.stats.data}));if(!e)return r.a.createElement(x,{title:"Highest Start Streaks"});var t=J(e).sort((function(e,t){var n,a,r=q(e),l=q(t),i=(null===(n=q(e))||void 0===n?void 0:n.length)||0,c=(null===(a=q(t))||void 0===a?void 0:a.length)||0;return c-i===0?((null===l||void 0===l?void 0:l.points)||0)-((null===r||void 0===r?void 0:r.points)||0):c-i})).slice(0,10);return r.a.createElement(x,{title:"Highest Start Streaks"},r.a.createElement("ul",{className:"widget__list"},t.map((function(e){var t=q(e);return t?r.a.createElement("li",{className:"widget__list__item",key:e.element.id},r.a.createElement(C,{id:e.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Be,{event:t.start.id})," \u2013 ",r.a.createElement(Be,{event:t.end.id})),r.a.createElement("div",null,"(",t.length," GWs, ",t.points," pts, ",I((t.points||0)/t.length)," ",r.a.createElement(Te,{metric:"ppg"}),")"))):null}))))},Ze=function(){var e=Object(c.c)((function(e){return e.stats.data}));if(!e)return r.a.createElement(x,{title:"Highest Bench Appearance Streaks"});var t=J(e),n=A(t,(function(e){var t;return(null===(t=Q(e))||void 0===t?void 0:t.length)||0})).slice(0,10);return r.a.createElement(x,{title:"Highest Bench Appearance Streaks"},r.a.createElement("ul",{className:"widget__list"},n.map((function(e){var t=Q(e);return t?r.a.createElement("li",{className:"widget__list__item",key:e.element.id},r.a.createElement(C,{id:e.element.id}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Be,{event:t.start.id})," \u2013 ",r.a.createElement(Be,{event:t.end.id})),r.a.createElement("div",null,"(",t.length," GWs)"))):null}))))},qe=function(){return r.a.createElement("svg",{width:"32",height:"20",viewBox:"0 0 32 20",fill:"#94968C",className:"swap-icon"},r.a.createElement("path",{fillRule:"evenodd",d:"M53.6485838,32.0017628 L50.0028805,32.002243 L44.1795487,32.002243 L42.8449352,32.002243 C42.2448392,32.002243 41.6106577,32.2648846 41.1853096,32.6869358 C40.7782045,33.0941023 40.4723956,33.7595891 40.5007201,34.3468117 C40.5285646,34.9508394 40.7258761,35.5807952 41.1853096,36.0066875 C41.6447432,36.4287387 42.2069131,36.6913803 42.8449352,36.6913803 L46.4978397,36.6913803 L47.9851176,36.6913803 L45.4666347,39.209763 C43.6044167,41.0722619 41.7383581,42.9386019 39.8780605,44.7991802 C38.2707633,46.4067198 36.6673068,48.0104182 35.0585694,49.6193983 C34.2803649,50.3977202 33.4867979,51.1722009 32.7181949,51.9601258 L32.6845895,51.9937362 C32.2568411,52.4215492 32,53.0481439 32,53.6536121 C32,54.2317118 32.2530005,54.9140038 32.6845895,55.313488 C33.1305809,55.7206545 33.7157945,56.0265096 34.3442151,55.9981808 C34.9721555,55.9703321 35.5592895,55.7600268 36.0038406,55.313488 L37.931349,53.3856888 L42.5261642,48.7906607 L48.1147384,43.2007634 C49.1805089,42.1348321 50.2462794,41.0689008 51.3115699,40.0034497 L51.3115699,43.8239971 L51.3115699,45.1597723 C51.3115699,45.7599588 51.5741719,46.3937558 51.9961594,46.8196481 C52.4032645,47.2263345 53.068651,47.5321896 53.6557849,47.5038608 C54.2597216,47.4760121 54.8895823,47.279151 55.3154105,46.8196481 C55.7316371,46.3582247 56,45.7954898 56,45.1597723 L56,41.5058366 L56,35.6821067 L56,34.3468117 C56,34.0073461 55.9183869,33.6846859 55.781085,33.3893941 C55.6649064,33.1209907 55.5084013,32.8717932 55.3082093,32.6864556 C54.8617379,32.2792891 54.2770043,31.9739142 53.6485838,32.0017628 Z",transform:"rotate(45 71.042 -6.799)"}))},Qe=(n(216),function(){var e=Object(c.c)((function(e){return e.stats.data})),t=Object(c.c)((function(e){return e.history.data}));if(!e||!t)return r.a.createElement(x,{title:"Missed Captaincies"});var n=J(e),a=t.current.length,l=Array.from(Array(a).keys()).map((function(e,t){return{top:G(A(n,(function(e){return e.data[t].rawPoints||0}))),captain:n.find((function(e){return(e.data[t].multiplier||0)>1}))}}));return r.a.createElement(x,{title:"Missed Captaincies"},r.a.createElement("ul",{className:"widget__list"},l.map((function(e,t){if(!e.captain||!e.top)return null;var n=e.captain.data[t],a=e.top.data[t];return n.rawPoints===a.rawPoints?null:r.a.createElement("li",{className:"widget__list__item",key:n.event.id},r.a.createElement("div",null,r.a.createElement(C,{id:e.captain.element.id,suffix:"C"}),r.a.createElement(C,{id:e.top.element.id})),r.a.createElement("div",{className:"captain-opportunity-widget__swap-info"},2*(n.rawPoints||0)," ",r.a.createElement(qe,null)," ",2*(a.rawPoints||0)," ","(",r.a.createElement(Be,{event:n.event.id}),")"))}))))}),Xe=function(){var e=Object(c.c)((function(e){return e.stats.data}));if(!e)return r.a.createElement(x,{title:"Top Selections"});var t=A(J(e),(function(e){return H(e)}));return r.a.createElement(x,{title:"Top Selections"},r.a.createElement("ul",{className:"widget__list"},t.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item",key:e.element.id},r.a.createElement(C,{id:e.element.id}),H(e))}))))},et=function(){var e=Object(c.c)((function(e){return e.stats.data}));if(!e)return r.a.createElement(x,{title:"Top Starters"});var t=A(J(e),(function(e){return D(e)}));return r.a.createElement(x,{title:"Top Starters"},r.a.createElement("ul",{className:"widget__list"},t.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item",key:e.element.id},r.a.createElement(C,{id:e.element.id}),D(e))}))))},tt=function(){var e=Object(c.c)((function(e){return e.stats.data}));if(!e)return r.a.createElement(x,{title:"Top Bench Players"});var t=A(J(e),(function(e){return K(e)}));return r.a.createElement(x,{title:"Top Bench Players"},r.a.createElement("ul",{className:"widget__list"},t.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item",key:e.element.id},r.a.createElement(C,{id:e.element.id}),K(e))}))))},nt=function(e){var t=Object(c.c)((function(e){return e.stats.data}));if(!t)return r.a.createElement(x,{title:e.title});var n=J(t).map((function(e){var t=H(e),n=K(e),a=D(e);return Object(s.a)(Object(s.a)({},e),{},{benched:n,benchedPercentage:n/t*100,starts:a,startsPercentage:a/t*100})})),a=Object(M.a)(n).sort((function(e,t){var n=t.startsPercentage-e.startsPercentage;return 0===n?t.starts-e.starts:n})),l=Object(M.a)(n).sort((function(e,t){var n=t.benchedPercentage-e.benchedPercentage;return 0===n?t.benched-e.benched:n}));return r.a.createElement(x,{title:e.title},r.a.createElement("ul",{className:"widget__list"},e.top&&a.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item",key:e.element.id},r.a.createElement(C,{id:e.element.id}),r.a.createElement("span",null,I(e.startsPercentage),"% (",e.starts,")"))})),!e.top&&l.slice(0,5).map((function(e){return r.a.createElement("li",{className:"widget__list__item",key:e.element.id},r.a.createElement(C,{id:e.element.id}),r.a.createElement("span",null,I(e.benchedPercentage),"% (",e.benched,")"))}))))},at=n(9),rt=function(){var e,t=Object(c.c)((function(e){return e.history.data})),n=Object(c.c)((function(e){return e.bootstrap.data}));if(!t||!n)return r.a.createElement(x,{title:"Overall Rank Evolution"});var a=t.current.map((function(e){var t=n.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(t?te(t):e.event),value:e.overall_rank}})),l=1.05*((null===(e=G(A(Object(M.a)(a),(function(e){return e.value}))))||void 0===e?void 0:e.value)||0);return a=Object(M.a)(a).map((function(e){return Object(s.a)(Object(s.a)({},e),{},{max:l})})),r.a.createElement(x,{title:"Overall Rank Evolution"},r.a.createElement("div",{className:"chart chart--reversed"},r.a.createElement(at.d,{height:300,width:"100%"},r.a.createElement(at.b,{data:a,margin:{bottom:45,left:15,right:15}},r.a.createElement(at.a,{type:"monotone",dataKey:"max",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(at.a,{type:"monotone",dataKey:"value",stroke:"#177B47",fill:"#ffffff",fillOpacity:"1"}),r.a.createElement(at.g,{reversed:!0,tickFormatter:function(e){return function(e){return e>999999?"".concat(I(e/1e6),"M"):e>999?"".concat(I(e/1e3,0),"K"):"".concat(e)}(e)},domain:[1,l],interval:"preserveStartEnd",tickCount:10}),r.a.createElement(at.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(at.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(at.e,{isAnimationActive:!1,formatter:function(e,t){return"max"===t?[void 0,void 0]:[R(Number(e)),"Rank"]},separator:": "})))))},lt=function(){var e=Object(c.c)((function(e){return e.history.data})),t=Object(c.c)((function(e){return e.bootstrap.data}));if(!e||!t)return r.a.createElement(x,{title:"Gameweek Points"});var n=e.current.map((function(e){var n=t.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(n?te(n):e.event),points:e.points,bench:e.points_on_bench}}));return r.a.createElement(x,{title:"Gameweek Points"},r.a.createElement("div",{className:"chart"},r.a.createElement(at.d,{height:300,width:"100%"},r.a.createElement(at.b,{data:n,margin:{bottom:45,left:15,right:15}},r.a.createElement(at.a,{type:"monotone",dataKey:"points",stroke:"#177B47",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(at.a,{type:"monotone",dataKey:"bench",stroke:"#00FF87",fill:"#00FF87",fillOpacity:"1"}),r.a.createElement(at.g,{interval:"preserveStartEnd"}),r.a.createElement(at.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(at.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(at.e,{isAnimationActive:!1,formatter:function(e,t){return[e,ae(t)]},separator:": "})))))},it=function(){var e=Object(c.c)((function(e){return e.history.data})),t=Object(c.c)((function(e){return e.bootstrap.data}));if(!e||!t)return r.a.createElement(x,{title:"Team Value Evolution"});var n=e.current.map((function(e){var n=t.events.find((function(t){return t.id===e.event}));return{name:"GW ".concat(n?te(n):e.event),value:e.value+e.bank}}));return r.a.createElement(x,{title:"Team Value Evolution"},r.a.createElement("div",{className:"chart"},r.a.createElement(at.d,{height:300,width:"100%"},r.a.createElement(at.b,{data:n,margin:{bottom:45,left:15,right:15}},r.a.createElement(at.a,{type:"monotone",dataKey:"value",stroke:"#177B47",fill:"#177B47",fillOpacity:"1"}),r.a.createElement(at.g,{tickFormatter:function(e){return"\xa3".concat(e/10)},domain:["auto","auto"],interval:"preserveStartEnd"}),r.a.createElement(at.f,{dataKey:"name",angle:-90,textAnchor:"end",interval:"preserveStartEnd"}),r.a.createElement(at.c,{stroke:"rgba(192, 192, 192, 0.5)",strokeDasharray:"3 3"}),r.a.createElement(at.e,{isAnimationActive:!1,formatter:function(e,t){return["\xa3".concat(Number(e)/10),ae(t)]},separator:": "})))))},ct=function(){var e=Object(c.c)((function(e){return e.stats.data})),t=Object(c.c)((function(e){return e.history.data}));if(!e||!t)return r.a.createElement(x,{title:"Wrong Captains"});var n=J(e),a=t.current.length,l=Array.from(Array(a).keys()).map((function(e,t){return{top:G(A(n,(function(e){return e.data[t].rawPoints||0}))),captain:n.find((function(e){return(e.data[t].multiplier||0)>1}))}})).filter((function(e,t){var n,a;return((null===(n=e.top)||void 0===n?void 0:n.data[t].rawPoints)||0)>((null===(a=e.captain)||void 0===a?void 0:a.data[t].rawPoints)||0)})).reduce((function(e,t){return t.captain?Object(s.a)(Object(s.a)({},e),{},Object(pe.a)({},t.captain.element.id,e[t.captain.element.id]?e[t.captain.element.id]+1:1)):e}),{}),i=n.reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(pe.a)({},t.element.id,t.data.filter((function(e){return(e.multiplier||0)>1})).length))}),{});return r.a.createElement(x,{title:"Wrong Captains"},r.a.createElement("ul",{className:"widget__list"},A(Object.entries(l),(function(e){return e[1]})).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return r.a.createElement("li",{className:"widget__list__item",key:n},r.a.createElement(C,{id:Number(n)}),r.a.createElement("span",null,a," out of ",i[Number(n)],i[Number(n)]>0&&" (".concat(I(a/i[Number(n)]*100,1),"%)")))}))))},st=function(){var e=Object(c.c)((function(e){return e.stats.data})),t=Object(c.c)((function(e){return e.entry.data}));if(!e||!t)return r.a.createElement(x,{title:"Total Points Contribution"});var n=A(J(e),U).slice(0,10);return r.a.createElement(x,{title:"Total Points Contribution"},r.a.createElement("ul",{className:"widget__list"},n.map((function(e){return r.a.createElement("li",{className:"widget__list__item",key:e.element.id},r.a.createElement(C,{id:e.element.id}),t.summary_overall_points>0&&r.a.createElement("span",null,I(U(e)/t.summary_overall_points*100),"% (",U(e)," pts)"))}))))},ut=(n(395),{points:U,selection:H,start:D,bench:K,alphabet:function(e){return-1*e.element.web_name.toLowerCase().charCodeAt(0)}}),ot=[{value:"points",label:"Total Points"},{value:"selection",label:"Most Selected"},{value:"start",label:"Most Started"},{value:"bench",label:"Most Benched"},{value:"alphabet",label:"Alphabetically"}],mt=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),n=t[0],l=t[1],i=Object(a.useState)(ot[0]),o=Object(u.a)(i,2),p=o[0],_=o[1],b=Object(c.c)((function(e){return e.loading>0})),g=Object(c.c)((function(e){return e.bootstrap.data})),h=Object(c.c)((function(e){return e.stats.data})),w=Object(c.c)((function(e){return e.stats.chips})),j=Object(c.c)((function(e){return e.settings.id})),O=Object(c.c)((function(e){return e.entry.data})),P=Object(a.useRef)(null),G=Object(c.b)();return Object(a.useEffect)((function(){G(function(){var e=Object(v.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(k()),t(y()),e.next=4,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/bootstrap-static/")));case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,t(S(a)),t(N());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var e=f.a.parse(window.location.hash);e.team&&B(e.team)&&G(ie(e.team))}),[G]),Object(a.useEffect)((function(){setTimeout((function(){P&&P.current&&P.current.scrollTo(P.current.scrollWidth,0)}),1)}),[h]),Object(a.useEffect)((function(){l(!j),g&&j&&(G(function(e,t){return function(){var n=Object(v.a)(E.a.mark((function n(a){var r,l,i;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Ee()),a(y()),n.next=4,Promise.all(ee(e.events).map(function(){var e=Object(v.a)(E.a.mark((function e(n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(n.id,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:r=n.sent,l={},i={},r.forEach((function(t){t.pick.active_chip&&(i[t.pick.entry_history.event]=t.pick.active_chip),t.pick.picks.forEach((function(n){var a,r;l[n.element]||(l[n.element]={element:e.elements.find((function(e){return e.id===n.element})),data:e.events.filter((function(e){return e.id<t.pick.entry_history.event})).map((function(e){return{event:e,multiplier:null,points:null,rawPoints:null,stats:null,position:null}}))});var i=(null===(a=t.live.elements.find((function(e){return e.id===n.element})))||void 0===a?void 0:a.stats.total_points)||null;l[n.element]=Object(s.a)(Object(s.a)({},l[n.element]),{},{data:[].concat(Object(M.a)(l[n.element].data),[{event:e.events.find((function(e){return e.id===t.pick.entry_history.event})),multiplier:n.multiplier,points:null!==i?i*n.multiplier:i,rawPoints:i,stats:(null===(r=t.live.elements.find((function(e){return e.id===n.element})))||void 0===r?void 0:r.stats)||null,position:n.position}])})})),Object.keys(l).forEach((function(n){var a=Number(n);l[a].data.length<t.pick.entry_history.event&&(l[a]=Object(s.a)(Object(s.a)({},l[a]),{},{data:[].concat(Object(M.a)(l[a].data),[{event:e.events.find((function(e){return e.id===t.pick.entry_history.event})),multiplier:null,points:null,rawPoints:null,stats:null,position:null}])}))}))})),a(ve({data:Object.values(l).reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(pe.a)({},t.element.element_type,[].concat(Object(M.a)(e[t.element.element_type]||[]),[t])))}),{}),chips:i})),a(N());case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(g,j)),G(function(e){return function(){var t=Object(v.a)(E.a.mark((function t(n){var a,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(je()),n(y()),t.next=4,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(e,"/history/"))));case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,n(Oe(r)),n(N());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(j)),G(function(e){return function(){var t=Object(v.a)(E.a.mark((function t(n){var a,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ie()),n(y()),t.next=4,fetch("https://jsonp.afeld.me/?url=".concat(encodeURIComponent("https://fantasy.premierleague.com/api/entry/".concat(e,"/"))));case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,n(He(r)),n(N());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(j)),window.location.hash=f.a.stringify({team:j}))}),[j,G,g]),r.a.createElement("div",{className:"app"},n&&r.a.createElement(de,{onClose:function(){return l(!1)}}),r.a.createElement("div",{className:m()("app__loading",{"app__loading--hidden":!b})},r.a.createElement(T,null)),r.a.createElement("div",{className:"app__content"},O&&r.a.createElement("header",{className:"dashboard__entry"},r.a.createElement(x,null,r.a.createElement("h1",{className:"dashboard__title"},r.a.createElement(Be,{label:O.name}),r.a.createElement("div",{className:"small"},O.summary_overall_points," pts \u2014 Rank ",R(O.summary_overall_rank))),void 0!==j&&r.a.createElement(se,{onClick:function(){return l(!0)},label:"Change Team"}))),r.a.createElement("div",{className:"dashboard__widgets dashboard__widgets--split"},r.a.createElement(Ce,null),r.a.createElement(Me,null)),r.a.createElement("div",{className:"app__meta"},r.a.createElement("label",{className:"app__meta__label"},"Sort by"),r.a.createElement(d.a,{options:ot,value:p,onChange:function(e){return _(e)},styles:{container:function(e){return Object(s.a)(Object(s.a)({},e),{},{width:"100%"})},menu:function(e){return Object(s.a)(Object(s.a)({},e),{},{zIndex:20})}}}),r.a.createElement("div",{className:"app__legend"},r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator app__color__indicator--started"}),"Started"),r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator app__color__indicator--benched"}),"Benched"),r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator app__color__indicator--triple"}),"TC"),r.a.createElement("div",{className:"app__color"},r.a.createElement("div",{className:"app__color__indicator"}),"Not Selected"))),r.a.createElement("div",{className:m()("dashboard",{"dashboard--cloaked":!j})},r.a.createElement("div",{className:"dashboard__container",ref:P},r.a.createElement("header",{className:"dashboard__header"},r.a.createElement("span",{className:"dashboard__heading"},"Player"),(null===g||void 0===g?void 0:g.events)&&ee(g.events).filter((function(e){return e.top_element_info.points>0})).map((function(e){return r.a.createElement("span",{className:"dashboard__stat",key:e.id},te(e),w&&w[e.id]&&r.a.createElement("div",null,(t=w[e.id],ne[t]||null)));var t})),r.a.createElement("div",{className:"dashboard__totals"},r.a.createElement("span",{className:"dashboard__stat"},"Selected"),r.a.createElement("span",{className:"dashboard__stat"},"Starting"),r.a.createElement("span",{className:"dashboard__stat"},"Benched"),r.a.createElement("span",{className:"dashboard__stat"},"Points"))),r.a.createElement("ul",{className:"dashboard__list"},h&&g&&function(e,t,n){return Object.entries(e).map((function(e){var a,l=Object(u.a)(e,2),i=l[0],c=l[1];return r.a.createElement("div",{key:i},r.a.createElement("li",{className:"dashboard__category"},r.a.createElement("span",null,null===t||void 0===t||null===(a=t.element_types.find((function(e){return e.id===Number(i)})))||void 0===a?void 0:a.plural_name_short),r.a.createElement("span",null,c.length)),A(c.filter((function(e){return e.data.filter((function(e){return null!==e.multiplier})).length})),(function(e){return ut[n.value](e)})).map((function(e){return r.a.createElement("li",{key:e.element.id,className:"dashboard__item"},r.a.createElement("div",{className:"dashboard__player"},r.a.createElement(C,{id:e.element.id})),r.a.createElement("div",{className:"dashboard__stats"},e.data.map((function(e){return r.a.createElement("span",{key:e.event.id,className:m()("dashboard__stat",{"dashboard__stat--benched":0===e.multiplier,"dashboard__stat--triple":3===e.multiplier,"dashboard__stat--started":e.multiplier})})}))),r.a.createElement("div",{className:"dashboard__totals"},r.a.createElement("span",{className:"dashboard__stat"},H(e)," (",I(H(e)/e.data.length*100),"%)"),r.a.createElement("span",{className:"dashboard__stat"},D(e)," (",I(D(e)/e.data.length*100),"%)"),r.a.createElement("span",{className:"dashboard__stat"},K(e)," (",I(K(e)/e.data.length*100),"%)"),r.a.createElement("span",{className:"dashboard__stat"},r.a.createElement("span",null,U(e)," (",D(e)>0?I(U(e)/D(e)):0," ",r.a.createElement(Te,{metric:"ppg"}),")"))))})))}))}(h,g,p)))),r.a.createElement("div",{className:"dashboard__widgets"},r.a.createElement(Xe,null),r.a.createElement(et,null),r.a.createElement(tt,null),r.a.createElement(nt,{title:"Most Consistent Starters",top:!0}),r.a.createElement(nt,{title:"Most Consistent Bench Players"}),r.a.createElement(Je,null),r.a.createElement(We,null),r.a.createElement(Se,null),r.a.createElement(Ae,null),r.a.createElement(Ge,null),r.a.createElement(Le,null),r.a.createElement(Ue,null),r.a.createElement(Ve,null),r.a.createElement($e,null),r.a.createElement(ze,null),r.a.createElement(Ze,null),r.a.createElement(Qe,null),r.a.createElement(ct,null),r.a.createElement(st,null)),r.a.createElement("div",{className:"dashboard__graphs"},r.a.createElement(rt,null),r.a.createElement(lt,null),r.a.createElement(it,null)),r.a.createElement("div",{className:"app__legal"},r.a.createElement("p",null,"FPL Stats uses data from the official Premier League Fantasy API. This site is not affiliated with the Premier League."))))},dt=n(16),pt=Object(dt.c)({loading:w,bootstrap:P,stats:ye,settings:ce,history:ke,entry:De});n(396);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:Object(b.a)({reducer:pt,middleware:Object(M.a)(Object(b.c)())})},r.a.createElement(mt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.d44a8f58.chunk.js.map